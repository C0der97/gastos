(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function hA(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Dm={exports:{}},$l={};var O0;function fA(){if(O0)return $l;O0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:a,type:r,key:c,ref:s!==void 0?s:null,props:l}}return $l.Fragment=t,$l.jsx=n,$l.jsxs=n,$l}var P0;function dA(){return P0||(P0=1,Dm.exports=fA()),Dm.exports}var bt=dA(),Cm={exports:{}},Mt={};var U0;function mA(){if(U0)return Mt;U0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function k(U,H,ot){this.props=U,this.context=H,this.refs=j,this.updater=ot||P}k.prototype.isReactComponent={},k.prototype.setState=function(U,H){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,H,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function at(){}at.prototype=k.prototype;function Y(U,H,ot){this.props=U,this.context=H,this.refs=j,this.updater=ot||P}var K=Y.prototype=new at;K.constructor=Y,z(K,k.prototype),K.isPureReactComponent=!0;var ut=Array.isArray;function L(){}var M={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(U,H,ot){var et=ot.ref;return{$$typeof:a,type:U,key:H,ref:et!==void 0?et:null,props:ot}}function C(U,H){return A(U.type,H,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===a}function N(U){var H={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ot){return H[ot]})}var I=/\/+/g;function q(U,H){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):H.toString(36)}function J(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(L,L):(U.status="pending",U.then(function(H){U.status==="pending"&&(U.status="fulfilled",U.value=H)},function(H){U.status==="pending"&&(U.status="rejected",U.reason=H)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function R(U,H,ot,et,Z){var gt=typeof U;(gt==="undefined"||gt==="boolean")&&(U=null);var At=!1;if(U===null)At=!0;else switch(gt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(U.$$typeof){case a:case t:At=!0;break;case y:return At=U._init,R(At(U._payload),H,ot,et,Z)}}if(At)return Z=Z(U),At=et===""?"."+q(U,0):et,ut(Z)?(ot="",At!=null&&(ot=At.replace(I,"$&/")+"/"),R(Z,H,ot,"",function(Kt){return Kt})):Z!=null&&(D(Z)&&(Z=C(Z,ot+(Z.key==null||U&&U.key===Z.key?"":(""+Z.key).replace(I,"$&/")+"/")+At)),H.push(Z)),1;At=0;var Ct=et===""?".":et+":";if(ut(U))for(var wt=0;wt<U.length;wt++)et=U[wt],gt=Ct+q(et,wt),At+=R(et,H,ot,gt,Z);else if(wt=w(U),typeof wt=="function")for(U=wt.call(U),wt=0;!(et=U.next()).done;)et=et.value,gt=Ct+q(et,wt++),At+=R(et,H,ot,gt,Z);else if(gt==="object"){if(typeof U.then=="function")return R(J(U),H,ot,et,Z);throw H=String(U),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return At}function x(U,H,ot){if(U==null)return U;var et=[],Z=0;return R(U,et,"","",function(gt){return H.call(ot,gt,Z++)}),et}function nt(U){if(U._status===-1){var H=U._result;H=H(),H.then(function(ot){(U._status===0||U._status===-1)&&(U._status=1,U._result=ot)},function(ot){(U._status===0||U._status===-1)&&(U._status=2,U._result=ot)}),U._status===-1&&(U._status=0,U._result=H)}if(U._status===1)return U._result.default;throw U._result}var Q=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},rt={map:x,forEach:function(U,H,ot){x(U,function(){H.apply(this,arguments)},ot)},count:function(U){var H=0;return x(U,function(){H++}),H},toArray:function(U){return x(U,function(H){return H})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Mt.Activity=_,Mt.Children=rt,Mt.Component=k,Mt.Fragment=n,Mt.Profiler=s,Mt.PureComponent=Y,Mt.StrictMode=r,Mt.Suspense=g,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},Mt.cache=function(U){return function(){return U.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(U,H,ot){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var et=z({},U.props),Z=U.key;if(H!=null)for(gt in H.key!==void 0&&(Z=""+H.key),H)!b.call(H,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&H.ref===void 0||(et[gt]=H[gt]);var gt=arguments.length-2;if(gt===1)et.children=ot;else if(1<gt){for(var At=Array(gt),Ct=0;Ct<gt;Ct++)At[Ct]=arguments[Ct+2];et.children=At}return A(U.type,Z,et)},Mt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Mt.createElement=function(U,H,ot){var et,Z={},gt=null;if(H!=null)for(et in H.key!==void 0&&(gt=""+H.key),H)b.call(H,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(Z[et]=H[et]);var At=arguments.length-2;if(At===1)Z.children=ot;else if(1<At){for(var Ct=Array(At),wt=0;wt<At;wt++)Ct[wt]=arguments[wt+2];Z.children=Ct}if(U&&U.defaultProps)for(et in At=U.defaultProps,At)Z[et]===void 0&&(Z[et]=At[et]);return A(U,gt,Z)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(U){return{$$typeof:d,render:U}},Mt.isValidElement=D,Mt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:nt}},Mt.memo=function(U,H){return{$$typeof:p,type:U,compare:H===void 0?null:H}},Mt.startTransition=function(U){var H=M.T,ot={};M.T=ot;try{var et=U(),Z=M.S;Z!==null&&Z(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(L,Q)}catch(gt){Q(gt)}finally{H!==null&&ot.types!==null&&(H.types=ot.types),M.T=H}},Mt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Mt.use=function(U){return M.H.use(U)},Mt.useActionState=function(U,H,ot){return M.H.useActionState(U,H,ot)},Mt.useCallback=function(U,H){return M.H.useCallback(U,H)},Mt.useContext=function(U){return M.H.useContext(U)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(U,H){return M.H.useDeferredValue(U,H)},Mt.useEffect=function(U,H){return M.H.useEffect(U,H)},Mt.useEffectEvent=function(U){return M.H.useEffectEvent(U)},Mt.useId=function(){return M.H.useId()},Mt.useImperativeHandle=function(U,H,ot){return M.H.useImperativeHandle(U,H,ot)},Mt.useInsertionEffect=function(U,H){return M.H.useInsertionEffect(U,H)},Mt.useLayoutEffect=function(U,H){return M.H.useLayoutEffect(U,H)},Mt.useMemo=function(U,H){return M.H.useMemo(U,H)},Mt.useOptimistic=function(U,H){return M.H.useOptimistic(U,H)},Mt.useReducer=function(U,H,ot){return M.H.useReducer(U,H,ot)},Mt.useRef=function(U){return M.H.useRef(U)},Mt.useState=function(U){return M.H.useState(U)},Mt.useSyncExternalStore=function(U,H,ot){return M.H.useSyncExternalStore(U,H,ot)},Mt.useTransition=function(){return M.H.useTransition()},Mt.version="19.2.3",Mt}var z0;function Ag(){return z0||(z0=1,Cm.exports=mA()),Cm.exports}var wn=Ag();const ph=hA(wn);var xm={exports:{}},tu={},Vm={exports:{}},Mm={};var L0;function gA(){return L0||(L0=1,(function(a){function t(R,x){var nt=R.length;R.push(x);t:for(;0<nt;){var Q=nt-1>>>1,rt=R[Q];if(0<s(rt,x))R[Q]=x,R[nt]=rt,nt=Q;else break t}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var x=R[0],nt=R.pop();if(nt!==x){R[0]=nt;t:for(var Q=0,rt=R.length,U=rt>>>1;Q<U;){var H=2*(Q+1)-1,ot=R[H],et=H+1,Z=R[et];if(0>s(ot,nt))et<rt&&0>s(Z,ot)?(R[Q]=Z,R[et]=nt,Q=et):(R[Q]=ot,R[H]=nt,Q=H);else if(et<rt&&0>s(Z,nt))R[Q]=Z,R[et]=nt,Q=et;else break t}}return x}function s(R,x){var nt=R.sortIndex-x.sortIndex;return nt!==0?nt:R.id-x.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var g=[],p=[],y=1,_=null,E=3,w=!1,P=!1,z=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function K(R){for(var x=n(p);x!==null;){if(x.callback===null)r(p);else if(x.startTime<=R)r(p),x.sortIndex=x.expirationTime,t(g,x);else break;x=n(p)}}function ut(R){if(z=!1,K(R),!P)if(n(g)!==null)P=!0,L||(L=!0,N());else{var x=n(p);x!==null&&J(ut,x.startTime-R)}}var L=!1,M=-1,b=5,A=-1;function C(){return j?!0:!(a.unstable_now()-A<b)}function D(){if(j=!1,L){var R=a.unstable_now();A=R;var x=!0;try{t:{P=!1,z&&(z=!1,at(M),M=-1),w=!0;var nt=E;try{e:{for(K(R),_=n(g);_!==null&&!(_.expirationTime>R&&C());){var Q=_.callback;if(typeof Q=="function"){_.callback=null,E=_.priorityLevel;var rt=Q(_.expirationTime<=R);if(R=a.unstable_now(),typeof rt=="function"){_.callback=rt,K(R),x=!0;break e}_===n(g)&&r(g),K(R)}else r(g);_=n(g)}if(_!==null)x=!0;else{var U=n(p);U!==null&&J(ut,U.startTime-R),x=!1}}break t}finally{_=null,E=nt,w=!1}x=void 0}}finally{x?N():L=!1}}}var N;if(typeof Y=="function")N=function(){Y(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,q=I.port2;I.port1.onmessage=D,N=function(){q.postMessage(null)}}else N=function(){k(D,0)};function J(R,x){M=k(function(){R(a.unstable_now())},x)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(R){R.callback=null},a.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<R?Math.floor(1e3/R):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(R){switch(E){case 1:case 2:case 3:var x=3;break;default:x=E}var nt=E;E=x;try{return R()}finally{E=nt}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(R,x){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var nt=E;E=R;try{return x()}finally{E=nt}},a.unstable_scheduleCallback=function(R,x,nt){var Q=a.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?Q+nt:Q):nt=Q,R){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=nt+rt,R={id:y++,callback:x,priorityLevel:R,startTime:nt,expirationTime:rt,sortIndex:-1},nt>Q?(R.sortIndex=nt,t(p,R),n(g)===null&&R===n(p)&&(z?(at(M),M=-1):z=!0,J(ut,nt-Q))):(R.sortIndex=rt,t(g,R),P||w||(P=!0,L||(L=!0,N()))),R},a.unstable_shouldYield=C,a.unstable_wrapCallback=function(R){var x=E;return function(){var nt=E;E=x;try{return R.apply(this,arguments)}finally{E=nt}}}})(Mm)),Mm}var B0;function pA(){return B0||(B0=1,Vm.exports=gA()),Vm.exports}var Nm={exports:{}},Tn={};var k0;function yA(){if(k0)return Tn;k0=1;var a=Ag();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(g,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:g,containerInfo:p,implementation:y}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(g,p,null,y)},Tn.flushSync=function(g){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=y,r.d.f()}},Tn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Tn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Tn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&r.d.X(g,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Tn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);r.d.L(g,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tn.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Tn.requestFormReset=function(g){r.d.r(g)},Tn.unstable_batchedUpdates=function(g,p){return g(p)},Tn.useFormState=function(g,p,y){return c.H.useFormState(g,p,y)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var j0;function _A(){if(j0)return Nm.exports;j0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nm.exports=yA(),Nm.exports}var q0;function vA(){if(q0)return tu;q0=1;var a=pA(),t=Ag(),n=_A();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(l(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=l(e),i===null)throw Error(r(188));return i!==e?null:e}for(var o=e,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return g(f),e;if(m===u)return g(f),i;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,V=f.child;V;){if(V===o){T=!0,o=f,u=m;break}if(V===u){T=!0,u=f,o=m;break}V=V.sibling}if(!T){for(V=m.child;V;){if(V===o){T=!0,o=m,u=f;break}if(V===u){T=!0,u=m,o=f;break}V=V.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case ut:return"Suspense";case L:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case Y:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case K:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:q(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return q(e(i))}catch{}}return null}var J=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},Q=[],rt=-1;function U(e){return{current:e}}function H(e){0>rt||(e.current=Q[rt],Q[rt]=null,rt--)}function ot(e,i){rt++,Q[rt]=e.current,e.current=i}var et=U(null),Z=U(null),gt=U(null),At=U(null);function Ct(e,i){switch(ot(gt,i),ot(Z,e),ot(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?i0(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=i0(i),e=r0(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(et),ot(et,e)}function wt(){H(et),H(Z),H(gt)}function Kt(e){e.memoizedState!==null&&ot(At,e);var i=et.current,o=r0(i,e.type);i!==o&&(ot(Z,e),ot(et,o))}function ce(e){Z.current===e&&(H(et),H(Z)),At.current===e&&(H(At),Xl._currentValue=nt)}var ve,Nn;function Oe(e){if(ve===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ve=i&&i[1]||"",Nn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+e+Nn}var he=!1;function we(e,i){if(!e||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(lt){var it=lt}Reflect.construct(e,[],ft)}else{try{ft.call()}catch(lt){it=lt}e.call(ft.prototype)}}else{try{throw Error()}catch(lt){it=lt}(ft=e())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(lt){if(lt&&it&&typeof lt.stack=="string")return[lt.stack,it.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],V=m[1];if(T&&V){var B=T.split(`
`),tt=V.split(`
`);for(f=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;f<tt.length&&!tt[f].includes("DetermineComponentFrameRoot");)f++;if(u===B.length||f===tt.length)for(u=B.length-1,f=tt.length-1;1<=u&&0<=f&&B[u]!==tt[f];)f--;for(;1<=u&&0<=f;u--,f--)if(B[u]!==tt[f]){if(u!==1||f!==1)do if(u--,f--,0>f||B[u]!==tt[f]){var ct=`
`+B[u].replace(" at new "," at ");return e.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",e.displayName)),ct}while(1<=u&&0<=f);break}}}finally{he=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Oe(o):""}function te(e,i){switch(e.tag){case 26:case 27:case 5:return Oe(e.type);case 16:return Oe("Lazy");case 13:return e.child!==i&&i!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return we(e.type,!1);case 11:return we(e.type.render,!1);case 1:return we(e.type,!0);case 31:return Oe("Activity");default:return""}}function Wt(e){try{var i="",o=null;do i+=te(e,o),o=e,e=e.return;while(e);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Lt=Object.prototype.hasOwnProperty,Ft=a.unstable_scheduleCallback,ne=a.unstable_cancelCallback,un=a.unstable_shouldYield,Ee=a.unstable_requestPaint,Pt=a.unstable_now,Pe=a.unstable_getCurrentPriorityLevel,On=a.unstable_ImmediatePriority,Ni=a.unstable_UserBlockingPriority,Te=a.unstable_NormalPriority,vi=a.unstable_LowPriority,ke=a.unstable_IdlePriority,vn=a.log,cn=a.unstable_setDisableYieldValue,Ue=null,fe=null;function je(e){if(typeof vn=="function"&&cn(e),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Ue,e)}catch{}}var be=Math.clz32?Math.clz32:Ra,Rs=Math.log,Oi=Math.LN2;function Ra(e){return e>>>=0,e===0?32:31-(Rs(e)/Oi|0)|0}var En=256,or=262144,ie=4194304;function Je(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hn(e,i,o){var u=e.pendingLanes;if(u===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var V=u&134217727;return V!==0?(u=V&~m,u!==0?f=Je(u):(T&=V,T!==0?f=Je(T):o||(o=V&~e,o!==0&&(f=Je(o))))):(V=u&~m,V!==0?f=Je(V):T!==0?f=Je(T):o||(o=u&~e,o!==0&&(f=Je(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function fn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ds(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(){var e=ie;return ie<<=1,(ie&62914560)===0&&(ie=4194304),e}function nn(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Da(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nf(e,i,o,u,f,m){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var V=e.entanglements,B=e.expirationTimes,tt=e.hiddenUpdates;for(o=T&~o;0<o;){var ct=31-be(o),ft=1<<ct;V[ct]=0,B[ct]=-1;var it=tt[ct];if(it!==null)for(tt[ct]=null,ct=0;ct<it.length;ct++){var lt=it[ct];lt!==null&&(lt.lane&=-536870913)}o&=~ft}u!==0&&Ca(e,u,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~i))}function Ca(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-be(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|o&261930}function tl(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var u=31-be(o),f=1<<u;f&i|e[u]&i&&(e[u]|=i),o&=~f}}function el(e,i){var o=i&-i;return o=(o&42)!==0?1:xa(o),(o&(e.suspendedLanes|i))!==0?0:o}function xa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ku(){var e=x.p;return e!==0?e:(e=window.event,e===void 0?32:R0(e.type))}function Ei(e,i){var o=x.p;try{return x.p=e,i()}finally{x.p=o}}var Ti=Math.random().toString(36).slice(2),qe="__reactFiber$"+Ti,rn="__reactProps$"+Ti,Pi="__reactContainer$"+Ti,Cs="__reactEvents$"+Ti,Of="__reactListeners$"+Ti,Xu="__reactHandles$"+Ti,Zu="__reactResources$"+Ti,Ui="__reactMarker$"+Ti;function xs(e){delete e[qe],delete e[rn],delete e[Cs],delete e[Of],delete e[Xu]}function zi(e){var i=e[qe];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Pi]||o[qe]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=h0(e);e!==null;){if(o=e[qe])return o;e=h0(e)}return i}e=o,o=e.parentNode}return null}function ii(e){if(e=e[qe]||e[Pi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Li(e){var i=e[Zu];return i||(i=e[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Fe(e){e[Ui]=!0}var nl=new Set,il={};function Bi(e,i){ki(e,i),ki(e+"Capture",i)}function ki(e,i){for(il[e]=i,e=0;e<i.length;e++)nl.add(i[e])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},sl={};function Wu(e){return Lt.call(sl,e)?!0:Lt.call(al,e)?!1:rl.test(e)?sl[e]=!0:(al[e]=!0,!1)}function Vs(e,i,o){if(Wu(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Gn(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function He(e,i,o,u){if(u===null)e.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+u)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ol(e,i,o){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(e,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function re(e){if(!e._valueTracker){var i=Nr(e)?"checked":"value";e._valueTracker=ol(e,i,""+e[i])}}function Va(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return e&&(u=Nr(e)?e.checked?"true":"false":e.value),e=u,e!==o?(i.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ma=/[\n"\\]/g;function Pn(e){return e.replace(Ma,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ms(e,i,o,u,f,m,T,V){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+an(i)):e.value!==""+an(i)&&(e.value=""+an(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?ll(e,T,an(i)):o!=null?ll(e,T,an(o)):u!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?e.name=""+an(V):e.removeAttribute("name")}function Ju(e,i,o,u,f,m,T,V){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){re(e);return}o=o!=null?""+an(o):"",i=i!=null?""+an(i):o,V||i===e.value||(e.value=i),e.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=V?e.checked:!!u,e.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),re(e)}function ll(e,i,o){i==="number"&&ji(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Or(e,i,o,u){if(e=e.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=i.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&u&&(e[o].defaultSelected=!0)}else{for(o=""+an(o),i=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function $u(e,i,o){if(i!=null&&(i=""+an(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+an(o):""}function Pr(e,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(J(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=an(i),e.defaultValue=o,u=e.textContent,u===o&&u!==""&&u!==null&&(e.value=u),re(e)}function Un(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var tc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(e,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,o):typeof o!="number"||o===0||tc.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function cl(e,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&ul(e,f,u)}else for(var m in i)i.hasOwnProperty(m)&&ul(e,m,i[m])}function Ns(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(e){return Ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bi(){}var hl=null;function ri(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zr=null,qi=null;function Na(e){var i=ii(e);if(i&&(e=i.stateNode)){var o=e[rn]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ms(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==e&&u.form===e.form){var f=u[rn]||null;if(!f)throw Error(r(90));Ms(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===e.form&&Va(u)}break t;case"textarea":$u(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Or(e,!!o.multiple,i,!1)}}}var Ps=!1;function Lr(e,i,o){if(Ps)return e(i,o);Ps=!0;try{var u=e(i);return u}finally{if(Ps=!1,(zr!==null||qi!==null)&&(Kc(),zr&&(i=zr,e=qi,qi=zr=null,Na(i),e)))for(i=0;i<e.length;i++)Na(e[i])}}function Ai(e,i){var o=e.stateNode;if(o===null)return null;var u=o[rn]||null;if(u===null)return null;o=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=!1;if(ai)try{var de={};Object.defineProperty(de,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{Oa=!1}var Fi=null,fl=null,Pa=null;function dl(){if(Pa)return Pa;var e,i=fl,o=i.length,u,f="value"in Fi?Fi.value:Fi.textContent,m=f.length;for(e=0;e<o&&i[e]===f[e];e++);var T=o-e;for(u=1;u<=T&&i[o-u]===f[m-u];u++);return Pa=f.slice(e,1<u?1-u:void 0)}function Ua(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function Si(){return!1}function dn(e){function i(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var V in e)e.hasOwnProperty(V)&&(o=e[V],this[V]=o?o(m):m[V]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ur:Si,this.isPropagationStopped=Si,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=dn(cr),Br=_({},cr,{view:0,detail:0}),ml=dn(Br),kr,Us,Gi,zs=_({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(kr=e.screenX-Gi.screenX,Us=e.screenY-Gi.screenY):Us=kr=0,Gi=e),kr)},movementY:function(e){return"movementY"in e?e.movementY:Us}}),gl=dn(zs),za=_({},zs,{dataTransfer:0}),nc=dn(za),ic=_({},Br,{relatedTarget:0}),La=dn(ic),pl=_({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=dn(pl),Ls=_({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ac=dn(Ls),sc=_({},cr,{data:0}),Qi=dn(sc),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uc[e])?!!i[e]:!1}function jr(){return cc}var Rn=_({},Br,{key:function(e){if(e.key){var i=oc[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hc=dn(Rn),fc=_({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=dn(fc),h=_({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),v=dn(h),S=_({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=dn(S),W=_({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),st=dn(W),pt=_({},cr,{newState:0,oldState:0}),Nt=dn(pt),ze=[9,13,27,32],Jt=ai&&"CompositionEvent"in window,Ie=null;ai&&"documentMode"in document&&(Ie=document.documentMode);var si=ai&&"TextEvent"in window&&!Ie,Yi=ai&&(!Jt||Ie&&8<Ie&&11>=Ie),wi=" ",Ii=!1;function Ba(e,i){switch(e){case"keyup":return ze.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ks=!1;function Pb(e,i){switch(e){case"compositionend":return Bs(i);case"keypress":return i.which!==32?null:(Ii=!0,wi);case"textInput":return e=i.data,e===wi&&Ii?null:e;default:return null}}function Ub(e,i){if(ks)return e==="compositionend"||!Jt&&Ba(e,i)?(e=dl(),Pa=fl=Fi=null,ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yi&&i.locale!=="ko"?null:i.data;default:return null}}var zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!zb[e.type]:i==="textarea"}function gp(e,i,o,u){zr?qi?qi.push(u):qi=[u]:zr=u,i=eh(i,"onChange"),0<i.length&&(o=new Hi("onChange","change",null,o,u),e.push({event:o,listeners:i}))}var yl=null,_l=null;function Lb(e){W_(e,0)}function dc(e){var i=Hn(e);if(Va(i))return e}function pp(e,i){if(e==="change")return i}var yp=!1;if(ai){var Pf;if(ai){var Uf="oninput"in document;if(!Uf){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),Uf=typeof _p.oninput=="function"}Pf=Uf}else Pf=!1;yp=Pf&&(!document.documentMode||9<document.documentMode)}function vp(){yl&&(yl.detachEvent("onpropertychange",Ep),_l=yl=null)}function Ep(e){if(e.propertyName==="value"&&dc(_l)){var i=[];gp(i,_l,e,ri(e)),Lr(Lb,i)}}function Bb(e,i,o){e==="focusin"?(vp(),yl=i,_l=o,yl.attachEvent("onpropertychange",Ep)):e==="focusout"&&vp()}function kb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dc(_l)}function jb(e,i){if(e==="click")return dc(i)}function qb(e,i){if(e==="input"||e==="change")return dc(i)}function Fb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Qn=typeof Object.is=="function"?Object.is:Fb;function vl(e,i){if(Qn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Lt.call(i,f)||!Qn(e[f],i[f]))return!1}return!0}function Tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,i){var o=Tp(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=i&&u>=i)return{node:o,offset:i-e};e=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Tp(o)}}function Ap(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ap(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Sp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ji(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ji(e.document)}return i}function zf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Hb=ai&&"documentMode"in document&&11>=document.documentMode,js=null,Lf=null,El=null,Bf=!1;function wp(e,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bf||js==null||js!==ji(u)||(u=js,"selectionStart"in u&&zf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),El&&vl(El,u)||(El=u,u=eh(Lf,"onSelect"),0<u.length&&(i=new Hi("onSelect","select",null,i,o),e.push({event:i,listeners:u}),i.target=js)))}function ka(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var qs={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},kf={},Ip={};ai&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function ja(e){if(kf[e])return kf[e];if(!qs[e])return e;var i=qs[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ip)return kf[e]=i[o];return e}var Rp=ja("animationend"),Dp=ja("animationiteration"),Cp=ja("animationstart"),Gb=ja("transitionrun"),Qb=ja("transitionstart"),Yb=ja("transitioncancel"),xp=ja("transitionend"),Vp=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function Ri(e,i){Vp.set(e,i),Bi(i,[e])}var mc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oi=[],Fs=0,qf=0;function gc(){for(var e=Fs,i=qf=Fs=0;i<e;){var o=oi[i];oi[i++]=null;var u=oi[i];oi[i++]=null;var f=oi[i];oi[i++]=null;var m=oi[i];if(oi[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&Mp(o,f,m)}}function pc(e,i,o,u){oi[Fs++]=e,oi[Fs++]=i,oi[Fs++]=o,oi[Fs++]=u,qf|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Ff(e,i,o,u){return pc(e,i,o,u),yc(e)}function qa(e,i){return pc(e,null,null,i),yc(e)}function Mp(e,i,o){e.lanes|=o;var u=e.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=e.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&i!==null&&(f=31-be(o),e=m.hiddenUpdates,u=e[f],u===null?e[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function yc(e){if(50<ql)throw ql=0,Jd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Hs={};function Kb(e,i,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,i,o,u){return new Kb(e,i,o,u)}function Hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fr(e,i){var o=e.alternate;return o===null?(o=Yn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Np(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function _c(e,i,o,u,f,m){var T=0;if(u=e,typeof e=="function")Hf(e)&&(T=1);else if(typeof e=="string")T=$2(e,o,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case A:return e=Yn(31,o,i,f),e.elementType=A,e.lanes=m,e;case z:return Fa(o.children,f,m,i);case j:T=8,f|=24;break;case k:return e=Yn(12,o,i,f|2),e.elementType=k,e.lanes=m,e;case ut:return e=Yn(13,o,i,f),e.elementType=ut,e.lanes=m,e;case L:return e=Yn(19,o,i,f),e.elementType=L,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:T=10;break t;case at:T=9;break t;case K:T=11;break t;case M:T=14;break t;case b:T=16,u=null;break t}T=29,o=Error(r(130,e===null?"null":typeof e,"")),u=null}return i=Yn(T,o,i,f),i.elementType=e,i.type=u,i.lanes=m,i}function Fa(e,i,o,u){return e=Yn(7,e,u,i),e.lanes=o,e}function Gf(e,i,o){return e=Yn(6,e,null,i),e.lanes=o,e}function Op(e){var i=Yn(18,null,null,0);return i.stateNode=e,i}function Qf(e,i,o){return i=Yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Pp=new WeakMap;function li(e,i){if(typeof e=="object"&&e!==null){var o=Pp.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Wt(i)},Pp.set(e,i),i)}return{value:e,source:i,stack:Wt(i)}}var Gs=[],Qs=0,vc=null,Tl=0,ui=[],ci=0,qr=null,Ki=1,Xi="";function dr(e,i){Gs[Qs++]=Tl,Gs[Qs++]=vc,vc=e,Tl=i}function Up(e,i,o){ui[ci++]=Ki,ui[ci++]=Xi,ui[ci++]=qr,qr=e;var u=Ki;e=Xi;var f=32-be(u)-1;u&=~(1<<f),o+=1;var m=32-be(i)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Ki=1<<32-be(i)+f|o<<f|u,Xi=m+e}else Ki=1<<m|o<<f|u,Xi=e}function Yf(e){e.return!==null&&(dr(e,1),Up(e,1,0))}function Kf(e){for(;e===vc;)vc=Gs[--Qs],Gs[Qs]=null,Tl=Gs[--Qs],Gs[Qs]=null;for(;e===qr;)qr=ui[--ci],ui[ci]=null,Xi=ui[--ci],ui[ci]=null,Ki=ui[--ci],ui[ci]=null}function zp(e,i){ui[ci++]=Ki,ui[ci++]=Xi,ui[ci++]=qr,Ki=i.id,Xi=i.overflow,qr=e}var mn=null,Ae=null,Ht=!1,Fr=null,hi=!1,Xf=Error(r(519));function Hr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(li(i,e)),Xf}function Lp(e){var i=e.stateNode,o=e.type,u=e.memoizedProps;switch(i[qe]=e,i[rn]=u,o){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(o=0;o<Hl.length;o++)kt(Hl[o],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),Ju(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),Pr(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||e0(i.textContent,o)?(u.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),u.onScroll!=null&&kt("scroll",i),u.onScrollEnd!=null&&kt("scrollend",i),u.onClick!=null&&(i.onclick=bi),i=!0):i=!1,i||Hr(e,!0)}function Bp(e){for(mn=e.return;mn;)switch(mn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:mn=mn.return}}function Ys(e){if(e!==mn)return!1;if(!Ht)return Bp(e),Ht=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||dm(e.type,e.memoizedProps)),o=!o),o&&Ae&&Hr(e),Bp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ae=c0(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ae=c0(e)}else i===27?(i=Ae,ra(e.type)?(e=_m,_m=null,Ae=e):Ae=i):Ae=mn?di(e.stateNode.nextSibling):null;return!0}function Ha(){Ae=mn=null,Ht=!1}function Zf(){var e=Fr;return e!==null&&(kn===null?kn=e:kn.push.apply(kn,e),Fr=null),e}function bl(e){Fr===null?Fr=[e]:Fr.push(e)}var Wf=U(null),Ga=null,mr=null;function Gr(e,i,o){ot(Wf,i._currentValue),i._currentValue=o}function gr(e){e._currentValue=Wf.current,H(Wf)}function Jf(e,i,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===o)break;e=e.return}}function $f(e,i,o,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var V=m;m=f;for(var B=0;B<i.length;B++)if(V.context===i[B]){m.lanes|=o,V=m.alternate,V!==null&&(V.lanes|=o),Jf(m.return,o,e),u||(T=null);break t}m=V.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Jf(T,o,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ks(e,i,o,u){e=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var V=f.type;Qn(f.pendingProps.value,T.value)||(e!==null?e.push(V):e=[V])}}else if(f===At.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}f=f.return}e!==null&&$f(i,e,o,u),i.flags|=262144}function Ec(e){for(e=e.firstContext;e!==null;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qa(e){Ga=e,mr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gn(e){return kp(Ga,e)}function Tc(e,i){return Ga===null&&Qa(e),kp(e,i)}function kp(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},mr===null){if(e===null)throw Error(r(308));mr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else mr=mr.next=i;return o}var Xb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Zb=a.unstable_scheduleCallback,Wb=a.unstable_NormalPriority,Ge={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new Xb,data:new Map,refCount:0}}function Al(e){e.refCount--,e.refCount===0&&Zb(Wb,function(){e.controller.abort()})}var Sl=null,ed=0,Xs=0,Zs=null;function Jb(e,i){if(Sl===null){var o=Sl=[];ed=0,Xs=rm(),Zs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ed++,i.then(jp,jp),i}function jp(){if(--ed===0&&Sl!==null){Zs!==null&&(Zs.status="fulfilled");var e=Sl;Sl=null,Xs=0,Zs=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function $b(e,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var qp=R.S;R.S=function(e,i){w_=Pt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jb(e,i),qp!==null&&qp(e,i)};var Ya=U(null);function nd(){var e=Ya.current;return e!==null?e:_e.pooledCache}function bc(e,i){i===null?ot(Ya,Ya.current):ot(Ya,i.pool)}function Fp(){var e=nd();return e===null?null:{parent:Ge._currentValue,pool:e}}var Ws=Error(r(460)),id=Error(r(474)),Ac=Error(r(542)),Sc={then:function(){}};function Hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gp(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(bi,bi),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e;default:if(typeof i.status=="string")i.then(bi,bi);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e}throw Xa=i,Ws}}function Ka(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xa=o,Ws):o}}var Xa=null;function Qp(){if(Xa===null)throw Error(r(459));var e=Xa;return Xa=null,e}function Yp(e){if(e===Ws||e===Ac)throw Error(r(483))}var Js=null,wl=0;function wc(e){var i=wl;return wl+=1,Js===null&&(Js=[]),Gp(Js,e,i)}function Il(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ic(e,i){throw i.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Kp(e){function i(G,F){if(e){var $=G.deletions;$===null?(G.deletions=[F],G.flags|=16):$.push(F)}}function o(G,F){if(!e)return null;for(;F!==null;)i(G,F),F=F.sibling;return null}function u(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function f(G,F){return G=fr(G,F),G.index=0,G.sibling=null,G}function m(G,F,$){return G.index=$,e?($=G.alternate,$!==null?($=$.index,$<F?(G.flags|=67108866,F):$):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function T(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function V(G,F,$,ht){return F===null||F.tag!==6?(F=Gf($,G.mode,ht),F.return=G,F):(F=f(F,$),F.return=G,F)}function B(G,F,$,ht){var It=$.type;return It===z?ct(G,F,$.props.children,ht,$.key):F!==null&&(F.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===b&&Ka(It)===F.type)?(F=f(F,$.props),Il(F,$),F.return=G,F):(F=_c($.type,$.key,$.props,null,G.mode,ht),Il(F,$),F.return=G,F)}function tt(G,F,$,ht){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=Qf($,G.mode,ht),F.return=G,F):(F=f(F,$.children||[]),F.return=G,F)}function ct(G,F,$,ht,It){return F===null||F.tag!==7?(F=Fa($,G.mode,ht,It),F.return=G,F):(F=f(F,$),F.return=G,F)}function ft(G,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Gf(""+F,G.mode,$),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return $=_c(F.type,F.key,F.props,null,G.mode,$),Il($,F),$.return=G,$;case P:return F=Qf(F,G.mode,$),F.return=G,F;case b:return F=Ka(F),ft(G,F,$)}if(J(F)||N(F))return F=Fa(F,G.mode,$,null),F.return=G,F;if(typeof F.then=="function")return ft(G,wc(F),$);if(F.$$typeof===Y)return ft(G,Tc(G,F),$);Ic(G,F)}return null}function it(G,F,$,ht){var It=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return It!==null?null:V(G,F,""+$,ht);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return $.key===It?B(G,F,$,ht):null;case P:return $.key===It?tt(G,F,$,ht):null;case b:return $=Ka($),it(G,F,$,ht)}if(J($)||N($))return It!==null?null:ct(G,F,$,ht,null);if(typeof $.then=="function")return it(G,F,wc($),ht);if($.$$typeof===Y)return it(G,F,Tc(G,$),ht);Ic(G,$)}return null}function lt(G,F,$,ht,It){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return G=G.get($)||null,V(F,G,""+ht,It);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case w:return G=G.get(ht.key===null?$:ht.key)||null,B(F,G,ht,It);case P:return G=G.get(ht.key===null?$:ht.key)||null,tt(F,G,ht,It);case b:return ht=Ka(ht),lt(G,F,$,ht,It)}if(J(ht)||N(ht))return G=G.get($)||null,ct(F,G,ht,It,null);if(typeof ht.then=="function")return lt(G,F,$,wc(ht),It);if(ht.$$typeof===Y)return lt(G,F,$,Tc(F,ht),It);Ic(F,ht)}return null}function vt(G,F,$,ht){for(var It=null,Xt=null,Tt=F,Ut=F=0,qt=null;Tt!==null&&Ut<$.length;Ut++){Tt.index>Ut?(qt=Tt,Tt=null):qt=Tt.sibling;var Zt=it(G,Tt,$[Ut],ht);if(Zt===null){Tt===null&&(Tt=qt);break}e&&Tt&&Zt.alternate===null&&i(G,Tt),F=m(Zt,F,Ut),Xt===null?It=Zt:Xt.sibling=Zt,Xt=Zt,Tt=qt}if(Ut===$.length)return o(G,Tt),Ht&&dr(G,Ut),It;if(Tt===null){for(;Ut<$.length;Ut++)Tt=ft(G,$[Ut],ht),Tt!==null&&(F=m(Tt,F,Ut),Xt===null?It=Tt:Xt.sibling=Tt,Xt=Tt);return Ht&&dr(G,Ut),It}for(Tt=u(Tt);Ut<$.length;Ut++)qt=lt(Tt,G,Ut,$[Ut],ht),qt!==null&&(e&&qt.alternate!==null&&Tt.delete(qt.key===null?Ut:qt.key),F=m(qt,F,Ut),Xt===null?It=qt:Xt.sibling=qt,Xt=qt);return e&&Tt.forEach(function(ua){return i(G,ua)}),Ht&&dr(G,Ut),It}function Dt(G,F,$,ht){if($==null)throw Error(r(151));for(var It=null,Xt=null,Tt=F,Ut=F=0,qt=null,Zt=$.next();Tt!==null&&!Zt.done;Ut++,Zt=$.next()){Tt.index>Ut?(qt=Tt,Tt=null):qt=Tt.sibling;var ua=it(G,Tt,Zt.value,ht);if(ua===null){Tt===null&&(Tt=qt);break}e&&Tt&&ua.alternate===null&&i(G,Tt),F=m(ua,F,Ut),Xt===null?It=ua:Xt.sibling=ua,Xt=ua,Tt=qt}if(Zt.done)return o(G,Tt),Ht&&dr(G,Ut),It;if(Tt===null){for(;!Zt.done;Ut++,Zt=$.next())Zt=ft(G,Zt.value,ht),Zt!==null&&(F=m(Zt,F,Ut),Xt===null?It=Zt:Xt.sibling=Zt,Xt=Zt);return Ht&&dr(G,Ut),It}for(Tt=u(Tt);!Zt.done;Ut++,Zt=$.next())Zt=lt(Tt,G,Ut,Zt.value,ht),Zt!==null&&(e&&Zt.alternate!==null&&Tt.delete(Zt.key===null?Ut:Zt.key),F=m(Zt,F,Ut),Xt===null?It=Zt:Xt.sibling=Zt,Xt=Zt);return e&&Tt.forEach(function(cA){return i(G,cA)}),Ht&&dr(G,Ut),It}function pe(G,F,$,ht){if(typeof $=="object"&&$!==null&&$.type===z&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case w:t:{for(var It=$.key;F!==null;){if(F.key===It){if(It=$.type,It===z){if(F.tag===7){o(G,F.sibling),ht=f(F,$.props.children),ht.return=G,G=ht;break t}}else if(F.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===b&&Ka(It)===F.type){o(G,F.sibling),ht=f(F,$.props),Il(ht,$),ht.return=G,G=ht;break t}o(G,F);break}else i(G,F);F=F.sibling}$.type===z?(ht=Fa($.props.children,G.mode,ht,$.key),ht.return=G,G=ht):(ht=_c($.type,$.key,$.props,null,G.mode,ht),Il(ht,$),ht.return=G,G=ht)}return T(G);case P:t:{for(It=$.key;F!==null;){if(F.key===It)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){o(G,F.sibling),ht=f(F,$.children||[]),ht.return=G,G=ht;break t}else{o(G,F);break}else i(G,F);F=F.sibling}ht=Qf($,G.mode,ht),ht.return=G,G=ht}return T(G);case b:return $=Ka($),pe(G,F,$,ht)}if(J($))return vt(G,F,$,ht);if(N($)){if(It=N($),typeof It!="function")throw Error(r(150));return $=It.call($),Dt(G,F,$,ht)}if(typeof $.then=="function")return pe(G,F,wc($),ht);if($.$$typeof===Y)return pe(G,F,Tc(G,$),ht);Ic(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(o(G,F.sibling),ht=f(F,$),ht.return=G,G=ht):(o(G,F),ht=Gf($,G.mode,ht),ht.return=G,G=ht),T(G)):o(G,F)}return function(G,F,$,ht){try{wl=0;var It=pe(G,F,$,ht);return Js=null,It}catch(Tt){if(Tt===Ws||Tt===Ac)throw Tt;var Xt=Yn(29,Tt,null,G.mode);return Xt.lanes=ht,Xt.return=G,Xt}}}var Za=Kp(!0),Xp=Kp(!1),Qr=!1;function rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(e,i,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=yc(e),Mp(e,null,o),i}return pc(e,u,i,o),yc(e)}function Rl(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,o|=u,i.lanes=o,tl(e,o)}}function sd(e,i){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var od=!1;function Dl(){if(od){var e=Zs;if(e!==null)throw e}}function Cl(e,i,o,u){od=!1;var f=e.updateQueue;Qr=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,V=f.shared.pending;if(V!==null){f.shared.pending=null;var B=V,tt=B.next;B.next=null,T===null?m=tt:T.next=tt,T=B;var ct=e.alternate;ct!==null&&(ct=ct.updateQueue,V=ct.lastBaseUpdate,V!==T&&(V===null?ct.firstBaseUpdate=tt:V.next=tt,ct.lastBaseUpdate=B))}if(m!==null){var ft=f.baseState;T=0,ct=tt=B=null,V=m;do{var it=V.lane&-536870913,lt=it!==V.lane;if(lt?(jt&it)===it:(u&it)===it){it!==0&&it===Xs&&(od=!0),ct!==null&&(ct=ct.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});t:{var vt=e,Dt=V;it=i;var pe=o;switch(Dt.tag){case 1:if(vt=Dt.payload,typeof vt=="function"){ft=vt.call(pe,ft,it);break t}ft=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Dt.payload,it=typeof vt=="function"?vt.call(pe,ft,it):vt,it==null)break t;ft=_({},ft,it);break t;case 2:Qr=!0}}it=V.callback,it!==null&&(e.flags|=64,lt&&(e.flags|=8192),lt=f.callbacks,lt===null?f.callbacks=[it]:lt.push(it))}else lt={lane:it,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ct===null?(tt=ct=lt,B=ft):ct=ct.next=lt,T|=it;if(V=V.next,V===null){if(V=f.shared.pending,V===null)break;lt=V,V=lt.next,lt.next=null,f.lastBaseUpdate=lt,f.shared.pending=null}}while(!0);ct===null&&(B=ft),f.baseState=B,f.firstBaseUpdate=tt,f.lastBaseUpdate=ct,m===null&&(f.shared.lanes=0),$r|=T,e.lanes=T,e.memoizedState=ft}}function Zp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Wp(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Zp(o[e],i)}var $s=U(null),Rc=U(0);function Jp(e,i){e=Sr,ot(Rc,e),ot($s,i),Sr=e|i.baseLanes}function ld(){ot(Rc,Sr),ot($s,$s.current)}function ud(){Sr=Rc.current,H($s),H(Rc)}var Kn=U(null),fi=null;function Xr(e){var i=e.alternate;ot(Le,Le.current&1),ot(Kn,e),fi===null&&(i===null||$s.current!==null||i.memoizedState!==null)&&(fi=e)}function cd(e){ot(Le,Le.current),ot(Kn,e),fi===null&&(fi=e)}function $p(e){e.tag===22?(ot(Le,Le.current),ot(Kn,e),fi===null&&(fi=e)):Zr()}function Zr(){ot(Le,Le.current),ot(Kn,Kn.current)}function Xn(e){H(Kn),fi===e&&(fi=null),H(Le)}var Le=U(0);function Dc(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||pm(o)||ym(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pr=0,Ot=null,me=null,Qe=null,Cc=!1,to=!1,Wa=!1,xc=0,xl=0,eo=null,t2=0;function Ve(){throw Error(r(321))}function hd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Qn(e[o],i[o]))return!1;return!0}function fd(e,i,o,u,f,m){return pr=m,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=e===null||e.memoizedState===null?Uy:Rd,Wa=!1,m=o(u,f),Wa=!1,to&&(m=ey(i,o,u,f)),ty(e),m}function ty(e){R.H=Nl;var i=me!==null&&me.next!==null;if(pr=0,Qe=me=Ot=null,Cc=!1,xl=0,eo=null,i)throw Error(r(300));e===null||Ye||(e=e.dependencies,e!==null&&Ec(e)&&(Ye=!0))}function ey(e,i,o,u){Ot=e;var f=0;do{if(to&&(eo=null),xl=0,to=!1,25<=f)throw Error(r(301));if(f+=1,Qe=me=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=zy,m=i(o,u)}while(to);return m}function e2(){var e=R.H,i=e.useState()[0];return i=typeof i.then=="function"?Vl(i):i,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(Ot.flags|=1024),i}function dd(){var e=xc!==0;return xc=0,e}function md(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function gd(e){if(Cc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Cc=!1}pr=0,Qe=me=Ot=null,to=!1,xl=xc=0,eo=null}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ot.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Be(){if(me===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var i=Qe===null?Ot.memoizedState:Qe.next;if(i!==null)Qe=i,me=e;else{if(e===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Qe===null?Ot.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(e){var i=xl;return xl+=1,eo===null&&(eo=[]),e=Gp(eo,e,i),i=Ot,(Qe===null?i.memoizedState:Qe.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?Uy:Rd),e}function Mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vl(e);if(e.$$typeof===Y)return gn(e)}throw Error(r(438,String(e)))}function pd(e){var i=null,o=Ot.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Vc(),Ot.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),u=0;u<e;u++)o[u]=C;return i.index++,o}function yr(e,i){return typeof i=="function"?i(e):i}function Nc(e){var i=Be();return yd(i,me,e)}function yd(e,i,o){var u=e.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=e.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,u.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{i=f.next;var V=T=null,B=null,tt=i,ct=!1;do{var ft=tt.lane&-536870913;if(ft!==tt.lane?(jt&ft)===ft:(pr&ft)===ft){var it=tt.revertLane;if(it===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),ft===Xs&&(ct=!0);else if((pr&it)===it){tt=tt.next,it===Xs&&(ct=!0);continue}else ft={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},B===null?(V=B=ft,T=m):B=B.next=ft,Ot.lanes|=it,$r|=it;ft=tt.action,Wa&&o(m,ft),m=tt.hasEagerState?tt.eagerState:o(m,ft)}else it={lane:ft,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},B===null?(V=B=it,T=m):B=B.next=it,Ot.lanes|=ft,$r|=ft;tt=tt.next}while(tt!==null&&tt!==i);if(B===null?T=m:B.next=V,!Qn(m,e.memoizedState)&&(Ye=!0,ct&&(o=Zs,o!==null)))throw o;e.memoizedState=m,e.baseState=T,e.baseQueue=B,u.lastRenderedState=m}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function _d(e){var i=Be(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);Qn(m,i.memoizedState)||(Ye=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function ny(e,i,o){var u=Ot,f=Be(),m=Ht;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=i();var T=!Qn((me||f).memoizedState,o);if(T&&(f.memoizedState=o,Ye=!0),f=f.queue,Td(ay.bind(null,u,f,e),[e]),f.getSnapshot!==i||T||Qe!==null&&Qe.memoizedState.tag&1){if(u.flags|=2048,no(9,{destroy:void 0},ry.bind(null,u,f,o,i),null),_e===null)throw Error(r(349));m||(pr&127)!==0||iy(u,i,o)}return o}function iy(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Ot.updateQueue,i===null?(i=Vc(),Ot.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function ry(e,i,o,u){i.value=o,i.getSnapshot=u,sy(i)&&oy(e)}function ay(e,i,o){return o(function(){sy(i)&&oy(e)})}function sy(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Qn(e,o)}catch{return!0}}function oy(e){var i=qa(e,2);i!==null&&jn(i,e,2)}function vd(e){var i=Dn();if(typeof e=="function"){var o=e;if(e=o(),Wa){je(!0);try{o()}finally{je(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},i}function ly(e,i,o,u){return e.baseState=o,yd(e,me,typeof u=="function"?u:yr)}function n2(e,i,o,u,f){if(Uc(e))throw Error(r(485));if(e=i.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};R.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,uy(i,m)):(m.next=o.next,i.pending=o.next=m)}}function uy(e,i){var o=i.action,u=i.payload,f=e.state;if(i.isTransition){var m=R.T,T={};R.T=T;try{var V=o(f,u),B=R.S;B!==null&&B(T,V),cy(e,i,V)}catch(tt){Ed(e,i,tt)}finally{m!==null&&T.types!==null&&(m.types=T.types),R.T=m}}else try{m=o(f,u),cy(e,i,m)}catch(tt){Ed(e,i,tt)}}function cy(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){hy(e,i,u)},function(u){return Ed(e,i,u)}):hy(e,i,o)}function hy(e,i,o){i.status="fulfilled",i.value=o,fy(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,uy(e,o)))}function Ed(e,i,o){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,fy(i),i=i.next;while(i!==u)}e.action=null}function fy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function dy(e,i){return i}function my(e,i){if(Ht){var o=_e.formState;if(o!==null){t:{var u=Ot;if(Ht){if(Ae){e:{for(var f=Ae,m=hi;f.nodeType!==8;){if(!m){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ae=di(f.nextSibling),u=f.data==="F!";break t}}Hr(u)}u=!1}u&&(i=o[0])}}return o=Dn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},o.queue=u,o=Ny.bind(null,Ot,u),u.dispatch=o,u=vd(!1),m=Id.bind(null,Ot,!1,u.queue),u=Dn(),f={state:i,dispatch:null,action:e,pending:null},u.queue=f,o=n2.bind(null,Ot,f,m,o),f.dispatch=o,u.memoizedState=e,[i,o,!1]}function gy(e){var i=Be();return py(i,me,e)}function py(e,i,o){if(i=yd(e,i,dy)[0],e=Nc(yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Vl(i)}catch(T){throw T===Ws?Ac:T}else u=i;i=Be();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(Ot.flags|=2048,no(9,{destroy:void 0},i2.bind(null,f,o),null)),[u,m,e]}function i2(e,i){e.action=i}function yy(e){var i=Be(),o=me;if(o!==null)return py(i,o,e);Be(),i=i.memoizedState,o=Be();var u=o.queue.dispatch;return o.memoizedState=e,[i,u,!1]}function no(e,i,o,u){return e={tag:e,create:o,deps:u,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=Vc(),Ot.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,i.lastEffect=e),e}function _y(){return Be().memoizedState}function Oc(e,i,o,u){var f=Dn();Ot.flags|=e,f.memoizedState=no(1|i,{destroy:void 0},o,u===void 0?null:u)}function Pc(e,i,o,u){var f=Be();u=u===void 0?null:u;var m=f.memoizedState.inst;me!==null&&u!==null&&hd(u,me.memoizedState.deps)?f.memoizedState=no(i,m,o,u):(Ot.flags|=e,f.memoizedState=no(1|i,m,o,u))}function vy(e,i){Oc(8390656,8,e,i)}function Td(e,i){Pc(2048,8,e,i)}function r2(e){Ot.flags|=4;var i=Ot.updateQueue;if(i===null)i=Vc(),Ot.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function Ey(e){var i=Be().memoizedState;return r2({ref:i,nextImpl:e}),function(){if(($t&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ty(e,i){return Pc(4,2,e,i)}function by(e,i){return Pc(4,4,e,i)}function Ay(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Sy(e,i,o){o=o!=null?o.concat([e]):null,Pc(4,4,Ay.bind(null,i,e),o)}function bd(){}function wy(e,i){var o=Be();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&hd(i,u[1])?u[0]:(o.memoizedState=[e,i],e)}function Iy(e,i){var o=Be();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&hd(i,u[1]))return u[0];if(u=e(),Wa){je(!0);try{e()}finally{je(!1)}}return o.memoizedState=[u,i],u}function Ad(e,i,o){return o===void 0||(pr&1073741824)!==0&&(jt&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=R_(),Ot.lanes|=e,$r|=e,o)}function Ry(e,i,o,u){return Qn(o,i)?o:$s.current!==null?(e=Ad(e,o,u),Qn(e,i)||(Ye=!0),e):(pr&42)===0||(pr&1073741824)!==0&&(jt&261930)===0?(Ye=!0,e.memoizedState=o):(e=R_(),Ot.lanes|=e,$r|=e,i)}function Dy(e,i,o,u,f){var m=x.p;x.p=m!==0&&8>m?m:8;var T=R.T,V={};R.T=V,Id(e,!1,i,o);try{var B=f(),tt=R.S;if(tt!==null&&tt(V,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ct=$b(B,u);Ml(e,i,ct,Jn(e))}else Ml(e,i,u,Jn(e))}catch(ft){Ml(e,i,{then:function(){},status:"rejected",reason:ft},Jn())}finally{x.p=m,T!==null&&V.types!==null&&(T.types=V.types),R.T=T}}function a2(){}function Sd(e,i,o,u){if(e.tag!==5)throw Error(r(476));var f=Cy(e).queue;Dy(e,f,i,nt,o===null?a2:function(){return xy(e),o(u)})}function Cy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:nt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function xy(e){var i=Cy(e);i.next===null&&(i=e.alternate.memoizedState),Ml(e,i.next.queue,{},Jn())}function wd(){return gn(Xl)}function Vy(){return Be().memoizedState}function My(){return Be().memoizedState}function s2(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Jn();e=Yr(o);var u=Kr(i,e,o);u!==null&&(jn(u,i,o),Rl(u,i,o)),i={cache:td()},e.payload=i;return}i=i.return}}function o2(e,i,o){var u=Jn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uc(e)?Oy(i,o):(o=Ff(e,i,o,u),o!==null&&(jn(o,e,u),Py(o,i,u)))}function Ny(e,i,o){var u=Jn();Ml(e,i,o,u)}function Ml(e,i,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uc(e))Oy(i,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,V=m(T,o);if(f.hasEagerState=!0,f.eagerState=V,Qn(V,T))return pc(e,i,f,0),_e===null&&gc(),!1}catch{}if(o=Ff(e,i,f,u),o!==null)return jn(o,e,u),Py(o,i,u),!0}return!1}function Id(e,i,o,u){if(u={lane:2,revertLane:rm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Uc(e)){if(i)throw Error(r(479))}else i=Ff(e,o,u,2),i!==null&&jn(i,e,2)}function Uc(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function Oy(e,i){to=Cc=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Py(e,i,o){if((o&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,o|=u,i.lanes=o,tl(e,o)}}var Nl={readContext:gn,use:Mc,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Nl.useEffectEvent=Ve;var Uy={readContext:gn,use:Mc,useCallback:function(e,i){return Dn().memoizedState=[e,i===void 0?null:i],e},useContext:gn,useEffect:vy,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,Oc(4194308,4,Ay.bind(null,i,e),o)},useLayoutEffect:function(e,i){return Oc(4194308,4,e,i)},useInsertionEffect:function(e,i){Oc(4,2,e,i)},useMemo:function(e,i){var o=Dn();i=i===void 0?null:i;var u=e();if(Wa){je(!0);try{e()}finally{je(!1)}}return o.memoizedState=[u,i],u},useReducer:function(e,i,o){var u=Dn();if(o!==void 0){var f=o(i);if(Wa){je(!0);try{o(i)}finally{je(!1)}}}else f=i;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=o2.bind(null,Ot,e),[u.memoizedState,e]},useRef:function(e){var i=Dn();return e={current:e},i.memoizedState=e},useState:function(e){e=vd(e);var i=e.queue,o=Ny.bind(null,Ot,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:bd,useDeferredValue:function(e,i){var o=Dn();return Ad(o,e,i)},useTransition:function(){var e=vd(!1);return e=Dy.bind(null,Ot,e.queue,!0,!1),Dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var u=Ot,f=Dn();if(Ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),_e===null)throw Error(r(349));(jt&127)!==0||iy(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,vy(ay.bind(null,u,m,e),[e]),u.flags|=2048,no(9,{destroy:void 0},ry.bind(null,u,m,o,i),null),o},useId:function(){var e=Dn(),i=_e.identifierPrefix;if(Ht){var o=Xi,u=Ki;o=(u&~(1<<32-be(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=xc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=t2++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:wd,useFormState:my,useActionState:my,useOptimistic:function(e){var i=Dn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Id.bind(null,Ot,!0,o),o.dispatch=i,[e,i]},useMemoCache:pd,useCacheRefresh:function(){return Dn().memoizedState=s2.bind(null,Ot)},useEffectEvent:function(e){var i=Dn(),o={impl:e};return i.memoizedState=o,function(){if(($t&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Rd={readContext:gn,use:Mc,useCallback:wy,useContext:gn,useEffect:Td,useImperativeHandle:Sy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Iy,useReducer:Nc,useRef:_y,useState:function(){return Nc(yr)},useDebugValue:bd,useDeferredValue:function(e,i){var o=Be();return Ry(o,me.memoizedState,e,i)},useTransition:function(){var e=Nc(yr)[0],i=Be().memoizedState;return[typeof e=="boolean"?e:Vl(e),i]},useSyncExternalStore:ny,useId:Vy,useHostTransitionStatus:wd,useFormState:gy,useActionState:gy,useOptimistic:function(e,i){var o=Be();return ly(o,me,e,i)},useMemoCache:pd,useCacheRefresh:My};Rd.useEffectEvent=Ey;var zy={readContext:gn,use:Mc,useCallback:wy,useContext:gn,useEffect:Td,useImperativeHandle:Sy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Iy,useReducer:_d,useRef:_y,useState:function(){return _d(yr)},useDebugValue:bd,useDeferredValue:function(e,i){var o=Be();return me===null?Ad(o,e,i):Ry(o,me.memoizedState,e,i)},useTransition:function(){var e=_d(yr)[0],i=Be().memoizedState;return[typeof e=="boolean"?e:Vl(e),i]},useSyncExternalStore:ny,useId:Vy,useHostTransitionStatus:wd,useFormState:yy,useActionState:yy,useOptimistic:function(e,i){var o=Be();return me!==null?ly(o,me,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:pd,useCacheRefresh:My};zy.useEffectEvent=Ey;function Dd(e,i,o,u){i=e.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Cd={enqueueSetState:function(e,i,o){e=e._reactInternals;var u=Jn(),f=Yr(u);f.payload=i,o!=null&&(f.callback=o),i=Kr(e,f,u),i!==null&&(jn(i,e,u),Rl(i,e,u))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var u=Jn(),f=Yr(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Kr(e,f,u),i!==null&&(jn(i,e,u),Rl(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Jn(),u=Yr(o);u.tag=2,i!=null&&(u.callback=i),i=Kr(e,u,o),i!==null&&(jn(i,e,o),Rl(i,e,o))}};function Ly(e,i,o,u,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!vl(o,u)||!vl(f,m):!0}function By(e,i,o,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==e&&Cd.enqueueReplaceState(i,i.state,null)}function Ja(e,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(e=e.defaultProps){o===i&&(o=_({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function ky(e){mc(e)}function jy(e){console.error(e)}function qy(e){mc(e)}function zc(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Fy(e,i,o){try{var u=e.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xd(e,i,o){return o=Yr(o),o.tag=3,o.payload={element:null},o.callback=function(){zc(e,i)},o}function Hy(e){return e=Yr(e),e.tag=3,e}function Gy(e,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;e.payload=function(){return f(m)},e.callback=function(){Fy(i,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Fy(i,o,u),typeof f!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})})}function l2(e,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Ks(i,o,f,!0),o=Kn.current,o!==null){switch(o.tag){case 31:case 13:return fi===null?Xc():o.alternate===null&&Me===0&&(Me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Sc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),em(e,u,f)),!1;case 22:return o.flags|=65536,u===Sc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),em(e,u,f)),!1}throw Error(r(435,o.tag))}return em(e,u,f),Xc(),!1}if(Ht)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Xf&&(e=Error(r(422),{cause:u}),bl(li(e,o)))):(u!==Xf&&(i=Error(r(423),{cause:u}),bl(li(i,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=li(u,o),f=xd(e.stateNode,u,f),sd(e,f),Me!==4&&(Me=2)),!1;var m=Error(r(520),{cause:u});if(m=li(m,o),jl===null?jl=[m]:jl.push(m),Me!==4&&(Me=2),i===null)return!0;u=li(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=xd(o.stateNode,u,e),sd(o,e),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ta===null||!ta.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Hy(f),Gy(f,e,o,u),sd(o,f),!1}o=o.return}while(o!==null);return!1}var Vd=Error(r(461)),Ye=!1;function pn(e,i,o,u){i.child=e===null?Xp(i,null,o,u):Za(i,e.child,o,u)}function Qy(e,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var T={};for(var V in u)V!=="ref"&&(T[V]=u[V])}else T=u;return Qa(i),u=fd(e,i,o,T,m,f),V=dd(),e!==null&&!Ye?(md(e,i,f),_r(e,i,f)):(Ht&&V&&Yf(i),i.flags|=1,pn(e,i,u,f),i.child)}function Yy(e,i,o,u,f){if(e===null){var m=o.type;return typeof m=="function"&&!Hf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Ky(e,i,m,u,f)):(e=_c(o.type,null,u,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!Bd(e,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:vl,o(T,u)&&e.ref===i.ref)return _r(e,i,f)}return i.flags|=1,e=fr(m,u),e.ref=i.ref,e.return=i,i.child=e}function Ky(e,i,o,u,f){if(e!==null){var m=e.memoizedProps;if(vl(m,u)&&e.ref===i.ref)if(Ye=!1,i.pendingProps=u=m,Bd(e,f))(e.flags&131072)!==0&&(Ye=!0);else return i.lanes=e.lanes,_r(e,i,f)}return Md(e,i,o,u,f)}function Xy(e,i,o,u){var f=u.children,m=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(u=i.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return Zy(e,i,m,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bc(i,m!==null?m.cachePool:null),m!==null?Jp(i,m):ld(),$p(i);else return u=i.lanes=536870912,Zy(e,i,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(bc(i,m.cachePool),Jp(i,m),Zr(),i.memoizedState=null):(e!==null&&bc(i,null),ld(),Zr());return pn(e,i,f,o),i.child}function Ol(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zy(e,i,o,u,f){var m=nd();return m=m===null?null:{parent:Ge._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},e!==null&&bc(i,null),ld(),$p(i),e!==null&&Ks(e,i,u,!0),i.childLanes=f,null}function Lc(e,i){return i=kc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Wy(e,i,o){return Za(i,e.child,null,o),e=Lc(i,i.pendingProps),e.flags|=2,Xn(i),i.memoizedState=null,e}function u2(e,i,o){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ht){if(u.mode==="hidden")return e=Lc(i,u),i.lanes=536870912,Ol(null,e);if(cd(i),(e=Ae)?(e=u0(e,hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:qr!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Op(e),o.return=i,i.child=o,mn=i,Ae=null)):e=null,e===null)throw Hr(i);return i.lanes=536870912,null}return Lc(i,u)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(cd(i),f)if(i.flags&256)i.flags&=-257,i=Wy(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ye||Ks(e,i,o,!1),f=(o&e.childLanes)!==0,Ye||f){if(u=_e,u!==null&&(T=el(u,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,qa(e,T),jn(u,e,T),Vd;Xc(),i=Wy(e,i,o)}else e=m.treeContext,Ae=di(T.nextSibling),mn=i,Ht=!0,Fr=null,hi=!1,e!==null&&zp(i,e),i=Lc(i,u),i.flags|=4096;return i}return e=fr(e.child,{mode:u.mode,children:u.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Bc(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Md(e,i,o,u,f){return Qa(i),o=fd(e,i,o,u,void 0,f),u=dd(),e!==null&&!Ye?(md(e,i,f),_r(e,i,f)):(Ht&&u&&Yf(i),i.flags|=1,pn(e,i,o,f),i.child)}function Jy(e,i,o,u,f,m){return Qa(i),i.updateQueue=null,o=ey(i,u,o,f),ty(e),u=dd(),e!==null&&!Ye?(md(e,i,m),_r(e,i,m)):(Ht&&u&&Yf(i),i.flags|=1,pn(e,i,o,m),i.child)}function $y(e,i,o,u,f){if(Qa(i),i.stateNode===null){var m=Hs,T=o.contextType;typeof T=="object"&&T!==null&&(m=gn(T)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},rd(i),T=o.contextType,m.context=typeof T=="object"&&T!==null?gn(T):Hs,m.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Dd(i,o,T,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Cd.enqueueReplaceState(m,m.state,null),Cl(i,u,m,f),Dl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){m=i.stateNode;var V=i.memoizedProps,B=Ja(o,V);m.props=B;var tt=m.context,ct=o.contextType;T=Hs,typeof ct=="object"&&ct!==null&&(T=gn(ct));var ft=o.getDerivedStateFromProps;ct=typeof ft=="function"||typeof m.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,ct||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(V||tt!==T)&&By(i,m,u,T),Qr=!1;var it=i.memoizedState;m.state=it,Cl(i,u,m,f),Dl(),tt=i.memoizedState,V||it!==tt||Qr?(typeof ft=="function"&&(Dd(i,o,ft,u),tt=i.memoizedState),(B=Qr||Ly(i,o,B,u,it,tt,T))?(ct||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=tt),m.props=u,m.state=tt,m.context=T,u=B):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,ad(e,i),T=i.memoizedProps,ct=Ja(o,T),m.props=ct,ft=i.pendingProps,it=m.context,tt=o.contextType,B=Hs,typeof tt=="object"&&tt!==null&&(B=gn(tt)),V=o.getDerivedStateFromProps,(tt=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ft||it!==B)&&By(i,m,u,B),Qr=!1,it=i.memoizedState,m.state=it,Cl(i,u,m,f),Dl();var lt=i.memoizedState;T!==ft||it!==lt||Qr||e!==null&&e.dependencies!==null&&Ec(e.dependencies)?(typeof V=="function"&&(Dd(i,o,V,u),lt=i.memoizedState),(ct=Qr||Ly(i,o,ct,u,it,lt,B)||e!==null&&e.dependencies!==null&&Ec(e.dependencies))?(tt||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,lt,B),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,lt,B)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=lt),m.props=u,m.state=lt,m.context=B,u=ct):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=1024),u=!1)}return m=u,Bc(e,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&u?(i.child=Za(i,e.child,null,f),i.child=Za(i,null,o,f)):pn(e,i,o,f),i.memoizedState=m.state,e=i.child):e=_r(e,i,f),e}function t_(e,i,o,u){return Ha(),i.flags|=256,pn(e,i,o,u),i.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(e){return{baseLanes:e,cachePool:Fp()}}function Pd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Wn),e}function e_(e,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(f?Xr(i):Zr(),(e=Ae)?(e=u0(e,hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:qr!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Op(e),o.return=i,i.child=o,mn=i,Ae=null)):e=null,e===null)throw Hr(i);return ym(e)?i.lanes=32:i.lanes=536870912,null}var V=u.children;return u=u.fallback,f?(Zr(),f=i.mode,V=kc({mode:"hidden",children:V},f),u=Fa(u,f,o,null),V.return=i,u.return=i,V.sibling=u,i.child=V,u=i.child,u.memoizedState=Od(o),u.childLanes=Pd(e,T,o),i.memoizedState=Nd,Ol(null,u)):(Xr(i),Ud(i,V))}var B=e.memoizedState;if(B!==null&&(V=B.dehydrated,V!==null)){if(m)i.flags&256?(Xr(i),i.flags&=-257,i=zd(e,i,o)):i.memoizedState!==null?(Zr(),i.child=e.child,i.flags|=128,i=null):(Zr(),V=u.fallback,f=i.mode,u=kc({mode:"visible",children:u.children},f),V=Fa(V,f,o,null),V.flags|=2,u.return=i,V.return=i,u.sibling=V,i.child=u,Za(i,e.child,null,o),u=i.child,u.memoizedState=Od(o),u.childLanes=Pd(e,T,o),i.memoizedState=Nd,i=Ol(null,u));else if(Xr(i),ym(V)){if(T=V.nextSibling&&V.nextSibling.dataset,T)var tt=T.dgst;T=tt,u=Error(r(419)),u.stack="",u.digest=T,bl({value:u,source:null,stack:null}),i=zd(e,i,o)}else if(Ye||Ks(e,i,o,!1),T=(o&e.childLanes)!==0,Ye||T){if(T=_e,T!==null&&(u=el(T,o),u!==0&&u!==B.retryLane))throw B.retryLane=u,qa(e,u),jn(T,e,u),Vd;pm(V)||Xc(),i=zd(e,i,o)}else pm(V)?(i.flags|=192,i.child=e.child,i=null):(e=B.treeContext,Ae=di(V.nextSibling),mn=i,Ht=!0,Fr=null,hi=!1,e!==null&&zp(i,e),i=Ud(i,u.children),i.flags|=4096);return i}return f?(Zr(),V=u.fallback,f=i.mode,B=e.child,tt=B.sibling,u=fr(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,tt!==null?V=fr(tt,V):(V=Fa(V,f,o,null),V.flags|=2),V.return=i,u.return=i,u.sibling=V,i.child=u,Ol(null,u),u=i.child,V=e.child.memoizedState,V===null?V=Od(o):(f=V.cachePool,f!==null?(B=Ge._currentValue,f=f.parent!==B?{parent:B,pool:B}:f):f=Fp(),V={baseLanes:V.baseLanes|o,cachePool:f}),u.memoizedState=V,u.childLanes=Pd(e,T,o),i.memoizedState=Nd,Ol(e.child,u)):(Xr(i),o=e.child,e=o.sibling,o=fr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function Ud(e,i){return i=kc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function kc(e,i){return e=Yn(22,e,null,i),e.lanes=0,e}function zd(e,i,o){return Za(i,e.child,null,o),e=Ud(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function n_(e,i,o){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),Jf(e.return,i,o)}function Ld(e,i,o,u,f,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=m)}function i_(e,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var T=Le.current,V=(T&2)!==0;if(V?(T=T&1|2,i.flags|=128):T&=1,ot(Le,T),pn(e,i,u,o),u=Ht?Tl:0,!V&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n_(e,o,i);else if(e.tag===19)n_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)e=o.alternate,e!==null&&Dc(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Ld(i,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Dc(e)===null){i.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}Ld(i,!0,o,null,m,u);break;case"together":Ld(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function _r(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),$r|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Ks(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,o=fr(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=fr(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Bd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ec(e)))}function c2(e,i,o){switch(i.tag){case 3:Ct(i,i.stateNode.containerInfo),Gr(i,Ge,e.memoizedState.cache),Ha();break;case 27:case 5:Kt(i);break;case 4:Ct(i,i.stateNode.containerInfo);break;case 10:Gr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,cd(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Xr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?e_(e,i,o):(Xr(i),e=_r(e,i,o),e!==null?e.sibling:null);Xr(i);break;case 19:var f=(e.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Ks(e,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return i_(e,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(Le,Le.current),u)break;return null;case 22:return i.lanes=0,Xy(e,i,o,i.pendingProps);case 24:Gr(i,Ge,e.memoizedState.cache)}return _r(e,i,o)}function r_(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ye=!0;else{if(!Bd(e,o)&&(i.flags&128)===0)return Ye=!1,c2(e,i,o);Ye=(e.flags&131072)!==0}else Ye=!1,Ht&&(i.flags&1048576)!==0&&Up(i,Tl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(e=Ka(i.elementType),i.type=e,typeof e=="function")Hf(e)?(u=Ja(e,u),i.tag=1,i=$y(null,i,e,u,o)):(i.tag=0,i=Md(null,i,e,u,o));else{if(e!=null){var f=e.$$typeof;if(f===K){i.tag=11,i=Qy(null,i,e,u,o);break t}else if(f===M){i.tag=14,i=Yy(null,i,e,u,o);break t}}throw i=q(e)||e,Error(r(306,i,""))}}return i;case 0:return Md(e,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Ja(u,i.pendingProps),$y(e,i,u,f,o);case 3:t:{if(Ct(i,i.stateNode.containerInfo),e===null)throw Error(r(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,ad(e,i),Cl(i,u,null,o);var T=i.memoizedState;if(u=T.cache,Gr(i,Ge,u),u!==m.cache&&$f(i,[Ge],o,!0),Dl(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=t_(e,i,u,o);break t}else if(u!==f){f=li(Error(r(424)),i),bl(f),i=t_(e,i,u,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ae=di(e.firstChild),mn=i,Ht=!0,Fr=null,hi=!0,o=Xp(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ha(),u===f){i=_r(e,i,o);break t}pn(e,i,u,o)}i=i.child}return i;case 26:return Bc(e,i),e===null?(o=g0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ht||(o=i.type,e=i.pendingProps,u=nh(gt.current).createElement(o),u[qe]=i,u[rn]=e,yn(u,o,e),Fe(u),i.stateNode=u):i.memoizedState=g0(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Kt(i),e===null&&Ht&&(u=i.stateNode=f0(i.type,i.pendingProps,gt.current),mn=i,hi=!0,f=Ae,ra(i.type)?(_m=f,Ae=di(u.firstChild)):Ae=f),pn(e,i,i.pendingProps.children,o),Bc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((f=u=Ae)&&(u=k2(u,i.type,i.pendingProps,hi),u!==null?(i.stateNode=u,mn=i,Ae=di(u.firstChild),hi=!1,f=!0):f=!1),f||Hr(i)),Kt(i),f=i.type,m=i.pendingProps,T=e!==null?e.memoizedProps:null,u=m.children,dm(f,m)?u=null:T!==null&&dm(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=fd(e,i,e2,null,null,o),Xl._currentValue=f),Bc(e,i),pn(e,i,u,o),i.child;case 6:return e===null&&Ht&&((e=o=Ae)&&(o=j2(o,i.pendingProps,hi),o!==null?(i.stateNode=o,mn=i,Ae=null,e=!0):e=!1),e||Hr(i)),null;case 13:return e_(e,i,o);case 4:return Ct(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=Za(i,null,u,o):pn(e,i,u,o),i.child;case 11:return Qy(e,i,i.type,i.pendingProps,o);case 7:return pn(e,i,i.pendingProps,o),i.child;case 8:return pn(e,i,i.pendingProps.children,o),i.child;case 12:return pn(e,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Gr(i,i.type,u.value),pn(e,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Qa(i),f=gn(f),u=u(f),i.flags|=1,pn(e,i,u,o),i.child;case 14:return Yy(e,i,i.type,i.pendingProps,o);case 15:return Ky(e,i,i.type,i.pendingProps,o);case 19:return i_(e,i,o);case 31:return u2(e,i,o);case 22:return Xy(e,i,o,i.pendingProps);case 24:return Qa(i),u=gn(Ge),e===null?(f=nd(),f===null&&(f=_e,m=td(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},rd(i),Gr(i,Ge,f)):((e.lanes&o)!==0&&(ad(e,i),Cl(i,null,null,o),Dl()),f=e.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Gr(i,Ge,u)):(u=m.cache,Gr(i,Ge,u),u!==f.cache&&$f(i,[Ge],o,!0))),pn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function vr(e){e.flags|=4}function kd(e,i,o,u,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(V_())e.flags|=8192;else throw Xa=Sc,id}else e.flags&=-16777217}function a_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E0(i))if(V_())e.flags|=8192;else throw Xa=Sc,id}function jc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ni():536870912,e.lanes|=i,so|=i)}function Pl(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Se(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(i)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=o,i}function h2(e,i,o){var u=i.pendingProps;switch(Kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(i),null;case 1:return Se(i),null;case 3:return o=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),gr(Ge),wt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ys(i)?vr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zf())),Se(i),null;case 26:var f=i.type,m=i.memoizedState;return e===null?(vr(i),m!==null?(Se(i),a_(i,m)):(Se(i),kd(i,f,null,u,o))):m?m!==e.memoizedState?(vr(i),Se(i),a_(i,m)):(Se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==u&&vr(i),Se(i),kd(i,f,e,u,o)),null;case 27:if(ce(i),o=gt.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&vr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Se(i),null}e=et.current,Ys(i)?Lp(i):(e=f0(f,u,o),i.stateNode=e,vr(i))}return Se(i),null;case 5:if(ce(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&vr(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Se(i),null}if(m=et.current,Ys(i))Lp(i);else{var T=nh(gt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}m[qe]=i,m[rn]=u;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=m;t:switch(yn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&vr(i)}}return Se(i),kd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&vr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(e=gt.current,Ys(i)){if(e=i.stateNode,o=i.memoizedProps,u=null,f=mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[qe]=i,e=!!(e.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||e0(e.nodeValue,o)),e||Hr(i,!0)}else e=nh(e).createTextNode(u),e[qe]=i,i.stateNode=e}return Se(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(u=Ys(i),o!==null){if(e===null){if(!u)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[qe]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Se(i),e=!1}else o=Zf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Xn(i),i):(Xn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Se(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ys(i),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[qe]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Se(i),f=!1}else f=Zf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Xn(i),i):(Xn(i),null)}return Xn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,e=e!==null&&e.memoizedState!==null,o&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),jc(i,i.updateQueue),Se(i),null);case 4:return wt(),e===null&&lm(i.stateNode.containerInfo),Se(i),null;case 10:return gr(i.type),Se(i),null;case 19:if(H(Le),u=i.memoizedState,u===null)return Se(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)Pl(u,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=Dc(e),m!==null){for(i.flags|=128,Pl(u,!1),e=m.updateQueue,i.updateQueue=e,jc(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Np(o,e),o=o.sibling;return ot(Le,Le.current&1|2),Ht&&dr(i,u.treeForkCount),i.child}e=e.sibling}u.tail!==null&&Pt()>Qc&&(i.flags|=128,f=!0,Pl(u,!1),i.lanes=4194304)}else{if(!f)if(e=Dc(m),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,jc(i,e),Pl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ht)return Se(i),null}else 2*Pt()-u.renderingStartTime>Qc&&o!==536870912&&(i.flags|=128,f=!0,Pl(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(e=u.last,e!==null?e.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=Pt(),e.sibling=null,o=Le.current,ot(Le,f?o&1|2:o&1),Ht&&dr(i,u.treeForkCount),e):(Se(i),null);case 22:case 23:return Xn(i),ud(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Se(i),i.subtreeFlags&6&&(i.flags|=8192)):Se(i),o=i.updateQueue,o!==null&&jc(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),e!==null&&H(Ya),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),gr(Ge),Se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function f2(e,i){switch(Kf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return gr(Ge),wt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ce(i),null;case 31:if(i.memoizedState!==null){if(Xn(i),i.alternate===null)throw Error(r(340));Ha()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Xn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ha()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return H(Le),null;case 4:return wt(),null;case 10:return gr(i.type),null;case 22:case 23:return Xn(i),ud(),e!==null&&H(Ya),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return gr(Ge),null;case 25:return null;default:return null}}function s_(e,i){switch(Kf(i),i.tag){case 3:gr(Ge),wt();break;case 26:case 27:case 5:ce(i);break;case 4:wt();break;case 31:i.memoizedState!==null&&Xn(i);break;case 13:Xn(i);break;case 19:H(Le);break;case 10:gr(i.type);break;case 22:case 23:Xn(i),ud(),e!==null&&H(Ya);break;case 24:gr(Ge)}}function Ul(e,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(V){se(i,i.return,V)}}function Wr(e,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&e)===e){var T=u.inst,V=T.destroy;if(V!==void 0){T.destroy=void 0,f=i;var B=o,tt=V;try{tt()}catch(ct){se(f,B,ct)}}}u=u.next}while(u!==m)}}catch(ct){se(i,i.return,ct)}}function o_(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Wp(i,o)}catch(u){se(e,e.return,u)}}}function l_(e,i,o){o.props=Ja(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(u){se(e,i,u)}}function zl(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof o=="function"?e.refCleanup=o(u):o.current=u}}catch(f){se(e,i,f)}}function Zi(e,i){var o=e.ref,u=e.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){se(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){se(e,i,f)}else o.current=null}function u_(e){var i=e.type,o=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){se(e,e.return,f)}}function jd(e,i,o){try{var u=e.stateNode;O2(u,e.type,o,i),u[rn]=i}catch(f){se(e,e.return,f)}}function c_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ra(e.type)||e.tag===4}function qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||c_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fd(e,i,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=bi));else if(u!==4&&(u===27&&ra(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Fd(e,i,o),e=e.sibling;e!==null;)Fd(e,i,o),e=e.sibling}function qc(e,i,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(u!==4&&(u===27&&ra(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(qc(e,i,o),e=e.sibling;e!==null;)qc(e,i,o),e=e.sibling}function h_(e){var i=e.stateNode,o=e.memoizedProps;try{for(var u=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);yn(i,u,o),i[qe]=e,i[rn]=o}catch(m){se(e,e.return,m)}}var Er=!1,Ke=!1,Hd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function d2(e,i){if(e=e.containerInfo,hm=uh,e=Sp(e),zf(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var T=0,V=-1,B=-1,tt=0,ct=0,ft=e,it=null;e:for(;;){for(var lt;ft!==o||f!==0&&ft.nodeType!==3||(V=T+f),ft!==m||u!==0&&ft.nodeType!==3||(B=T+u),ft.nodeType===3&&(T+=ft.nodeValue.length),(lt=ft.firstChild)!==null;)it=ft,ft=lt;for(;;){if(ft===e)break e;if(it===o&&++tt===f&&(V=T),it===m&&++ct===u&&(B=T),(lt=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=lt}o=V===-1||B===-1?null:{start:V,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(fm={focusedElem:e,selectionRange:o},uh=!1,sn=i;sn!==null;)if(i=sn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,sn=e;else for(;sn!==null;){switch(i=sn,m=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var vt=Ja(o.type,f);e=u.getSnapshotBeforeUpdate(vt,m),u.__reactInternalSnapshotBeforeUpdate=e}catch(Dt){se(o,o.return,Dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)gm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,sn=e;break}sn=i.return}}function d_(e,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:br(e,o),u&4&&Ul(5,o);break;case 1:if(br(e,o),u&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){se(o,o.return,T)}else{var f=Ja(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){se(o,o.return,T)}}u&64&&o_(o),u&512&&zl(o,o.return);break;case 3:if(br(e,o),u&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Wp(e,i)}catch(T){se(o,o.return,T)}}break;case 27:i===null&&u&4&&h_(o);case 26:case 5:br(e,o),i===null&&u&4&&u_(o),u&512&&zl(o,o.return);break;case 12:br(e,o);break;case 31:br(e,o),u&4&&p_(e,o);break;case 13:br(e,o),u&4&&y_(e,o),u&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=b2.bind(null,o),q2(e,o))));break;case 22:if(u=o.memoizedState!==null||Er,!u){i=i!==null&&i.memoizedState!==null||Ke,f=Er;var m=Ke;Er=u,(Ke=i)&&!m?Ar(e,o,(o.subtreeFlags&8772)!==0):br(e,o),Er=f,Ke=m}break;case 30:break;default:br(e,o)}}function m_(e){var i=e.alternate;i!==null&&(e.alternate=null,m_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&xs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,zn=!1;function Tr(e,i,o){for(o=o.child;o!==null;)g_(e,i,o),o=o.sibling}function g_(e,i,o){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Ue,o)}catch{}switch(o.tag){case 26:Ke||Zi(o,i),Tr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ke||Zi(o,i);var u=Re,f=zn;ra(o.type)&&(Re=o.stateNode,zn=!1),Tr(e,i,o),Ql(o.stateNode),Re=u,zn=f;break;case 5:Ke||Zi(o,i);case 6:if(u=Re,f=zn,Re=null,Tr(e,i,o),Re=u,zn=f,Re!==null)if(zn)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(o.stateNode)}catch(m){se(o,i,m)}else try{Re.removeChild(o.stateNode)}catch(m){se(o,i,m)}break;case 18:Re!==null&&(zn?(e=Re,o0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),go(e)):o0(Re,o.stateNode));break;case 4:u=Re,f=zn,Re=o.stateNode.containerInfo,zn=!0,Tr(e,i,o),Re=u,zn=f;break;case 0:case 11:case 14:case 15:Wr(2,o,i),Ke||Wr(4,o,i),Tr(e,i,o);break;case 1:Ke||(Zi(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&l_(o,i,u)),Tr(e,i,o);break;case 21:Tr(e,i,o);break;case 22:Ke=(u=Ke)||o.memoizedState!==null,Tr(e,i,o),Ke=u;break;default:Tr(e,i,o)}}function p_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{go(e)}catch(o){se(i,i.return,o)}}}function y_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{go(e)}catch(o){se(i,i.return,o)}}function m2(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new f_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new f_),i;default:throw Error(r(435,e.tag))}}function Fc(e,i){var o=m2(e);i.forEach(function(u){if(!o.has(u)){o.add(u);var f=A2.bind(null,e,u);u.then(f,f)}})}function Ln(e,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=e,T=i,V=T;t:for(;V!==null;){switch(V.tag){case 27:if(ra(V.type)){Re=V.stateNode,zn=!1;break t}break;case 5:Re=V.stateNode,zn=!1;break t;case 3:case 4:Re=V.stateNode.containerInfo,zn=!0;break t}V=V.return}if(Re===null)throw Error(r(160));g_(m,T,f),Re=null,zn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,e),i=i.sibling}var Di=null;function __(e,i){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(i,e),Bn(e),u&4&&(Wr(3,e,e.return),Ul(3,e),Wr(5,e,e.return));break;case 1:Ln(i,e),Bn(e),u&512&&(Ke||o===null||Zi(o,o.return)),u&64&&Er&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Di;if(Ln(i,e),Bn(e),u&512&&(Ke||o===null||Zi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=e.memoizedState,o===null)if(u===null)if(e.stateNode===null){t:{u=e.type,o=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ui]||m[qe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),yn(m,u,o),m[qe]=e,Fe(m),u=m;break t;case"link":var T=_0("link","href",f).get(u+(o.href||""));if(T){for(var V=0;V<T.length;V++)if(m=T[V],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(V,1);break e}}m=f.createElement(u),yn(m,u,o),f.head.appendChild(m);break;case"meta":if(T=_0("meta","content",f).get(u+(o.content||""))){for(V=0;V<T.length;V++)if(m=T[V],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(V,1);break e}}m=f.createElement(u),yn(m,u,o),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[qe]=e,Fe(m),u=m}e.stateNode=u}else v0(f,e.type,e.stateNode);else e.stateNode=y0(f,u,e.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?v0(f,e.type,e.stateNode):y0(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&jd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Ln(i,e),Bn(e),u&512&&(Ke||o===null||Zi(o,o.return)),o!==null&&u&4&&jd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Ln(i,e),Bn(e),u&512&&(Ke||o===null||Zi(o,o.return)),e.flags&32){f=e.stateNode;try{Un(f,"")}catch(vt){se(e,e.return,vt)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,jd(e,f,o!==null?o.memoizedProps:f)),u&1024&&(Hd=!0);break;case 6:if(Ln(i,e),Bn(e),u&4){if(e.stateNode===null)throw Error(r(162));u=e.memoizedProps,o=e.stateNode;try{o.nodeValue=u}catch(vt){se(e,e.return,vt)}}break;case 3:if(ah=null,f=Di,Di=ih(i.containerInfo),Ln(i,e),Di=f,Bn(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{go(i.containerInfo)}catch(vt){se(e,e.return,vt)}Hd&&(Hd=!1,v_(e));break;case 4:u=Di,Di=ih(e.stateNode.containerInfo),Ln(i,e),Bn(e),Di=u;break;case 12:Ln(i,e),Bn(e);break;case 31:Ln(i,e),Bn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Fc(e,u)));break;case 13:Ln(i,e),Bn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gc=Pt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Fc(e,u)));break;case 22:f=e.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,tt=Er,ct=Ke;if(Er=tt||f,Ke=ct||B,Ln(i,e),Ke=ct,Er=tt,Bn(e),u&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||B||Er||Ke||$a(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){B=o=i;try{if(m=B.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{V=B.stateNode;var ft=B.memoizedProps.style,it=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;V.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(vt){se(B,B.return,vt)}}}else if(i.tag===6){if(o===null){B=i;try{B.stateNode.nodeValue=f?"":B.memoizedProps}catch(vt){se(B,B.return,vt)}}}else if(i.tag===18){if(o===null){B=i;try{var lt=B.stateNode;f?l0(lt,!0):l0(B.stateNode,!1)}catch(vt){se(B,B.return,vt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Fc(e,o))));break;case 19:Ln(i,e),Bn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Fc(e,u)));break;case 30:break;case 21:break;default:Ln(i,e),Bn(e)}}function Bn(e){var i=e.flags;if(i&2){try{for(var o,u=e.return;u!==null;){if(c_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,m=qd(e);qc(e,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(Un(T,""),o.flags&=-33);var V=qd(e);qc(e,V,T);break;case 3:case 4:var B=o.stateNode.containerInfo,tt=qd(e);Fd(e,tt,B);break;default:throw Error(r(161))}}catch(ct){se(e,e.return,ct)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function v_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function br(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(e,i.alternate,i),i=i.sibling}function $a(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Wr(4,i,i.return),$a(i);break;case 1:Zi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&l_(i,i.return,o),$a(i);break;case 27:Ql(i.stateNode);case 26:case 5:Zi(i,i.return),$a(i);break;case 22:i.memoizedState===null&&$a(i);break;case 30:$a(i);break;default:$a(i)}e=e.sibling}}function Ar(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=e,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ar(f,m,o),Ul(4,m);break;case 1:if(Ar(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(tt){se(u,u.return,tt)}if(u=m,f=u.updateQueue,f!==null){var V=u.stateNode;try{var B=f.shared.hiddenCallbacks;if(B!==null)for(f.shared.hiddenCallbacks=null,f=0;f<B.length;f++)Zp(B[f],V)}catch(tt){se(u,u.return,tt)}}o&&T&64&&o_(m),zl(m,m.return);break;case 27:h_(m);case 26:case 5:Ar(f,m,o),o&&u===null&&T&4&&u_(m),zl(m,m.return);break;case 12:Ar(f,m,o);break;case 31:Ar(f,m,o),o&&T&4&&p_(f,m);break;case 13:Ar(f,m,o),o&&T&4&&y_(f,m);break;case 22:m.memoizedState===null&&Ar(f,m,o),zl(m,m.return);break;case 30:break;default:Ar(f,m,o)}i=i.sibling}}function Gd(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Al(o))}function Qd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Al(e))}function Ci(e,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(e,i,o,u),i=i.sibling}function E_(e,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ci(e,i,o,u),f&2048&&Ul(9,i);break;case 1:Ci(e,i,o,u);break;case 3:Ci(e,i,o,u),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Al(e)));break;case 12:if(f&2048){Ci(e,i,o,u),e=i.stateNode;try{var m=i.memoizedProps,T=m.id,V=m.onPostCommit;typeof V=="function"&&V(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){se(i,i.return,B)}}else Ci(e,i,o,u);break;case 31:Ci(e,i,o,u);break;case 13:Ci(e,i,o,u);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Ci(e,i,o,u):Ll(e,i):m._visibility&2?Ci(e,i,o,u):(m._visibility|=2,io(e,i,o,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Gd(T,i);break;case 24:Ci(e,i,o,u),f&2048&&Qd(i.alternate,i);break;default:Ci(e,i,o,u)}}function io(e,i,o,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=e,T=i,V=o,B=u,tt=T.flags;switch(T.tag){case 0:case 11:case 15:io(m,T,V,B,f),Ul(8,T);break;case 23:break;case 22:var ct=T.stateNode;T.memoizedState!==null?ct._visibility&2?io(m,T,V,B,f):Ll(m,T):(ct._visibility|=2,io(m,T,V,B,f)),f&&tt&2048&&Gd(T.alternate,T);break;case 24:io(m,T,V,B,f),f&&tt&2048&&Qd(T.alternate,T);break;default:io(m,T,V,B,f)}i=i.sibling}}function Ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,u=i,f=u.flags;switch(u.tag){case 22:Ll(o,u),f&2048&&Gd(u.alternate,u);break;case 24:Ll(o,u),f&2048&&Qd(u.alternate,u);break;default:Ll(o,u)}i=i.sibling}}var Bl=8192;function ro(e,i,o){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)T_(e,i,o),e=e.sibling}function T_(e,i,o){switch(e.tag){case 26:ro(e,i,o),e.flags&Bl&&e.memoizedState!==null&&tA(o,Di,e.memoizedState,e.memoizedProps);break;case 5:ro(e,i,o);break;case 3:case 4:var u=Di;Di=ih(e.stateNode.containerInfo),ro(e,i,o),Di=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=Bl,Bl=16777216,ro(e,i,o),Bl=u):ro(e,i,o));break;default:ro(e,i,o)}}function b_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function kl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];sn=u,S_(u,e)}b_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A_(e),e=e.sibling}function A_(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&Wr(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Hc(e)):kl(e);break;default:kl(e)}}function Hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];sn=u,S_(u,e)}b_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Wr(8,i,i.return),Hc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Hc(i));break;default:Hc(i)}e=e.sibling}}function S_(e,i){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:Wr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Al(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,sn=u;else t:for(o=e;sn!==null;){u=sn;var f=u.sibling,m=u.return;if(m_(u),u===o){sn=null;break t}if(f!==null){f.return=m,sn=f;break t}sn=m}}}var g2={getCacheForType:function(e){var i=gn(Ge),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return gn(Ge).controller.signal}},p2=typeof WeakMap=="function"?WeakMap:Map,$t=0,_e=null,Bt=null,jt=0,ae=0,Zn=null,Jr=!1,ao=!1,Yd=!1,Sr=0,Me=0,$r=0,ts=0,Kd=0,Wn=0,so=0,jl=null,kn=null,Xd=!1,Gc=0,w_=0,Qc=1/0,Yc=null,ta=null,$e=0,ea=null,oo=null,wr=0,Zd=0,Wd=null,I_=null,ql=0,Jd=null;function Jn(){return($t&2)!==0&&jt!==0?jt&-jt:R.T!==null?rm():Ku()}function R_(){if(Wn===0)if((jt&536870912)===0||Ht){var e=or;or<<=1,(or&3932160)===0&&(or=262144),Wn=e}else Wn=536870912;return e=Kn.current,e!==null&&(e.flags|=32),Wn}function jn(e,i,o){(e===_e&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(lo(e,0),na(e,jt,Wn,!1)),Da(e,o),(($t&2)===0||e!==_e)&&(e===_e&&(($t&2)===0&&(ts|=o),Me===4&&na(e,jt,Wn,!1)),Wi(e))}function D_(e,i,o){if(($t&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&e.expiredLanes)===0||fn(e,i),f=u?v2(e,i):tm(e,i,!0),m=u;do{if(f===0){ao&&!u&&na(e,i,0,!1);break}else{if(o=e.current.alternate,m&&!y2(o)){f=tm(e,i,!1),m=!1;continue}if(f===2){if(m=i,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var V=e;f=jl;var B=V.current.memoizedState.isDehydrated;if(B&&(lo(V,T).flags|=256),T=tm(V,T,!1),T!==2){if(Yd&&!B){V.errorRecoveryDisabledLanes|=m,ts|=m,f=4;break t}m=kn,kn=f,m!==null&&(kn===null?kn=m:kn.push.apply(kn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){lo(e,0),na(e,i,0,!0);break}t:{switch(u=e,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:na(u,i,Wn,!Jr);break t;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Gc+300-Pt(),10<f)){if(na(u,i,Wn,!Jr),hn(u,0,!0)!==0)break t;wr=i,u.timeoutHandle=a0(C_.bind(null,u,o,kn,Yc,Xd,i,Wn,ts,so,Jr,m,"Throttled",-0,0),f);break t}C_(u,o,kn,Yc,Xd,i,Wn,ts,so,Jr,m,null,-0,0)}}break}while(!0);Wi(e)}function C_(e,i,o,u,f,m,T,V,B,tt,ct,ft,it,lt){if(e.timeoutHandle=-1,ft=i.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},T_(i,m,ft);var vt=(m&62914560)===m?Gc-Pt():(m&4194048)===m?w_-Pt():0;if(vt=eA(ft,vt),vt!==null){wr=m,e.cancelPendingCommit=vt(z_.bind(null,e,i,m,o,u,f,T,V,B,ct,ft,null,it,lt)),na(e,m,T,!tt);return}}z_(e,i,m,o,u,f,T,V,B)}function y2(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Qn(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function na(e,i,o,u){i&=~Kd,i&=~ts,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var f=i;0<f;){var m=31-be(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&Ca(e,o,i)}function Kc(){return($t&6)===0?(Fl(0),!1):!0}function $d(){if(Bt!==null){if(ae===0)var e=Bt.return;else e=Bt,mr=Ga=null,gd(e),Js=null,wl=0,e=Bt;for(;e!==null;)s_(e.alternate,e),e=e.return;Bt=null}}function lo(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,z2(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),wr=0,$d(),_e=e,Bt=o=fr(e.current,null),jt=i,ae=0,Zn=null,Jr=!1,ao=fn(e,i),Yd=!1,so=Wn=Kd=ts=$r=Me=0,kn=jl=null,Xd=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var f=31-be(u),m=1<<f;i|=e[f],u&=~m}return Sr=i,gc(),o}function x_(e,i){Ot=null,R.H=Nl,i===Ws||i===Ac?(i=Qp(),ae=3):i===id?(i=Qp(),ae=4):ae=i===Vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,Bt===null&&(Me=1,zc(e,li(i,e.current)))}function V_(){var e=Kn.current;return e===null?!0:(jt&4194048)===jt?fi===null:(jt&62914560)===jt||(jt&536870912)!==0?e===fi:!1}function M_(){var e=R.H;return R.H=Nl,e===null?Nl:e}function N_(){var e=R.A;return R.A=g2,e}function Xc(){Me=4,Jr||(jt&4194048)!==jt&&Kn.current!==null||(ao=!0),($r&134217727)===0&&(ts&134217727)===0||_e===null||na(_e,jt,Wn,!1)}function tm(e,i,o){var u=$t;$t|=2;var f=M_(),m=N_();(_e!==e||jt!==i)&&(Yc=null,lo(e,i)),i=!1;var T=Me;t:do try{if(ae!==0&&Bt!==null){var V=Bt,B=Zn;switch(ae){case 8:$d(),T=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var tt=ae;if(ae=0,Zn=null,uo(e,V,B,tt),o&&ao){T=0;break t}break;default:tt=ae,ae=0,Zn=null,uo(e,V,B,tt)}}_2(),T=Me;break}catch(ct){x_(e,ct)}while(!0);return i&&e.shellSuspendCounter++,mr=Ga=null,$t=u,R.H=f,R.A=m,Bt===null&&(_e=null,jt=0,gc()),T}function _2(){for(;Bt!==null;)O_(Bt)}function v2(e,i){var o=$t;$t|=2;var u=M_(),f=N_();_e!==e||jt!==i?(Yc=null,Qc=Pt()+500,lo(e,i)):ao=fn(e,i);t:do try{if(ae!==0&&Bt!==null){i=Bt;var m=Zn;e:switch(ae){case 1:ae=0,Zn=null,uo(e,i,m,1);break;case 2:case 9:if(Hp(m)){ae=0,Zn=null,P_(i);break}i=function(){ae!==2&&ae!==9||_e!==e||(ae=7),Wi(e)},m.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Hp(m)?(ae=0,Zn=null,P_(i)):(ae=0,Zn=null,uo(e,i,m,7));break;case 5:var T=null;switch(Bt.tag){case 26:T=Bt.memoizedState;case 5:case 27:var V=Bt;if(T?E0(T):V.stateNode.complete){ae=0,Zn=null;var B=V.sibling;if(B!==null)Bt=B;else{var tt=V.return;tt!==null?(Bt=tt,Zc(tt)):Bt=null}break e}}ae=0,Zn=null,uo(e,i,m,5);break;case 6:ae=0,Zn=null,uo(e,i,m,6);break;case 8:$d(),Me=6;break t;default:throw Error(r(462))}}E2();break}catch(ct){x_(e,ct)}while(!0);return mr=Ga=null,R.H=u,R.A=f,$t=o,Bt!==null?0:(_e=null,jt=0,gc(),Me)}function E2(){for(;Bt!==null&&!un();)O_(Bt)}function O_(e){var i=r_(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,i===null?Zc(e):Bt=i}function P_(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Jy(o,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=Jy(o,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:gd(i);default:s_(o,i),i=Bt=Np(i,Sr),i=r_(o,i,Sr)}e.memoizedProps=e.pendingProps,i===null?Zc(e):Bt=i}function uo(e,i,o,u){mr=Ga=null,gd(i),Js=null,wl=0;var f=i.return;try{if(l2(e,f,i,o,jt)){Me=1,zc(e,li(o,e.current)),Bt=null;return}}catch(m){if(f!==null)throw Bt=f,m;Me=1,zc(e,li(o,e.current)),Bt=null;return}i.flags&32768?(Ht||u===1?e=!0:ao||(jt&536870912)!==0?e=!1:(Jr=e=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),U_(i,e)):Zc(i)}function Zc(e){var i=e;do{if((i.flags&32768)!==0){U_(i,Jr);return}e=i.return;var o=h2(i.alternate,i,Sr);if(o!==null){Bt=o;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=e}while(i!==null);Me===0&&(Me=5)}function U_(e,i){do{var o=f2(e.alternate,e);if(o!==null){o.flags&=32767,Bt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=o}while(e!==null);Me=6,Bt=null}function z_(e,i,o,u,f,m,T,V,B){e.cancelPendingCommit=null;do Wc();while($e!==0);if(($t&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=qf,Nf(e,o,m,T,V,B),e===_e&&(Bt=_e=null,jt=0),oo=i,ea=e,wr=o,Zd=m,Wd=f,I_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S2(Te,function(){return q_(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=R.T,R.T=null,f=x.p,x.p=2,T=$t,$t|=4;try{d2(e,i,o)}finally{$t=T,x.p=f,R.T=u}}$e=1,L_(),B_(),k_()}}function L_(){if($e===1){$e=0;var e=ea,i=oo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=R.T,R.T=null;var u=x.p;x.p=2;var f=$t;$t|=4;try{__(i,e);var m=fm,T=Sp(e.containerInfo),V=m.focusedElem,B=m.selectionRange;if(T!==V&&V&&V.ownerDocument&&Ap(V.ownerDocument.documentElement,V)){if(B!==null&&zf(V)){var tt=B.start,ct=B.end;if(ct===void 0&&(ct=tt),"selectionStart"in V)V.selectionStart=tt,V.selectionEnd=Math.min(ct,V.value.length);else{var ft=V.ownerDocument||document,it=ft&&ft.defaultView||window;if(it.getSelection){var lt=it.getSelection(),vt=V.textContent.length,Dt=Math.min(B.start,vt),pe=B.end===void 0?Dt:Math.min(B.end,vt);!lt.extend&&Dt>pe&&(T=pe,pe=Dt,Dt=T);var G=bp(V,Dt),F=bp(V,pe);if(G&&F&&(lt.rangeCount!==1||lt.anchorNode!==G.node||lt.anchorOffset!==G.offset||lt.focusNode!==F.node||lt.focusOffset!==F.offset)){var $=ft.createRange();$.setStart(G.node,G.offset),lt.removeAllRanges(),Dt>pe?(lt.addRange($),lt.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),lt.addRange($))}}}}for(ft=[],lt=V;lt=lt.parentNode;)lt.nodeType===1&&ft.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ft.length;V++){var ht=ft[V];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}uh=!!hm,fm=hm=null}finally{$t=f,x.p=u,R.T=o}}e.current=i,$e=2}}function B_(){if($e===2){$e=0;var e=ea,i=oo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=R.T,R.T=null;var u=x.p;x.p=2;var f=$t;$t|=4;try{d_(e,i.alternate,i)}finally{$t=f,x.p=u,R.T=o}}$e=3}}function k_(){if($e===4||$e===3){$e=0,Ee();var e=ea,i=oo,o=wr,u=I_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,oo=ea=null,j_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ta=null),lr(o),i=i.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=R.T,f=x.p,x.p=2,R.T=null;try{for(var m=e.onRecoverableError,T=0;T<u.length;T++){var V=u[T];m(V.value,{componentStack:V.stack})}}finally{R.T=i,x.p=f}}(wr&3)!==0&&Wc(),Wi(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===Jd?ql++:(ql=0,Jd=e):ql=0,Fl(0)}}function j_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Al(i)))}function Wc(){return L_(),B_(),k_(),q_()}function q_(){if($e!==5)return!1;var e=ea,i=Zd;Zd=0;var o=lr(wr),u=R.T,f=x.p;try{x.p=32>o?32:o,R.T=null,o=Wd,Wd=null;var m=ea,T=wr;if($e=0,oo=ea=null,wr=0,($t&6)!==0)throw Error(r(331));var V=$t;if($t|=4,A_(m.current),E_(m,m.current,T,o),$t=V,Fl(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Ue,m)}catch{}return!0}finally{x.p=f,R.T=u,j_(e,i)}}function F_(e,i,o){i=li(o,i),i=xd(e.stateNode,i,2),e=Kr(e,i,2),e!==null&&(Da(e,2),Wi(e))}function se(e,i,o){if(e.tag===3)F_(e,e,o);else for(;i!==null;){if(i.tag===3){F_(i,e,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ta===null||!ta.has(u))){e=li(o,e),o=Hy(2),u=Kr(i,o,2),u!==null&&(Gy(o,u,i,e),Da(u,2),Wi(u));break}}i=i.return}}function em(e,i,o){var u=e.pingCache;if(u===null){u=e.pingCache=new p2;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Yd=!0,f.add(o),e=T2.bind(null,e,i,o),i.then(e,e))}function T2(e,i,o){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,_e===e&&(jt&o)===o&&(Me===4||Me===3&&(jt&62914560)===jt&&300>Pt()-Gc?($t&2)===0&&lo(e,0):Kd|=o,so===jt&&(so=0)),Wi(e)}function H_(e,i){i===0&&(i=ni()),e=qa(e,i),e!==null&&(Da(e,i),Wi(e))}function b2(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),H_(e,o)}function A2(e,i){var o=0;switch(e.tag){case 31:case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),H_(e,o)}function S2(e,i){return Ft(e,i)}var Jc=null,co=null,nm=!1,$c=!1,im=!1,ia=0;function Wi(e){e!==co&&e.next===null&&(co===null?Jc=co=e:co=co.next=e),$c=!0,nm||(nm=!0,I2())}function Fl(e,i){if(!im&&$c){im=!0;do for(var o=!1,u=Jc;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,V=u.pingedLanes;m=(1<<31-be(42|e)+1)-1,m&=f&~(T&~V),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,K_(u,m))}else m=jt,m=hn(u,u===_e?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fn(u,m)||(o=!0,K_(u,m));u=u.next}while(o);im=!1}}function w2(){G_()}function G_(){$c=nm=!1;var e=0;ia!==0&&U2()&&(e=ia);for(var i=Pt(),o=null,u=Jc;u!==null;){var f=u.next,m=Q_(u,i);m===0?(u.next=null,o===null?Jc=f:o.next=f,f===null&&(co=o)):(o=u,(e!==0||(m&3)!==0)&&($c=!0)),u=f}$e!==0&&$e!==5||Fl(e),ia!==0&&(ia=0)}function Q_(e,i){for(var o=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-be(m),V=1<<T,B=f[T];B===-1?((V&o)===0||(V&u)!==0)&&(f[T]=Ds(V,i)):B<=i&&(e.expiredLanes|=V),m&=~V}if(i=_e,o=jt,o=hn(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,o===0||e===i&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&ne(u),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||fn(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(u!==null&&ne(u),lr(o)){case 2:case 8:o=Ni;break;case 32:o=Te;break;case 268435456:o=ke;break;default:o=Te}return u=Y_.bind(null,e),o=Ft(o,u),e.callbackPriority=i,e.callbackNode=o,i}return u!==null&&u!==null&&ne(u),e.callbackPriority=2,e.callbackNode=null,2}function Y_(e,i){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Wc()&&e.callbackNode!==o)return null;var u=jt;return u=hn(e,e===_e?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(D_(e,u,i),Q_(e,Pt()),e.callbackNode!=null&&e.callbackNode===o?Y_.bind(null,e):null)}function K_(e,i){if(Wc())return null;D_(e,i,!0)}function I2(){L2(function(){($t&6)!==0?Ft(On,w2):G_()})}function rm(){if(ia===0){var e=Xs;e===0&&(e=En,En<<=1,(En&261888)===0&&(En=256)),ia=e}return ia}function X_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Os(""+e)}function Z_(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function R2(e,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=X_((f[rn]||null).action),T=u.submitter;T&&(i=(i=T[rn]||null)?X_(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var V=new Hi("action","action",null,u,f);e.push({event:V,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ia!==0){var B=T?Z_(f,T):new FormData(f);Sd(o,{pending:!0,data:B,method:f.method,action:m},null,B)}}else typeof m=="function"&&(V.preventDefault(),B=T?Z_(f,T):new FormData(f),Sd(o,{pending:!0,data:B,method:f.method,action:m},m,B))},currentTarget:f}]})}}for(var am=0;am<jf.length;am++){var sm=jf[am],D2=sm.toLowerCase(),C2=sm[0].toUpperCase()+sm.slice(1);Ri(D2,"on"+C2)}Ri(Rp,"onAnimationEnd"),Ri(Dp,"onAnimationIteration"),Ri(Cp,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Gb,"onTransitionRun"),Ri(Qb,"onTransitionStart"),Ri(Yb,"onTransitionCancel"),Ri(xp,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function W_(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],f=u.event;u=u.listeners;t:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var V=u[T],B=V.instance,tt=V.currentTarget;if(V=V.listener,B!==m&&f.isPropagationStopped())break t;m=V,f.currentTarget=tt;try{m(f)}catch(ct){mc(ct)}f.currentTarget=null,m=B}else for(T=0;T<u.length;T++){if(V=u[T],B=V.instance,tt=V.currentTarget,V=V.listener,B!==m&&f.isPropagationStopped())break t;m=V,f.currentTarget=tt;try{m(f)}catch(ct){mc(ct)}f.currentTarget=null,m=B}}}}function kt(e,i){var o=i[Cs];o===void 0&&(o=i[Cs]=new Set);var u=e+"__bubble";o.has(u)||(J_(i,e,2,!1),o.add(u))}function om(e,i,o){var u=0;i&&(u|=4),J_(o,e,u,i)}var th="_reactListening"+Math.random().toString(36).slice(2);function lm(e){if(!e[th]){e[th]=!0,nl.forEach(function(o){o!=="selectionchange"&&(x2.has(o)||om(o,!1,e),om(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[th]||(i[th]=!0,om("selectionchange",!1,i))}}function J_(e,i,o,u){switch(R0(i)){case 2:var f=rA;break;case 8:f=aA;break;default:f=Am}o=f.bind(null,i,o,e),f=void 0,!Oa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(i,o,{capture:!0,passive:f}):e.addEventListener(i,o,!0):f!==void 0?e.addEventListener(i,o,{passive:f}):e.addEventListener(i,o,!1)}function um(e,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var V=u.stateNode.containerInfo;if(V===f)break;if(T===4)for(T=u.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;V!==null;){if(T=zi(V),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){u=m=T;continue t}V=V.parentNode}}u=u.return}Lr(function(){var tt=m,ct=ri(o),ft=[];t:{var it=Vp.get(e);if(it!==void 0){var lt=Hi,vt=e;switch(e){case"keypress":if(Ua(o)===0)break t;case"keydown":case"keyup":lt=hc;break;case"focusin":vt="focus",lt=La;break;case"focusout":vt="blur",lt=La;break;case"beforeblur":case"afterblur":lt=La;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=v;break;case Rp:case Dp:case Cp:lt=rc;break;case xp:lt=O;break;case"scroll":case"scrollend":lt=ml;break;case"wheel":lt=st;break;case"copy":case"cut":case"paste":lt=ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=hr;break;case"toggle":case"beforetoggle":lt=Nt}var Dt=(i&4)!==0,pe=!Dt&&(e==="scroll"||e==="scrollend"),G=Dt?it!==null?it+"Capture":null:it;Dt=[];for(var F=tt,$;F!==null;){var ht=F;if($=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||$===null||G===null||(ht=Ai(F,G),ht!=null&&Dt.push(Gl(F,ht,$))),pe)break;F=F.return}0<Dt.length&&(it=new lt(it,vt,null,o,ct),ft.push({event:it,listeners:Dt}))}}if((i&7)===0){t:{if(it=e==="mouseover"||e==="pointerover",lt=e==="mouseout"||e==="pointerout",it&&o!==hl&&(vt=o.relatedTarget||o.fromElement)&&(zi(vt)||vt[Pi]))break t;if((lt||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,lt?(vt=o.relatedTarget||o.toElement,lt=tt,vt=vt?zi(vt):null,vt!==null&&(pe=l(vt),Dt=vt.tag,vt!==pe||Dt!==5&&Dt!==27&&Dt!==6)&&(vt=null)):(lt=null,vt=tt),lt!==vt)){if(Dt=gl,ht="onMouseLeave",G="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Dt=hr,ht="onPointerLeave",G="onPointerEnter",F="pointer"),pe=lt==null?it:Hn(lt),$=vt==null?it:Hn(vt),it=new Dt(ht,F+"leave",lt,o,ct),it.target=pe,it.relatedTarget=$,ht=null,zi(ct)===tt&&(Dt=new Dt(G,F+"enter",vt,o,ct),Dt.target=$,Dt.relatedTarget=pe,ht=Dt),pe=ht,lt&&vt)e:{for(Dt=V2,G=lt,F=vt,$=0,ht=G;ht;ht=Dt(ht))$++;ht=0;for(var It=F;It;It=Dt(It))ht++;for(;0<$-ht;)G=Dt(G),$--;for(;0<ht-$;)F=Dt(F),ht--;for(;$--;){if(G===F||F!==null&&G===F.alternate){Dt=G;break e}G=Dt(G),F=Dt(F)}Dt=null}else Dt=null;lt!==null&&$_(ft,it,lt,Dt,!1),vt!==null&&pe!==null&&$_(ft,pe,vt,Dt,!0)}}t:{if(it=tt?Hn(tt):window,lt=it.nodeName&&it.nodeName.toLowerCase(),lt==="select"||lt==="input"&&it.type==="file")var Xt=pp;else if(mp(it))if(yp)Xt=qb;else{Xt=kb;var Tt=Bb}else lt=it.nodeName,!lt||lt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?tt&&Ns(tt.elementType)&&(Xt=pp):Xt=jb;if(Xt&&(Xt=Xt(e,tt))){gp(ft,Xt,o,ct);break t}Tt&&Tt(e,it,tt),e==="focusout"&&tt&&it.type==="number"&&tt.memoizedProps.value!=null&&ll(it,"number",it.value)}switch(Tt=tt?Hn(tt):window,e){case"focusin":(mp(Tt)||Tt.contentEditable==="true")&&(js=Tt,Lf=tt,El=null);break;case"focusout":El=Lf=js=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,wp(ft,o,ct);break;case"selectionchange":if(Hb)break;case"keydown":case"keyup":wp(ft,o,ct)}var Ut;if(Jt)t:{switch(e){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else ks?Ba(e,o)&&(qt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(qt="onCompositionStart");qt&&(Yi&&o.locale!=="ko"&&(ks||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&ks&&(Ut=dl()):(Fi=ct,fl="value"in Fi?Fi.value:Fi.textContent,ks=!0)),Tt=eh(tt,qt),0<Tt.length&&(qt=new Qi(qt,e,null,o,ct),ft.push({event:qt,listeners:Tt}),Ut?qt.data=Ut:(Ut=Bs(o),Ut!==null&&(qt.data=Ut)))),(Ut=si?Pb(e,o):Ub(e,o))&&(qt=eh(tt,"onBeforeInput"),0<qt.length&&(Tt=new Qi("onBeforeInput","beforeinput",null,o,ct),ft.push({event:Tt,listeners:qt}),Tt.data=Ut)),R2(ft,e,tt,o,ct)}W_(ft,i)})}function Gl(e,i,o){return{instance:e,listener:i,currentTarget:o}}function eh(e,i){for(var o=i+"Capture",u=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ai(e,o),f!=null&&u.unshift(Gl(e,f,m)),f=Ai(e,i),f!=null&&u.push(Gl(e,f,m))),e.tag===3)return u;e=e.return}return[]}function V2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $_(e,i,o,u,f){for(var m=i._reactName,T=[];o!==null&&o!==u;){var V=o,B=V.alternate,tt=V.stateNode;if(V=V.tag,B!==null&&B===u)break;V!==5&&V!==26&&V!==27||tt===null||(B=tt,f?(tt=Ai(o,m),tt!=null&&T.unshift(Gl(o,tt,B))):f||(tt=Ai(o,m),tt!=null&&T.push(Gl(o,tt,B)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var M2=/\r\n?/g,N2=/\u0000|\uFFFD/g;function t0(e){return(typeof e=="string"?e:""+e).replace(M2,`
`).replace(N2,"")}function e0(e,i){return i=t0(i),t0(e)===i}function ge(e,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Un(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Un(e,""+u);break;case"className":Gn(e,"class",u);break;case"tabIndex":Gn(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,o,u);break;case"style":cl(e,u,m);break;case"data":if(i!=="object"){Gn(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=Os(""+u),e.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&ge(e,i,"name",f.name,f,null),ge(e,i,"formEncType",f.formEncType,f,null),ge(e,i,"formMethod",f.formMethod,f,null),ge(e,i,"formTarget",f.formTarget,f,null)):(ge(e,i,"encType",f.encType,f,null),ge(e,i,"method",f.method,f,null),ge(e,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=Os(""+u),e.setAttribute(o,u);break;case"onClick":u!=null&&(e.onclick=bi);break;case"onScroll":u!=null&&kt("scroll",e);break;case"onScrollEnd":u!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}o=Os(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""+u):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":u===!0?e.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,u):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(o,u):e.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(o):e.setAttribute(o,u);break;case"popover":kt("beforetoggle",e),kt("toggle",e),Vs(e,"popover",u);break;case"xlinkActuate":He(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Vs(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ec.get(o)||o,Vs(e,o,u))}}function cm(e,i,o,u,f,m){switch(o){case"style":cl(e,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof u=="string"?Un(e,u):(typeof u=="number"||typeof u=="bigint")&&Un(e,""+u);break;case"onScroll":u!=null&&kt("scroll",e);break;case"onScrollEnd":u!=null&&kt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=e[rn]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,u,f);break t}o in e?e[o]=u:u===!0?e.setAttribute(o,""):Vs(e,o,u)}}}function yn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ge(e,i,m,T,o,null)}}f&&ge(e,i,"srcSet",o.srcSet,o,null),u&&ge(e,i,"src",o.src,o,null);return;case"input":kt("invalid",e);var V=m=T=f=null,B=null,tt=null;for(u in o)if(o.hasOwnProperty(u)){var ct=o[u];if(ct!=null)switch(u){case"name":f=ct;break;case"type":T=ct;break;case"checked":B=ct;break;case"defaultChecked":tt=ct;break;case"value":m=ct;break;case"defaultValue":V=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,i));break;default:ge(e,i,u,ct,o,null)}}Ju(e,m,V,B,tt,T,f,!1);return;case"select":kt("invalid",e),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(V=o[f],V!=null))switch(f){case"value":m=V;break;case"defaultValue":T=V;break;case"multiple":u=V;default:ge(e,i,f,V,o,null)}i=m,o=T,e.multiple=!!u,i!=null?Or(e,!!u,i,!1):o!=null&&Or(e,!!u,o,!0);return;case"textarea":kt("invalid",e),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(V=o[T],V!=null))switch(T){case"value":u=V;break;case"defaultValue":f=V;break;case"children":m=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:ge(e,i,T,V,o,null)}Pr(e,u,f,m);return;case"option":for(B in o)o.hasOwnProperty(B)&&(u=o[B],u!=null)&&(B==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":ge(e,i,B,u,o,null));return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(u=0;u<Hl.length;u++)kt(Hl[u],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in o)if(o.hasOwnProperty(tt)&&(u=o[tt],u!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ge(e,i,tt,u,o,null)}return;default:if(Ns(i)){for(ct in o)o.hasOwnProperty(ct)&&(u=o[ct],u!==void 0&&cm(e,i,ct,u,o,void 0));return}}for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null&&ge(e,i,V,u,o,null))}function O2(e,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,V=null,B=null,tt=null,ct=null;for(lt in o){var ft=o[lt];if(o.hasOwnProperty(lt)&&ft!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":B=ft;default:u.hasOwnProperty(lt)||ge(e,i,lt,null,u,ft)}}for(var it in u){var lt=u[it];if(ft=o[it],u.hasOwnProperty(it)&&(lt!=null||ft!=null))switch(it){case"type":m=lt;break;case"name":f=lt;break;case"checked":tt=lt;break;case"defaultChecked":ct=lt;break;case"value":T=lt;break;case"defaultValue":V=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,i));break;default:lt!==ft&&ge(e,i,it,lt,u,ft)}}Ms(e,T,V,B,tt,ct,m,f);return;case"select":lt=T=V=it=null;for(m in o)if(B=o[m],o.hasOwnProperty(m)&&B!=null)switch(m){case"value":break;case"multiple":lt=B;default:u.hasOwnProperty(m)||ge(e,i,m,null,u,B)}for(f in u)if(m=u[f],B=o[f],u.hasOwnProperty(f)&&(m!=null||B!=null))switch(f){case"value":it=m;break;case"defaultValue":V=m;break;case"multiple":T=m;default:m!==B&&ge(e,i,f,m,u,B)}i=V,o=T,u=lt,it!=null?Or(e,!!o,it,!1):!!u!=!!o&&(i!=null?Or(e,!!o,i,!0):Or(e,!!o,o?[]:"",!1));return;case"textarea":lt=it=null;for(V in o)if(f=o[V],o.hasOwnProperty(V)&&f!=null&&!u.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:ge(e,i,V,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":it=f;break;case"defaultValue":lt=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ge(e,i,T,f,u,m)}$u(e,it,lt);return;case"option":for(var vt in o)it=o[vt],o.hasOwnProperty(vt)&&it!=null&&!u.hasOwnProperty(vt)&&(vt==="selected"?e.selected=!1:ge(e,i,vt,null,u,it));for(B in u)it=u[B],lt=o[B],u.hasOwnProperty(B)&&it!==lt&&(it!=null||lt!=null)&&(B==="selected"?e.selected=it&&typeof it!="function"&&typeof it!="symbol":ge(e,i,B,it,u,lt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in o)it=o[Dt],o.hasOwnProperty(Dt)&&it!=null&&!u.hasOwnProperty(Dt)&&ge(e,i,Dt,null,u,it);for(tt in u)if(it=u[tt],lt=o[tt],u.hasOwnProperty(tt)&&it!==lt&&(it!=null||lt!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,i));break;default:ge(e,i,tt,it,u,lt)}return;default:if(Ns(i)){for(var pe in o)it=o[pe],o.hasOwnProperty(pe)&&it!==void 0&&!u.hasOwnProperty(pe)&&cm(e,i,pe,void 0,u,it);for(ct in u)it=u[ct],lt=o[ct],!u.hasOwnProperty(ct)||it===lt||it===void 0&&lt===void 0||cm(e,i,ct,it,u,lt);return}}for(var G in o)it=o[G],o.hasOwnProperty(G)&&it!=null&&!u.hasOwnProperty(G)&&ge(e,i,G,null,u,it);for(ft in u)it=u[ft],lt=o[ft],!u.hasOwnProperty(ft)||it===lt||it==null&&lt==null||ge(e,i,ft,it,u,lt)}function n0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,T=f.initiatorType,V=f.duration;if(m&&V&&n0(T)){for(T=0,V=f.responseEnd,u+=1;u<o.length;u++){var B=o[u],tt=B.startTime;if(tt>V)break;var ct=B.transferSize,ft=B.initiatorType;ct&&n0(ft)&&(B=B.responseEnd,T+=ct*(B<V?1:(V-tt)/(B-tt)))}if(--u,i+=8*(m+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hm=null,fm=null;function nh(e){return e.nodeType===9?e:e.ownerDocument}function i0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function dm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mm=null;function U2(){var e=window.event;return e&&e.type==="popstate"?e===mm?!1:(mm=e,!0):(mm=null,!1)}var a0=typeof setTimeout=="function"?setTimeout:void 0,z2=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(e){return s0.resolve(null).then(e).catch(B2)}:a0;function B2(e){setTimeout(function(){throw e})}function ra(e){return e==="head"}function o0(e,i){var o=i,u=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){e.removeChild(f),go(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ql(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ql(o);for(var m=o.firstChild;m;){var T=m.nextSibling,V=m.nodeName;m[Ui]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&Ql(e.ownerDocument.body);o=f}while(o);go(i)}function l0(e,i){var o=e;e=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=u}while(o)}function gm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gm(o),xs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function k2(e,i,o,u){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ui])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=di(e.nextSibling),e===null)break}return null}function j2(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=di(e.nextSibling),e===null))return null;return e}function u0(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=di(e.nextSibling),e===null))return null;return e}function pm(e){return e.data==="$?"||e.data==="$~"}function ym(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function q2(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function di(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var _m=null;function c0(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return di(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function h0(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function f0(e,i,o){switch(i=nh(o),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ql(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);xs(e)}var mi=new Map,d0=new Set;function ih(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ir=x.d;x.d={f:F2,r:H2,D:G2,C:Q2,L:Y2,m:K2,X:Z2,S:X2,M:W2};function F2(){var e=Ir.f(),i=Kc();return e||i}function H2(e){var i=ii(e);i!==null&&i.tag===5&&i.type==="form"?xy(i):Ir.r(e)}var ho=typeof document>"u"?null:document;function m0(e,i,o){var u=ho;if(u&&typeof i=="string"&&i){var f=Pn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),d0.has(f)||(d0.add(f),e={rel:e,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),yn(i,"link",e),Fe(i),u.head.appendChild(i)))}}function G2(e){Ir.D(e),m0("dns-prefetch",e,null)}function Q2(e,i){Ir.C(e,i),m0("preconnect",e,i)}function Y2(e,i,o){Ir.L(e,i,o);var u=ho;if(u&&e&&i){var f='link[rel="preload"][as="'+Pn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Pn(o.imageSizes)+'"]')):f+='[href="'+Pn(e)+'"]';var m=f;switch(i){case"style":m=fo(e);break;case"script":m=mo(e)}mi.has(m)||(e=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),mi.set(m,e),u.querySelector(f)!==null||i==="style"&&u.querySelector(Yl(m))||i==="script"&&u.querySelector(Kl(m))||(i=u.createElement("link"),yn(i,"link",e),Fe(i),u.head.appendChild(i)))}}function K2(e,i){Ir.m(e,i);var o=ho;if(o&&e){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Pn(u)+'"][href="'+Pn(e)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(e)}if(!mi.has(m)&&(e=_({rel:"modulepreload",href:e},i),mi.set(m,e),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Kl(m)))return}u=o.createElement("link"),yn(u,"link",e),Fe(u),o.head.appendChild(u)}}}function X2(e,i,o){Ir.S(e,i,o);var u=ho;if(u&&e){var f=Li(u).hoistableStyles,m=fo(e);i=i||"default";var T=f.get(m);if(!T){var V={loading:0,preload:null};if(T=u.querySelector(Yl(m)))V.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":i},o),(o=mi.get(m))&&vm(e,o);var B=T=u.createElement("link");Fe(B),yn(B,"link",e),B._p=new Promise(function(tt,ct){B.onload=tt,B.onerror=ct}),B.addEventListener("load",function(){V.loading|=1}),B.addEventListener("error",function(){V.loading|=2}),V.loading|=4,rh(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:V},f.set(m,T)}}}function Z2(e,i){Ir.X(e,i);var o=ho;if(o&&e){var u=Li(o).hoistableScripts,f=mo(e),m=u.get(f);m||(m=o.querySelector(Kl(f)),m||(e=_({src:e,async:!0},i),(i=mi.get(f))&&Em(e,i),m=o.createElement("script"),Fe(m),yn(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function W2(e,i){Ir.M(e,i);var o=ho;if(o&&e){var u=Li(o).hoistableScripts,f=mo(e),m=u.get(f);m||(m=o.querySelector(Kl(f)),m||(e=_({src:e,async:!0,type:"module"},i),(i=mi.get(f))&&Em(e,i),m=o.createElement("script"),Fe(m),yn(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function g0(e,i,o,u){var f=(f=gt.current)?ih(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=fo(o.href),o=Li(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=fo(o.href);var m=Li(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Yl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),mi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mi.set(e,o),m||J2(f,e,o,T.state))),i&&u===null)throw Error(r(528,""));return T}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(o),o=Li(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function fo(e){return'href="'+Pn(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function p0(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function J2(e,i,o,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),yn(i,"link",o),Fe(i),e.head.appendChild(i))}function mo(e){return'[src="'+Pn(e)+'"]'}function Kl(e){return"script[async]"+e}function y0(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(u)return i.instance=u,Fe(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Fe(u),yn(u,"style",f),rh(u,o.precedence,e),i.instance=u;case"stylesheet":f=fo(o.href);var m=e.querySelector(Yl(f));if(m)return i.state.loading|=4,i.instance=m,Fe(m),m;u=p0(o),(f=mi.get(f))&&vm(u,f),m=(e.ownerDocument||e).createElement("link"),Fe(m);var T=m;return T._p=new Promise(function(V,B){T.onload=V,T.onerror=B}),yn(m,"link",u),i.state.loading|=4,rh(m,o.precedence,e),i.instance=m;case"script":return m=mo(o.src),(f=e.querySelector(Kl(m)))?(i.instance=f,Fe(f),f):(u=o,(f=mi.get(m))&&(u=_({},o),Em(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),Fe(f),yn(f,"link",u),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,rh(u,o.precedence,e));return i.instance}function rh(e,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var V=u[T];if(V.dataset.precedence===i)m=V;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function vm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Em(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ah=null;function _0(e,i,o){if(ah===null){var u=new Map,f=ah=new Map;f.set(o,u)}else f=ah,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(e))return u;for(u.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var m=o[f];if(!(m[Ui]||m[qe]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=e+T;var V=u.get(T);V?V.push(m):u.set(T,[m])}}return u}function v0(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function $2(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function E0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tA(e,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=fo(u.href),m=i.querySelector(Yl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=sh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=m,Fe(m);return}m=i.ownerDocument||i,u=p0(u),(f=mi.get(f))&&vm(u,f),m=m.createElement("link"),Fe(m);var T=m;T._p=new Promise(function(V,B){T.onload=V,T.onerror=B}),yn(m,"link",u),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=sh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Tm=0;function eA(e,i){return e.stylesheets&&e.count===0&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var u=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+i);0<e.imgBytes&&Tm===0&&(Tm=62500*P2());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Tm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oh=null;function lh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oh=new Map,i.forEach(nA,e),oh=null,sh.call(e))}function nA(e,i){if(!(i.state.loading&4)){var o=oh.get(e);if(o)var u=o.get(null);else{o=new Map,oh.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=sh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Xl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function iA(e,i,o,u,f,m,T,V,B){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function T0(e,i,o,u,f,m,T,V,B,tt,ct,ft){return e=new iA(e,i,o,T,B,tt,ct,ft,V),i=1,m===!0&&(i|=24),m=Yn(3,null,null,i),e.current=m,m.stateNode=e,i=td(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},rd(m),e}function b0(e){return e?(e=Hs,e):Hs}function A0(e,i,o,u,f,m){f=b0(f),u.context===null?u.context=f:u.pendingContext=f,u=Yr(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Kr(e,u,i),o!==null&&(jn(o,e,i),Rl(o,e,i))}function S0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function bm(e,i){S0(e,i),(e=e.alternate)&&S0(e,i)}function w0(e){if(e.tag===13||e.tag===31){var i=qa(e,67108864);i!==null&&jn(i,e,67108864),bm(e,67108864)}}function I0(e){if(e.tag===13||e.tag===31){var i=Jn();i=xa(i);var o=qa(e,i);o!==null&&jn(o,e,i),bm(e,i)}}var uh=!0;function rA(e,i,o,u){var f=R.T;R.T=null;var m=x.p;try{x.p=2,Am(e,i,o,u)}finally{x.p=m,R.T=f}}function aA(e,i,o,u){var f=R.T;R.T=null;var m=x.p;try{x.p=8,Am(e,i,o,u)}finally{x.p=m,R.T=f}}function Am(e,i,o,u){if(uh){var f=Sm(u);if(f===null)um(e,i,u,ch,o),D0(e,u);else if(oA(f,e,i,o,u))u.stopPropagation();else if(D0(e,u),i&4&&-1<sA.indexOf(e)){for(;f!==null;){var m=ii(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Je(m.pendingLanes);if(T!==0){var V=m;for(V.pendingLanes|=2,V.entangledLanes|=2;T;){var B=1<<31-be(T);V.entanglements[1]|=B,T&=~B}Wi(m),($t&6)===0&&(Qc=Pt()+500,Fl(0))}}break;case 31:case 13:V=qa(m,2),V!==null&&jn(V,m,2),Kc(),bm(m,2)}if(m=Sm(u),m===null&&um(e,i,u,ch,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else um(e,i,u,null,o)}}function Sm(e){return e=ri(e),wm(e)}var ch=null;function wm(e){if(ch=null,e=zi(e),e!==null){var i=l(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=c(i),e!==null)return e;e=null}else if(o===31){if(e=d(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ch=e,null}function R0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case On:return 2;case Ni:return 8;case Te:case vi:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Im=!1,aa=null,sa=null,oa=null,Zl=new Map,Wl=new Map,la=[],sA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D0(e,i){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(i.pointerId)}}function Jl(e,i,o,u,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ii(i),i!==null&&w0(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function oA(e,i,o,u,f){switch(i){case"focusin":return aa=Jl(aa,e,i,o,u,f),!0;case"dragenter":return sa=Jl(sa,e,i,o,u,f),!0;case"mouseover":return oa=Jl(oa,e,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return Zl.set(m,Jl(Zl.get(m)||null,e,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Wl.set(m,Jl(Wl.get(m)||null,e,i,o,u,f)),!0}return!1}function C0(e){var i=zi(e.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){e.blockedOn=i,Ei(e.priority,function(){I0(o)});return}}else if(i===31){if(i=d(o),i!==null){e.blockedOn=i,Ei(e.priority,function(){I0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Sm(e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);hl=u,o.target.dispatchEvent(u),hl=null}else return i=ii(o),i!==null&&w0(i),e.blockedOn=o,!1;i.shift()}return!0}function x0(e,i,o){hh(e)&&o.delete(i)}function lA(){Im=!1,aa!==null&&hh(aa)&&(aa=null),sa!==null&&hh(sa)&&(sa=null),oa!==null&&hh(oa)&&(oa=null),Zl.forEach(x0),Wl.forEach(x0)}function fh(e,i){e.blockedOn===i&&(e.blockedOn=null,Im||(Im=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,lA)))}var dh=null;function V0(e){dh!==e&&(dh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dh===e&&(dh=null);for(var i=0;i<e.length;i+=3){var o=e[i],u=e[i+1],f=e[i+2];if(typeof u!="function"){if(wm(u||o)===null)continue;break}var m=ii(o);m!==null&&(e.splice(i,3),i-=3,Sd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function go(e){function i(B){return fh(B,e)}aa!==null&&fh(aa,e),sa!==null&&fh(sa,e),oa!==null&&fh(oa,e),Zl.forEach(i),Wl.forEach(i);for(var o=0;o<la.length;o++){var u=la[o];u.blockedOn===e&&(u.blockedOn=null)}for(;0<la.length&&(o=la[0],o.blockedOn===null);)C0(o),o.blockedOn===null&&la.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[rn]||null;if(typeof m=="function")T||V0(o);else if(T){var V=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[rn]||null)V=T.formAction;else if(wm(f)!==null)continue}else V=T.action;typeof V=="function"?o[u+1]=V:(o.splice(u,3),u-=3),V0(o)}}}function M0(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Rm(e){this._internalRoot=e}mh.prototype.render=Rm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=Jn();A0(o,u,e,i,null,null)},mh.prototype.unmount=Rm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;A0(e.current,2,null,e,null,null),Kc(),i[Pi]=null}};function mh(e){this._internalRoot=e}mh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ku();e={blockedOn:null,target:e,priority:i};for(var o=0;o<la.length&&i!==0&&i<la[o].priority;o++);la.splice(o,0,e),o===0&&C0(e)}};var N0=t.version;if(N0!=="19.2.3")throw Error(r(527,N0,"19.2.3"));x.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var uA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Ue=gh.inject(uA),fe=gh}catch{}}return tu.createRoot=function(e,i){if(!s(e))throw Error(r(299));var o=!1,u="",f=ky,m=jy,T=qy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=T0(e,1,!1,null,null,o,u,null,f,m,T,M0),e[Pi]=i.current,lm(e),new Rm(i)},tu.hydrateRoot=function(e,i,o){if(!s(e))throw Error(r(299));var u=!1,f="",m=ky,T=jy,V=qy,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),i=T0(e,1,!0,i,o??null,u,f,B,m,T,V,M0),i.context=b0(null),o=i.current,u=Jn(),u=xa(u),f=Yr(u),f.callback=null,Kr(o,f,u),o=u,i.current.lanes=o,Da(i,o),Wi(i),e[Pi]=i.current,lm(e),new mh(i)},tu.version="19.2.3",tu}var F0;function EA(){if(F0)return xm.exports;F0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xm.exports=vA(),xm.exports}var TA=EA();const H0=a=>{let t;const n=new Set,r=(p,y)=>{const _=typeof p=="function"?p(t):p;if(!Object.is(_,t)){const E=t;t=y??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(w=>w(t,E))}},s=()=>t,d={setState:r,getState:s,getInitialState:()=>g,subscribe:p=>(n.add(p),()=>n.delete(p))},g=t=a(r,s,d);return d},bA=(a=>a?H0(a):H0),AA=a=>a;function SA(a,t=AA){const n=ph.useSyncExternalStore(a.subscribe,ph.useCallback(()=>t(a.getState()),[a,t]),ph.useCallback(()=>t(a.getInitialState()),[a,t]));return ph.useDebugValue(n),n}const G0=a=>{const t=bA(a),n=r=>SA(t,r);return Object.assign(n,t),n},wA=(a=>a?G0(a):G0),IA=()=>{};var Q0={};const M1=function(a){const t=[];let n=0;for(let r=0;r<a.length;r++){let s=a.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},RA=function(a){const t=[];let n=0,r=0;for(;n<a.length;){const s=a[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=a[n++];t[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=a[n++],c=a[n++],d=a[n++],g=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const l=a[n++],c=a[n++];t[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return t.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<a.length;s+=3){const l=a[s],c=s+1<a.length,d=c?a[s+1]:0,g=s+2<a.length,p=g?a[s+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;g||(w=64,c||(E=64)),r.push(n[y],n[_],n[E],n[w])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(M1(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):RA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<a.length;){const l=n[a.charAt(s++)],d=s<a.length?n[a.charAt(s)]:0;++s;const p=s<a.length?n[a.charAt(s)]:64;++s;const _=s<a.length?n[a.charAt(s)]:64;if(++s,l==null||d==null||p==null||_==null)throw new DA;const E=l<<2|d>>4;if(r.push(E),p!==64){const w=d<<4&240|p>>2;if(r.push(w),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(a){const t=M1(a);return N1.encodeByteArray(t,!0)},O1=function(a){return CA(a).replace(/\./g,"")},xA=function(a){try{return N1.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function P1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VA=()=>P1().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof Q0>"u")return;const a=Q0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},NA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&xA(a[1]);return t&&JSON.parse(t)},U1=()=>{try{return IA()||VA()||MA()||NA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},OA=()=>U1()?.config;class PA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function z1(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UA(a){return(await fetch(a,{credentials:"include"})).ok}function Lh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L1(){const a=U1()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k1(){return!L1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function j1(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((a,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const LA="FirebaseError";class Ko extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=LA,Object.setPrototypeOf(this,Ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q1.prototype.create)}}class q1{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,l=this.errors[t],c=l?BA(l,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ko(s,d,r)}}function BA(a,t){return a.replace(kA,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const kA=/\{\$([^}]+)}/g;function Bh(a,t){if(a===t)return!0;const n=Object.keys(a),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const l=a[s],c=t[s];if(Y0(l)&&Y0(c)){if(!Bh(l,c))return!1}else if(l!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Y0(a){return a!==null&&typeof a=="object"}function Tu(a){return a&&a._delegate?a._delegate:a}class bu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ns="[DEFAULT]";class jA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new PA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FA(t))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(t=ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ns){return this.instances.has(t)}getOptions(t=ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&t(l,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ns){return this.component?this.component.multipleInstances?t:ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(a){return a===ns?void 0:a}function FA(a){return a.instantiationMode==="EAGER"}class HA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Yt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Yt||(Yt={}));const GA={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},QA=Yt.INFO,YA={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},KA=(a,t,...n)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),s=YA[t];if(s)console[s](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class F1{constructor(t){this.name=t,this._logLevel=QA,this._logHandler=KA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}const XA=(a,t)=>t.some(n=>a instanceof n);let K0,X0;function ZA(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WA(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,Ym=new WeakMap,G1=new WeakMap,Om=new WeakMap,Sg=new WeakMap;function JA(a){const t=new Promise((n,r)=>{const s=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{n(pa(a.result)),s()},c=()=>{r(a.error),s()};a.addEventListener("success",l),a.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&H1.set(n,a)}).catch(()=>{}),Sg.set(t,a),t}function $A(a){if(Ym.has(a))return;const t=new Promise((n,r)=>{const s=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{r(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});Ym.set(a,t)}let Km={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return Ym.get(a);if(t==="objectStoreNames")return a.objectStoreNames||G1.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function tS(a){Km=a(Km)}function eS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=a.call(Pm(this),t,...n);return G1.set(r,t.sort?t.sort():[t]),pa(r)}:WA().includes(a)?function(...t){return a.apply(Pm(this),t),pa(H1.get(this))}:function(...t){return pa(a.apply(Pm(this),t))}}function nS(a){return typeof a=="function"?eS(a):(a instanceof IDBTransaction&&$A(a),XA(a,ZA())?new Proxy(a,Km):a)}function pa(a){if(a instanceof IDBRequest)return JA(a);if(Om.has(a))return Om.get(a);const t=nS(a);return t!==a&&(Om.set(a,t),Sg.set(t,a)),t}const Pm=a=>Sg.get(a);function iS(a,t,{blocked:n,upgrade:r,blocking:s,terminated:l}={}){const c=indexedDB.open(a,t),d=pa(c);return r&&c.addEventListener("upgradeneeded",g=>{r(pa(c.result),g.oldVersion,g.newVersion,pa(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),s&&g.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const rS=["get","getKey","getAll","getAllKeys","count"],aS=["put","add","delete","clear"],Um=new Map;function Z0(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Um.get(t))return Um.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=aS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rS.includes(n)))return;const l=async function(c,...d){const g=this.transaction(c,s?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&g.done]))[0]};return Um.set(t,l),l}tS(a=>({...a,get:(t,n,r)=>Z0(t,n)||a.get(t,n,r),has:(t,n)=>!!Z0(t,n)||a.has(t,n)}));class sS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oS(a){return a.getComponent()?.type==="VERSION"}const Xm="@firebase/app",W0="0.14.7";const Dr=new F1("@firebase/app"),lS="@firebase/app-compat",uS="@firebase/analytics-compat",cS="@firebase/analytics",hS="@firebase/app-check-compat",fS="@firebase/app-check",dS="@firebase/auth",mS="@firebase/auth-compat",gS="@firebase/database",pS="@firebase/data-connect",yS="@firebase/database-compat",_S="@firebase/functions",vS="@firebase/functions-compat",ES="@firebase/installations",TS="@firebase/installations-compat",bS="@firebase/messaging",AS="@firebase/messaging-compat",SS="@firebase/performance",wS="@firebase/performance-compat",IS="@firebase/remote-config",RS="@firebase/remote-config-compat",DS="@firebase/storage",CS="@firebase/storage-compat",xS="@firebase/firestore",VS="@firebase/ai",MS="@firebase/firestore-compat",NS="firebase",OS="12.8.0";const PS="[DEFAULT]",US={[Xm]:"fire-core",[lS]:"fire-core-compat",[cS]:"fire-analytics",[uS]:"fire-analytics-compat",[fS]:"fire-app-check",[hS]:"fire-app-check-compat",[dS]:"fire-auth",[mS]:"fire-auth-compat",[gS]:"fire-rtdb",[pS]:"fire-data-connect",[yS]:"fire-rtdb-compat",[_S]:"fire-fn",[vS]:"fire-fn-compat",[ES]:"fire-iid",[TS]:"fire-iid-compat",[bS]:"fire-fcm",[AS]:"fire-fcm-compat",[SS]:"fire-perf",[wS]:"fire-perf-compat",[IS]:"fire-rc",[RS]:"fire-rc-compat",[DS]:"fire-gcs",[CS]:"fire-gcs-compat",[xS]:"fire-fst",[MS]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};const Zm=new Map,zS=new Map,Wm=new Map;function J0(a,t){try{a.container.addComponent(t)}catch(n){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function kh(a){const t=a.name;if(Wm.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;Wm.set(t,a);for(const n of Zm.values())J0(n,a);for(const n of zS.values())J0(n,a);return!0}function LS(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function BS(a){return a==null?!1:a.settings!==void 0}const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new q1("app","Firebase",kS);class jS{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}const qS=OS;function FS(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const r={name:PS,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw fs.create("bad-app-name",{appName:String(s)});if(n||(n=OA()),!n)throw fs.create("no-options");const l=Zm.get(s);if(l){if(Bh(n,l.options)&&Bh(r,l.config))return l;throw fs.create("duplicate-app",{appName:s})}const c=new HA(s);for(const g of Wm.values())c.addComponent(g);const d=new jS(n,r,c);return Zm.set(s,d),d}function Co(a,t,n){let r=US[a]??a;n&&(r+=`-${n}`);const s=r.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(c.join(" "));return}kh(new bu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const HS="firebase-heartbeat-database",GS=1,Au="firebase-heartbeat-store";let zm=null;function Q1(){return zm||(zm=iS(HS,GS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(a=>{throw fs.create("idb-open",{originalErrorMessage:a.message})})),zm}async function QS(a){try{const n=(await Q1()).transaction(Au),r=await n.objectStore(Au).get(Y1(a));return await n.done,r}catch(t){if(t instanceof Ko)Dr.warn(t.message);else{const n=fs.create("idb-get",{originalErrorMessage:t?.message});Dr.warn(n.message)}}}async function $0(a,t){try{const r=(await Q1()).transaction(Au,"readwrite");await r.objectStore(Au).put(t,Y1(a)),await r.done}catch(n){if(n instanceof Ko)Dr.warn(n.message);else{const r=fs.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}}function Y1(a){return`${a.name}!${a.options.appId}`}const YS=1024,KS=30;class XS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>KS){const s=JS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Dr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tv(),{heartbeatsToSend:n,unsentEntries:r}=ZS(this._heartbeatsCache.heartbeats),s=O1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Dr.warn(t),""}}}function tv(){return new Date().toISOString().substring(0,10)}function ZS(a,t=YS){const n=[];let r=a.slice();for(const s of a){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),ev(n)>t){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ev(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j1()?zA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return $0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return $0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ev(a){return O1(JSON.stringify({version:2,heartbeats:a})).length}function JS(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,t=r);return t}function $S(a){kh(new bu("platform-logger",t=>new sS(t),"PRIVATE")),kh(new bu("heartbeat",t=>new XS(t),"PRIVATE")),Co(Xm,W0,a),Co(Xm,W0,"esm2020"),Co("fire-js","")}$S("");var tw="firebase",ew="12.8.0";Co(tw,ew,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ya,K1;(function(){var a;function t(M,b){function A(){}A.prototype=b.prototype,M.F=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.D=function(C,D,N){for(var I=Array(arguments.length-2),q=2;q<arguments.length;q++)I[q-2]=arguments[q];return b.prototype[D].apply(C,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,b,A){A||(A=0);const C=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)C[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;D<16;++D)C[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],D=M.g[2];let N=M.g[3],I;I=b+(N^A&(D^N))+C[0]+3614090360&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[1]+3905402710&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[2]+606105819&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[3]+3250441966&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+C[4]+4118548399&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[5]+1200080426&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[6]+2821735955&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[7]+4249261313&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+C[8]+1770035416&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[9]+2336552879&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[10]+4294925233&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[11]+2304563134&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+C[12]+1804603682&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[13]+4254626195&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[14]+2792965006&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[15]+1236535329&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(D^N&(A^D))+C[1]+4129170786&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[6]+3225465664&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[11]+643717713&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[0]+3921069994&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+C[5]+3593408605&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[10]+38016083&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[15]+3634488961&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[4]+3889429448&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+C[9]+568446438&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[14]+3275163606&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[3]+4107603335&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[8]+1163531501&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+C[13]+2850285829&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[2]+4243563512&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[7]+1735328473&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[12]+2368359562&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(A^D^N)+C[5]+4294588738&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[8]+2272392833&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[11]+1839030562&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[14]+4259657740&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+C[1]+2763975236&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[4]+1272893353&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[7]+4139469664&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[10]+3200236656&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+C[13]+681279174&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[0]+3936430074&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[3]+3572445317&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[6]+76029189&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+C[9]+3654602809&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[12]+3873151461&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[15]+530742520&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[2]+3299628645&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(D^(A|~N))+C[0]+4096336452&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[7]+1126891415&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[14]+2878612391&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[5]+4237533241&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+C[12]+1700485571&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[3]+2399980690&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[10]+4293915773&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[1]+2240044497&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+C[8]+1873313359&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[15]+4264355552&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[6]+2734768916&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[13]+1309151649&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+C[4]+4149444226&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[11]+3174756917&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[2]+718787259&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+N&4294967295}r.prototype.v=function(M,b){b===void 0&&(b=M.length);const A=b-this.blockSize,C=this.C;let D=this.h,N=0;for(;N<b;){if(D==0)for(;N<=A;)s(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<b;)if(C[D++]=M.charCodeAt(N++),D==this.blockSize){s(this,C),D=0;break}}else for(;N<b;)if(C[D++]=M[N++],D==this.blockSize){s(this,C),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;b=this.o*8;for(var A=M.length-8;A<M.length;++A)M[A]=b&255,b/=256;for(this.v(M),M=Array(16),b=0,A=0;A<4;++A)for(let C=0;C<32;C+=8)M[b++]=this.g[A]>>>C&255;return M};function l(M,b){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function c(M,b){this.h=b;const A=[];let C=!0;for(let D=M.length-1;D>=0;D--){const N=M[D]|0;C&&N==b||(A[D]=N,C=!1)}this.g=A}var d={};function g(M){return-128<=M&&M<128?l(M,function(b){return new c([b|0],b<0?-1:0)}):new c([M|0],M<0?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(M<0)return j(p(-M));const b=[];let A=1;for(let C=0;M>=A;C++)b[C]=M/A|0,A*=4294967296;return new c(b,0)}function y(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return j(y(M.substring(1),b));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(b,8));let C=_;for(let N=0;N<M.length;N+=8){var D=Math.min(8,M.length-N);const I=parseInt(M.substring(N,N+D),b);D<8?(D=p(Math.pow(b,D)),C=C.j(D).add(p(I))):(C=C.j(A),C=C.add(p(I)))}return C}var _=g(0),E=g(1),w=g(16777216);a=c.prototype,a.m=function(){if(z(this))return-j(this).m();let M=0,b=1;for(let A=0;A<this.g.length;A++){const C=this.i(A);M+=(C>=0?C:4294967296+C)*b,b*=4294967296}return M},a.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(z(this))return"-"+j(this).toString(M);const b=p(Math.pow(M,6));var A=this;let C="";for(;;){const D=K(A,b).g;A=k(A,D.j(b));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(M);if(A=D,P(A))return N+C;for(;N.length<6;)N="0"+N;C=N+C}},a.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(let b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function z(M){return M.h==-1}a.l=function(M){return M=k(this,M),z(M)?-1:P(M)?0:1};function j(M){const b=M.g.length,A=[];for(let C=0;C<b;C++)A[C]=~M.g[C];return new c(A,~M.h).add(E)}a.abs=function(){return z(this)?j(this):this},a.add=function(M){const b=Math.max(this.g.length,M.g.length),A=[];let C=0;for(let D=0;D<=b;D++){let N=C+(this.i(D)&65535)+(M.i(D)&65535),I=(N>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);C=I>>>16,N&=65535,I&=65535,A[D]=I<<16|N}return new c(A,A[A.length-1]&-2147483648?-1:0)};function k(M,b){return M.add(j(b))}a.j=function(M){if(P(this)||P(M))return _;if(z(this))return z(M)?j(this).j(j(M)):j(j(this).j(M));if(z(M))return j(this.j(j(M)));if(this.l(w)<0&&M.l(w)<0)return p(this.m()*M.m());const b=this.g.length+M.g.length,A=[];for(var C=0;C<2*b;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(let D=0;D<M.g.length;D++){const N=this.i(C)>>>16,I=this.i(C)&65535,q=M.i(D)>>>16,J=M.i(D)&65535;A[2*C+2*D]+=I*J,at(A,2*C+2*D),A[2*C+2*D+1]+=N*J,at(A,2*C+2*D+1),A[2*C+2*D+1]+=I*q,at(A,2*C+2*D+1),A[2*C+2*D+2]+=N*q,at(A,2*C+2*D+2)}for(M=0;M<b;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=b;M<2*b;M++)A[M]=0;return new c(A,0)};function at(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function Y(M,b){this.g=M,this.h=b}function K(M,b){if(P(b))throw Error("division by zero");if(P(M))return new Y(_,_);if(z(M))return b=K(j(M),b),new Y(j(b.g),j(b.h));if(z(b))return b=K(M,j(b)),new Y(j(b.g),b.h);if(M.g.length>30){if(z(M)||z(b))throw Error("slowDivide_ only works with positive integers.");for(var A=E,C=b;C.l(M)<=0;)A=ut(A),C=ut(C);var D=L(A,1),N=L(C,1);for(C=L(C,2),A=L(A,2);!P(C);){var I=N.add(C);I.l(M)<=0&&(D=D.add(A),N=I),C=L(C,1),A=L(A,1)}return b=k(M,D.j(b)),new Y(D,b)}for(D=_;M.l(b)>=0;){for(A=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),N=p(A),I=N.j(b);z(I)||I.l(M)>0;)A-=C,N=p(A),I=N.j(b);P(N)&&(N=E),D=D.add(N),M=k(M,I)}return new Y(D,M)}a.B=function(M){return K(this,M).h},a.and=function(M){const b=Math.max(this.g.length,M.g.length),A=[];for(let C=0;C<b;C++)A[C]=this.i(C)&M.i(C);return new c(A,this.h&M.h)},a.or=function(M){const b=Math.max(this.g.length,M.g.length),A=[];for(let C=0;C<b;C++)A[C]=this.i(C)|M.i(C);return new c(A,this.h|M.h)},a.xor=function(M){const b=Math.max(this.g.length,M.g.length),A=[];for(let C=0;C<b;C++)A[C]=this.i(C)^M.i(C);return new c(A,this.h^M.h)};function ut(M){const b=M.g.length+1,A=[];for(let C=0;C<b;C++)A[C]=M.i(C)<<1|M.i(C-1)>>>31;return new c(A,M.h)}function L(M,b){const A=b>>5;b%=32;const C=M.g.length-A,D=[];for(let N=0;N<C;N++)D[N]=b>0?M.i(N+A)>>>b|M.i(N+A+1)<<32-b:M.i(N+A);return new c(D,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,K1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ya=c}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var X1,lu,Z1,wh,Jm,W1,J1,$1;(function(){var a,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var v=0;v<h.length;++v){var S=h[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)t:{var S=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var W=h[O];if(!(W in S))break t;S=S[W]}h=h[h.length-1],O=S[h],v=v(O),v!=O&&v!=null&&t(S,h,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(v){var S=[],O;for(O in v)Object.prototype.hasOwnProperty.call(v,O)&&S.push([O,v[O]]);return S}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,S){return h.call.apply(h.bind,arguments)}function p(h,v,S){return p=g,p.apply(null,arguments)}function y(h,v){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function _(h,v){function S(){}S.prototype=v.prototype,h.Z=v.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(O,W,st){for(var pt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)pt[Nt-2]=arguments[Nt];return v.prototype[W].apply(O,pt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const v=h.length;if(v>0){const S=Array(v);for(let O=0;O<v;O++)S[O]=h[O];return S}return[]}function P(h,v){for(let O=1;O<arguments.length;O++){const W=arguments[O];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=h.length||0;const st=W.length||0;h.length=S+st;for(let pt=0;pt<st;pt++)h[S+pt]=W[pt]}else h.push(W)}}class z{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){c.setTimeout(()=>{throw h},0)}function k(){var h=M;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class at{constructor(){this.h=this.g=null}add(v,S){const O=Y.get();O.set(v,S),this.h?this.h.next=O:this.g=O,this.h=O}}var Y=new z(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,L=!1,M=new at,b=()=>{const h=Promise.resolve(void 0);ut=()=>{h.then(A)}};function A(){for(var h;h=k();){try{h.h.call(h.g)}catch(S){j(S)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}L=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,v),c.removeEventListener("test",S,v)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function q(h,v){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(q,D),q.prototype.init=function(h,v){const S=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(S=="mouseover"?v=h.fromElement:S=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),R=0;function x(h,v,S,O,W){this.listener=h,this.proxy=null,this.src=v,this.type=S,this.capture=!!O,this.ha=W,this.key=++R,this.da=this.fa=!1}function nt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Q(h,v,S){for(const O in h)v.call(S,h[O],O,h)}function rt(h,v){for(const S in h)v.call(void 0,h[S],S,h)}function U(h){const v={};for(const S in h)v[S]=h[S];return v}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(h,v){let S,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(S in O)h[S]=O[S];for(let st=0;st<H.length;st++)S=H[st],Object.prototype.hasOwnProperty.call(O,S)&&(h[S]=O[S])}}function et(h){this.src=h,this.g={},this.h=0}et.prototype.add=function(h,v,S,O,W){const st=h.toString();h=this.g[st],h||(h=this.g[st]=[],this.h++);const pt=gt(h,v,O,W);return pt>-1?(v=h[pt],S||(v.fa=!1)):(v=new x(v,this.src,st,!!O,W),v.fa=S,h.push(v)),v};function Z(h,v){const S=v.type;if(S in h.g){var O=h.g[S],W=Array.prototype.indexOf.call(O,v,void 0),st;(st=W>=0)&&Array.prototype.splice.call(O,W,1),st&&(nt(v),h.g[S].length==0&&(delete h.g[S],h.h--))}}function gt(h,v,S,O){for(let W=0;W<h.length;++W){const st=h[W];if(!st.da&&st.listener==v&&st.capture==!!S&&st.ha==O)return W}return-1}var At="closure_lm_"+(Math.random()*1e6|0),Ct={};function wt(h,v,S,O,W){if(Array.isArray(v)){for(let st=0;st<v.length;st++)wt(h,v[st],S,O,W);return null}return S=Wt(S),h&&h[J]?h.J(v,S,d(O)?!!O.capture:!1,W):Kt(h,v,S,!1,O,W)}function Kt(h,v,S,O,W,st){if(!v)throw Error("Invalid event type");const pt=d(W)?!!W.capture:!!W;let Nt=we(h);if(Nt||(h[At]=Nt=new et(h)),S=Nt.add(v,S,O,pt,st),S.proxy)return S;if(O=ce(),S.proxy=O,O.src=h,O.listener=S,h.addEventListener)N||(W=pt),W===void 0&&(W=!1),h.addEventListener(v.toString(),O,W);else if(h.attachEvent)h.attachEvent(Oe(v.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ce(){function h(S){return v.call(h.src,h.listener,S)}const v=he;return h}function ve(h,v,S,O,W){if(Array.isArray(v))for(var st=0;st<v.length;st++)ve(h,v[st],S,O,W);else O=d(O)?!!O.capture:!!O,S=Wt(S),h&&h[J]?(h=h.i,st=String(v).toString(),st in h.g&&(v=h.g[st],S=gt(v,S,O,W),S>-1&&(nt(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete h.g[st],h.h--)))):h&&(h=we(h))&&(v=h.g[v.toString()],h=-1,v&&(h=gt(v,S,O,W)),(S=h>-1?v[h]:null)&&Nn(S))}function Nn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[J])Z(v.i,h);else{var S=h.type,O=h.proxy;v.removeEventListener?v.removeEventListener(S,O,h.capture):v.detachEvent?v.detachEvent(Oe(S),O):v.addListener&&v.removeListener&&v.removeListener(O),(S=we(v))?(Z(S,h),S.h==0&&(S.src=null,v[At]=null)):nt(h)}}}function Oe(h){return h in Ct?Ct[h]:Ct[h]="on"+h}function he(h,v){if(h.da)h=!0;else{v=new q(v,this);const S=h.listener,O=h.ha||h.src;h.fa&&Nn(h),h=S.call(O,v)}return h}function we(h){return h=h[At],h instanceof et?h:null}var te="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wt(h){return typeof h=="function"?h:(h[te]||(h[te]=function(v){return h.handleEvent(v)}),h[te])}function Lt(){C.call(this),this.i=new et(this),this.M=this,this.G=null}_(Lt,C),Lt.prototype[J]=!0,Lt.prototype.removeEventListener=function(h,v,S,O){ve(this,h,v,S,O)};function Ft(h,v){var S,O=h.G;if(O)for(S=[];O;O=O.G)S.push(O);if(h=h.M,O=v.type||v,typeof v=="string")v=new D(v,h);else if(v instanceof D)v.target=v.target||h;else{var W=v;v=new D(O,h),ot(v,W)}W=!0;let st,pt;if(S)for(pt=S.length-1;pt>=0;pt--)st=v.g=S[pt],W=ne(st,O,!0,v)&&W;if(st=v.g=h,W=ne(st,O,!0,v)&&W,W=ne(st,O,!1,v)&&W,S)for(pt=0;pt<S.length;pt++)st=v.g=S[pt],W=ne(st,O,!1,v)&&W}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const S=h.g[v];for(let O=0;O<S.length;O++)nt(S[O]);delete h.g[v],h.h--}}this.G=null},Lt.prototype.J=function(h,v,S,O){return this.i.add(String(h),v,!1,S,O)},Lt.prototype.K=function(h,v,S,O){return this.i.add(String(h),v,!0,S,O)};function ne(h,v,S,O){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let st=0;st<v.length;++st){const pt=v[st];if(pt&&!pt.da&&pt.capture==S){const Nt=pt.listener,ze=pt.ha||pt.src;pt.fa&&Z(h.i,pt),W=Nt.call(ze,O)!==!1&&W}}return W&&!O.defaultPrevented}function un(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ee(h){h.g=un(()=>{h.g=null,h.i&&(h.i=!1,Ee(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Pt extends C{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ee(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(h){C.call(this),this.h=h,this.g={}}_(Pe,C);var On=[];function Ni(h){Q(h.g,function(v,S){this.g.hasOwnProperty(S)&&Nn(v)},h),h.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Ni(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=c.JSON.stringify,vi=c.JSON.parse,ke=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function vn(){}function cn(){}var Ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fe(){D.call(this,"d")}_(fe,D);function je(){D.call(this,"c")}_(je,D);var be={},Rs=null;function Oi(){return Rs=Rs||new Lt}be.Ia="serverreachability";function Ra(h){D.call(this,be.Ia,h)}_(Ra,D);function En(h){const v=Oi();Ft(v,new Ra(v))}be.STAT_EVENT="statevent";function or(h,v){D.call(this,be.STAT_EVENT,h),this.stat=v}_(or,D);function ie(h){const v=Oi();Ft(v,new or(v,h))}be.Ja="timingevent";function Je(h,v){D.call(this,be.Ja,h),this.size=v}_(Je,D);function hn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function Ds(h,v,S,O,W,st){h.info(function(){if(h.g)if(st){var pt="",Nt=st.split("&");for(let Jt=0;Jt<Nt.length;Jt++){var ze=Nt[Jt].split("=");if(ze.length>1){const Ie=ze[0];ze=ze[1];const si=Ie.split("_");pt=si.length>=2&&si[1]=="type"?pt+(Ie+"="+ze+"&"):pt+(Ie+"=redacted&")}}}else pt=null;else pt=st;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+v+`
`+S+`
`+pt})}function ni(h,v,S,O,W,st,pt){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+v+`
`+S+`
`+st+" "+pt})}function nn(h,v,S,O){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Nf(h,S)+(O?" "+O:"")})}function Da(h,v){h.info(function(){return"TIMEOUT: "+v})}fn.prototype.info=function(){};function Nf(h,v){if(!h.g)return v;if(!v)return null;try{const st=JSON.parse(v);if(st){for(h=0;h<st.length;h++)if(Array.isArray(st[h])){var S=st[h];if(!(S.length<2)){var O=S[1];if(Array.isArray(O)&&!(O.length<1)){var W=O[0];if(W!="noop"&&W!="stop"&&W!="close")for(let pt=1;pt<O.length;pt++)O[pt]=""}}}}return Te(st)}catch{return v}}var Ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function xa(){}_(xa,vn),xa.prototype.g=function(){return new XMLHttpRequest},el=new xa;function lr(h){return encodeURIComponent(String(h))}function Ku(h){var v=1;h=h.split(":");const S=[];for(;v>0&&h.length;)S.push(h.shift()),v--;return h.length&&S.push(h.join(":")),S}function Ei(h,v,S,O){this.j=h,this.i=v,this.l=S,this.S=O||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var qe={},rn={};function Pi(h,v,S){h.M=1,h.A=Va(He(v)),h.u=S,h.R=!0,Cs(h,null)}function Cs(h,v){h.F=Date.now(),Ui(h),h.B=He(h.A);var S=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),Ns(S.i,"t",O),h.C=0,S=h.j.L,h.h=new Ti,h.g=uc(h.j,S?v:null,!h.u),h.P>0&&(h.O=new Pt(p(h.Y,h,h.g),h.P)),v=h.V,S=h.g,O=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(On[0]=W.toString()),W=On);for(let st=0;st<W.length;st++){const pt=wt(S,W[st],O||v.handleEvent,!1,v.h||v);if(!pt)break;v.g[pt.key]=pt}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),En(),Ds(h.i,h.v,h.B,h.l,h.S,h.u)}Ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&Si(h)==3?v.j():this.Y(h)},Ei.prototype.Y=function(h){try{if(h==this.g)t:{const Nt=Si(this.g),ze=this.g.ya(),Jt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||Nt!=4||ze==7||(ze==8||Jt<=0?En(3):En(2)),zi(this);var v=this.g.ca();this.X=v;var S=Of(this);if(this.o=v==200,ni(this.i,this.v,this.B,this.l,this.S,Nt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var O,W=this.g;if((O=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(O)){var st=O;break e}}st=null}if(h=st)nn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,h);else{this.o=!1,this.m=3,ie(12),Hn(this),ii(this);break t}}if(this.R){h=!0;let Ie;for(;!this.K&&this.C<S.length;)if(Ie=Zu(this,S),Ie==rn){Nt==4&&(this.m=4,ie(14),h=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==qe){this.m=4,ie(15),nn(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else nn(this.i,this.l,Ie,null),Li(this,Ie);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||S.length!=0||this.h.h||(this.m=1,ie(16),h=!1),this.o=this.o&&h,!h)nn(this.i,this.l,S,"[Invalid Chunked Response]"),Hn(this),ii(this);else if(S.length>0&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.aa&&!pt.P&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),pl(pt),pt.P=!0,ie(11))}}else nn(this.i,this.l,S,null),Li(this,S);Nt==4&&Hn(this),this.o&&!this.K&&(Nt==4?ac(this.j,this):(this.o=!1,Ui(this)))}else cr(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,ie(12)):(this.m=0,ie(13)),Hn(this),ii(this)}}}catch{}};function Of(h){if(!Xu(h))return h.g.la();const v=dn(h.g);if(v==="")return"";let S="";const O=v.length,W=Si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hn(h),ii(h),"";h.h.i=new c.TextDecoder}for(let st=0;st<O;st++)h.h.h=!0,S+=h.h.i.decode(v[st],{stream:!(W&&st==O-1)});return v.length=0,h.h.g+=S,h.C=0,h.h.g}function Xu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zu(h,v){var S=h.C,O=v.indexOf(`
`,S);return O==-1?rn:(S=Number(v.substring(S,O)),isNaN(S)?qe:(O+=1,O+S>v.length?rn:(v=v.slice(O,O+S),h.C=O+S,v)))}Ei.prototype.cancel=function(){this.K=!0,Hn(this)};function Ui(h){h.T=Date.now()+h.H,xs(h,h.H)}function xs(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=hn(p(h.aa,h),v)}function zi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Da(this.i,this.B),this.M!=2&&(En(),ie(17)),Hn(this),this.m=2,ii(this)):xs(this,this.T-h)};function ii(h){h.j.I==0||h.K||ac(h.j,h)}function Hn(h){zi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ni(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Li(h,v){try{var S=h.j;if(S.I!=0&&(S.g==h||ki(S.h,h))){if(!h.L&&ki(S.h,h)&&S.I==3){try{var O=S.Ba.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)Ls(S),kr(S);else break t;La(S),ie(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=hn(p(S.Va,S),6e3));Bi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Qi(S,11)}else if((h.L||S.g==h)&&Ls(S),!I(v))for(W=S.Ba.g.parse(v),v=0;v<W.length;v++){let Jt=W[v];const Ie=Jt[0];if(!(Ie<=S.K))if(S.K=Ie,Jt=Jt[1],S.I==2)if(Jt[0]=="c"){S.M=Jt[1],S.ba=Jt[2];const si=Jt[3];si!=null&&(S.ka=si,S.j.info("VER="+S.ka));const Yi=Jt[4];Yi!=null&&(S.za=Yi,S.j.info("SVER="+S.za));const wi=Jt[5];wi!=null&&typeof wi=="number"&&wi>0&&(O=1.5*wi,S.O=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Ii=h.g;if(Ii){const Ba=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var st=O.h;st.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(rl(st,st.h),st.h=null))}if(O.G){const Bs=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(O.wa=Bs,re(O.J,O.G,Bs))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),O=S;var pt=h;if(O.na=lc(O,O.L?O.ba:null,O.W),pt.L){al(O.h,pt);var Nt=pt,ze=O.O;ze&&(Nt.H=ze),Nt.D&&(zi(Nt),Ui(Nt)),O.g=pt}else ic(O);S.i.length>0&&Gi(S)}else Jt[0]!="stop"&&Jt[0]!="close"||Qi(S,7);else S.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Qi(S,7):ml(S):Jt[0]!="noop"&&S.l&&S.l.qa(Jt),S.A=0)}}En(4)}catch{}}var Fe=class{constructor(h,v){this.g=h,this.map=v}};function nl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Bi(h){return h.h?1:h.g?h.g.size:0}function ki(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function rl(h,v){h.g?h.g.add(v):h.h=v}function al(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}nl.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const S of h.g.values())v=v.concat(S.G);return v}return w(h.i)}var Wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(h,v){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const O=h[S].indexOf("=");let W,st=null;O>=0?(W=h[S].substring(0,O),st=h[S].substring(O+1)):W=h[S],v(W,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function Gn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Gn?(this.l=h.l,an(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.u),this.h=h.h,ol(this,ec(h.i)),this.m=h.m):h&&(v=String(h).match(Wu))?(this.l=!1,an(this,v[1]||"",!0),this.o=ji(v[2]||""),this.g=ji(v[3]||"",!0),Nr(this,v[4]),this.h=ji(v[5]||"",!0),ol(this,v[6]||"",!0),this.m=ji(v[7]||"")):(this.l=!1,this.i=new Pr(null,this.l))}Gn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ma(v,Ms,!0),":");var S=this.g;return(S||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ma(v,Ms,!0),"@"),h.push(lr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Ma(S,S.charAt(0)=="/"?ll:Ju,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Ma(S,$u)),h.join("")},Gn.prototype.resolve=function(h){const v=He(this);let S=!!h.j;S?an(v,h.j):S=!!h.o,S?v.o=h.o:S=!!h.g,S?v.g=h.g:S=h.u!=null;var O=h.h;if(S)Nr(v,h.u);else if(S=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var W=v.h.lastIndexOf("/");W!=-1&&(O=v.h.slice(0,W+1)+O)}if(W=O,W==".."||W==".")O="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){O=W.lastIndexOf("/",0)==0,W=W.split("/");const st=[];for(let pt=0;pt<W.length;){const Nt=W[pt++];Nt=="."?O&&pt==W.length&&st.push(""):Nt==".."?((st.length>1||st.length==1&&st[0]!="")&&st.pop(),O&&pt==W.length&&st.push("")):(st.push(Nt),O=!0)}O=st.join("/")}else O=W}return S?v.h=O:S=h.i.toString()!=="",S?ol(v,ec(h.i)):S=!!h.m,S&&(v.m=h.m),v};function He(h){return new Gn(h)}function an(h,v,S){h.j=S?ji(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function ol(h,v,S){v instanceof Pr?(h.i=v,Os(h.i,h.l)):(S||(v=Ma(v,Or)),h.i=new Pr(v,h.l))}function re(h,v,S){h.i.set(v,S)}function Va(h){return re(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ma(h,v,S){return typeof h=="string"?(h=encodeURI(h).replace(v,Pn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ms=/[#\/\?@]/g,Ju=/[#\?:]/g,ll=/[#\?]/g,Or=/[#\?@]/g,$u=/#/g;function Pr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Un(h){h.g||(h.g=new Map,h.h=0,h.i&&Vs(h.i,function(v,S){h.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}a=Pr.prototype,a.add=function(h,v){Un(this),this.i=null,h=Ur(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(v),this.h+=1,this};function tc(h,v){Un(h),v=Ur(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ul(h,v){return Un(h),v=Ur(h,v),h.g.has(v)}a.forEach=function(h,v){Un(this),this.g.forEach(function(S,O){S.forEach(function(W){h.call(v,W,O,this)},this)},this)};function cl(h,v){Un(h);let S=[];if(typeof v=="string")ul(h,v)&&(S=S.concat(h.g.get(Ur(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)S=S.concat(h[v]);return S}a.set=function(h,v){return Un(this),this.i=null,h=Ur(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},a.get=function(h,v){return h?(h=cl(this,h),h.length>0?String(h[0]):v):v};function Ns(h,v,S){tc(h,v),S.length>0&&(h.i=null,h.g.set(Ur(h,v),w(S)),h.h+=S.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let O=0;O<v.length;O++){var S=v[O];const W=lr(S);S=cl(this,S);for(let st=0;st<S.length;st++){let pt=W;S[st]!==""&&(pt+="="+lr(S[st])),h.push(pt)}}return this.i=h.join("&")};function ec(h){const v=new Pr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ur(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Os(h,v){v&&!h.j&&(Un(h),h.i=null,h.g.forEach(function(S,O){const W=O.toLowerCase();O!=W&&(tc(this,O),Ns(this,W,S))},h)),h.j=v}function bi(h,v){const S=new fn;if(c.Image){const O=new Image;O.onload=y(ri,S,"TestLoadImage: loaded",!0,v,O),O.onerror=y(ri,S,"TestLoadImage: error",!1,v,O),O.onabort=y(ri,S,"TestLoadImage: abort",!1,v,O),O.ontimeout=y(ri,S,"TestLoadImage: timeout",!1,v,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else v(!1)}function hl(h,v){const S=new fn,O=new AbortController,W=setTimeout(()=>{O.abort(),ri(S,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:O.signal}).then(st=>{clearTimeout(W),st.ok?ri(S,"TestPingServer: ok",!0,v):ri(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),ri(S,"TestPingServer: error",!1,v)})}function ri(h,v,S,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(S)}catch{}}function zr(){this.g=new ke}function qi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(qi,vn),qi.prototype.g=function(){return new Na(this.i,this.h)};function Na(h,v){Lt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Na,Lt),a=Na.prototype,a.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ai(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ps(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ps(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Lr(this):Ai(this),this.readyState==3&&Ps(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,Lr(this))},a.Na=function(h){this.g&&(this.response=h,Lr(this))},a.ga=function(){this.g&&Lr(this)};function Lr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ai(h)}a.setRequestHeader=function(h,v){this.A.append(h,v)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=v.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ai(h){let v="";return Q(h,function(S,O){v+=O,v+=":",v+=S,v+=`\r
`}),v}function Oa(h,v,S){t:{for(O in S){var O=!1;break t}O=!0}O||(S=ai(S),typeof h=="string"?S!=null&&lr(S):re(h,v,S))}function de(h){Lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(de,Lt);var Fi=/^https?$/i,fl=["POST","PUT"];a=de.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,v,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(st){Pa(this,st);return}if(h=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)S.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const st of O.keys())S.set(st,O.get(st));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(st=>st.toLowerCase()=="content-type"),W=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(fl,v,void 0)>=0)||O||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,pt]of S)this.g.setRequestHeader(st,pt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(st){Pa(this,st)}};function Pa(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,dl(h),ur(h)}function dl(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),ur(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),de.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ua(this):this.Xa())},a.Xa=function(){Ua(this)};function Ua(h){if(h.h&&typeof l<"u"){if(h.v&&Si(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),Si(h)==4){h.h=!1;try{const st=h.ca();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var S;if(!(S=v)){var O;if(O=st===0){let pt=String(h.D).match(Wu)[1]||null;!pt&&c.self&&c.self.location&&(pt=c.self.location.protocol.slice(0,-1)),O=!Fi.test(pt?pt.toLowerCase():"")}S=O}if(S)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var W=Si(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",dl(h)}}finally{ur(h)}}}}function ur(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,v||Ft(h,"ready");try{S.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Si(h){return h.g?h.g.readyState:0}a.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),vi(v)}};function dn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cr(h){const v={};h=(h.g&&Si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(I(h[O]))continue;var S=Ku(h[O]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const st=v[W]||[];v[W]=st,st.push(S)}rt(v,function(O){return O.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||v}function Br(h){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,h),this.Za=Hi("retryDelaySeedMs",1e4,h),this.Ta=Hi("forwardChannelMaxRetries",2,h),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new zr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Br.prototype,a.ka=8,a.I=1,a.connect=function(h,v,S,O){ie(0),this.W=h,this.H=v||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.J=lc(this,null,this.W),Gi(this)};function ml(h){if(Us(h),h.I==3){var v=h.V++,S=He(h.J);if(re(S,"SID",h.M),re(S,"RID",v),re(S,"TYPE","terminate"),za(h,S),v=new Ei(h,h.j,v),v.M=2,v.A=Va(He(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=v.A,S=!0),S||(v.g=uc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ui(v)}oc(h)}function kr(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Us(h){kr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ls(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Gi(h){if(!il(h.h)&&!h.m){h.m=!0;var v=h.Ea;ut||b(),L||(ut(),L=!0),M.add(v,h),h.D=0}}function zs(h,v){return Bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=hn(p(h.Ea,h,v),sc(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new Ei(this,this.j,h);let st=this.o;if(this.U&&(st?(st=U(st),ot(st,this.U)):st=this.U),this.u!==null||this.R||(W.J=st,st=null),this.S)t:{for(var v=0,S=0;S<this.i.length;S++){e:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(v+=O,v>4096){v=S;break t}if(v===4096||S===this.i.length-1){v=S+1;break t}}v=1e3}else v=1e3;v=nc(this,W,v),S=He(this.J),re(S,"RID",h),re(S,"CVER",22),this.G&&re(S,"X-HTTP-Session-Id",this.G),za(this,S),st&&(this.R?v="headers="+lr(ai(st))+"&"+v:this.u&&Oa(S,this.u,st)),rl(this.h,W),this.Ra&&re(S,"TYPE","init"),this.S?(re(S,"$req",v),re(S,"SID","null"),W.U=!0,Pi(W,S,null)):Pi(W,S,v),this.I=2}}else this.I==3&&(h?gl(this,h):this.i.length==0||il(this.h)||gl(this))};function gl(h,v){var S;v?S=v.l:S=h.V++;const O=He(h.J);re(O,"SID",h.M),re(O,"RID",S),re(O,"AID",h.K),za(h,O),h.u&&h.o&&Oa(O,h.u,h.o),S=new Ei(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),v&&(h.i=v.G.concat(h.i)),v=nc(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),rl(h.h,S),Pi(S,O,v)}function za(h,v){h.H&&Q(h.H,function(S,O){re(v,O,S)}),h.l&&Q({},function(S,O){re(v,O,S)})}function nc(h,v,S){S=Math.min(h.i.length,S);const O=h.l?p(h.l.Ka,h.l,h):null;t:{var W=h.i;let Nt=-1;for(;;){const ze=["count="+S];Nt==-1?S>0?(Nt=W[0].g,ze.push("ofs="+Nt)):Nt=0:ze.push("ofs="+Nt);let Jt=!0;for(let Ie=0;Ie<S;Ie++){var st=W[Ie].g;const si=W[Ie].map;if(st-=Nt,st<0)Nt=Math.max(0,W[Ie].g-100),Jt=!1;else try{st="req"+st+"_"||"";try{var pt=si instanceof Map?si:Object.entries(si);for(const[Yi,wi]of pt){let Ii=wi;d(wi)&&(Ii=Te(wi)),ze.push(st+Yi+"="+encodeURIComponent(Ii))}}catch(Yi){throw ze.push(st+"type="+encodeURIComponent("_badmap")),Yi}}catch{O&&O(si)}}if(Jt){pt=ze.join("&");break t}}pt=void 0}return h=h.i.splice(0,S),v.G=h,pt}function ic(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ut||b(),L||(ut(),L=!0),M.add(v,h),h.A=0}}function La(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=hn(p(h.Da,h),sc(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=hn(p(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ie(10),kr(this),rc(this))};function pl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rc(h){h.g=new Ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=He(h.na);re(v,"RID","rpc"),re(v,"SID",h.M),re(v,"AID",h.K),re(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&re(v,"TO",h.ia),re(v,"TYPE","xmlhttp"),za(h,v),h.u&&h.o&&Oa(v,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=Va(He(v)),S.u=null,S.R=!0,Cs(S,h)}a.Va=function(){this.C!=null&&(this.C=null,kr(this),La(this),ie(19))};function Ls(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ac(h,v){var S=null;if(h.g==v){Ls(h),pl(h),h.g=null;var O=2}else if(ki(h.h,v))S=v.G,al(h.h,v),O=1;else return;if(h.I!=0){if(v.o)if(O==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var W=h.D;O=Oi(),Ft(O,new Je(O,S)),Gi(h)}else ic(h);else if(W=v.m,W==3||W==0&&v.X>0||!(O==1&&zs(h,v)||O==2&&La(h)))switch(S&&S.length>0&&(v=h.h,v.i=v.i.concat(S)),W){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function sc(h,v){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*v}function Qi(h,v){if(h.j.info("Error code "+v),v==2){var S=p(h.bb,h),O=h.Ua;const W=!O;O=new Gn(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||an(O,"https"),Va(O),W?bi(O.toString(),S):hl(O.toString(),S)}else ie(2);h.I=0,h.l&&h.l.pa(v),oc(h),Us(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function oc(h){if(h.I=0,h.ja=[],h.l){const v=sl(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ja,v),P(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function lc(h,v,S){var O=S instanceof Gn?He(S):new Gn(S);if(O.g!="")v&&(O.g=v+"."+O.g),Nr(O,O.u);else{var W=c.location;O=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const st=new Gn(null);O&&an(st,O),v&&(st.g=v),W&&Nr(st,W),S&&(st.h=S),O=st}return S=h.G,v=h.wa,S&&v&&re(O,S,v),re(O,"VER",h.ka),za(h,O),O}function uc(h,v,S){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new de(new qi({ab:S})):new de(h.ma),v.Fa(h.L),v}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}a=cc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function jr(){}jr.prototype.g=function(h,v){return new Rn(h,v)};function Rn(h,v){Lt.call(this),this.g=new Br(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!I(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new hr(this)}_(Rn,Lt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){ml(this.g)},Rn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Te(h),h=S);v.i.push(new Fe(v.Ya++,h)),v.I==3&&Gi(v)},Rn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,Rn.Z.N.call(this)};function hc(h){fe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const S in v){h=S;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(hc,fe);function fc(){je.call(this),this.status=1}_(fc,je);function hr(h){this.g=h}_(hr,cc),hr.prototype.ra=function(){Ft(this.g,"a")},hr.prototype.qa=function(h){Ft(this.g,new hc(h))},hr.prototype.pa=function(h){Ft(this.g,new fc)},hr.prototype.oa=function(){Ft(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,$1=function(){return new jr},J1=function(){return Oi()},W1=be,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ca.NO_ERROR=0,Ca.TIMEOUT=8,Ca.HTTP_ERROR=6,wh=Ca,tl.COMPLETE="complete",Z1=tl,cn.EventType=Ue,Ue.OPEN="a",Ue.CLOSE="b",Ue.ERROR="c",Ue.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,lu=cn,de.prototype.listenOnce=de.prototype.K,de.prototype.getLastError=de.prototype.Ha,de.prototype.getLastErrorCode=de.prototype.ya,de.prototype.getStatus=de.prototype.ca,de.prototype.getResponseJson=de.prototype.La,de.prototype.getResponseText=de.prototype.la,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Fa,X1=de}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});class Cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");let Xo="12.8.0";function nw(a){Xo=a}const ys=new F1("@firebase/firestore");function Ao(){return ys.logLevel}function mt(a,...t){if(ys.logLevel<=Yt.DEBUG){const n=t.map(wg);ys.debug(`Firestore (${Xo}): ${a}`,...n)}}function xn(a,...t){if(ys.logLevel<=Yt.ERROR){const n=t.map(wg);ys.error(`Firestore (${Xo}): ${a}`,...n)}}function Su(a,...t){if(ys.logLevel<=Yt.WARN){const n=t.map(wg);ys.warn(`Firestore (${Xo}): ${a}`,...n)}}function wg(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function Et(a,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,tE(a,r,n)}function tE(a,t,n){let r=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xn(r),new Error(r)}function St(a,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,a||tE(t,s,r)}function Vt(a,t){return a}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Ko{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class iw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Cn.UNAUTHENTICATED)))}shutdown(){}}class aw{constructor(t){this.t=t,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){St(this.o===void 0,42304);let r=this.i;const s=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let l=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new rr,t.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const g=l;t.enqueueRetryable((async()=>{await g.promise,await s(this.currentUser)}))},d=g=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new rr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string",31837,{l:r}),new iw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return St(t===null||typeof t=="string",2055,{h:t}),new Cn(t)}}class sw{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ow{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new sw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BS(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){St(this.o===void 0,3512);const r=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const s=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}class Ig{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=uw(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<n&&(r+=t.charAt(s[l]%62))}return r}}function xt(a,t){return a<t?-1:a>t?1:0}function $m(a,t){const n=Math.min(a.length,t.length);for(let r=0;r<n;r++){const s=a.charAt(r),l=t.charAt(r);if(s!==l)return Lm(s)===Lm(l)?xt(s,l):Lm(s)?1:-1}return xt(a.length,t.length)}const cw=55296,hw=57343;function Lm(a){const t=a.charCodeAt(0);return t>=cw&&t<=hw}function Po(a,t,n){return a.length===t.length&&a.every(((r,s)=>n(r,t[s])))}function eE(a){return a+"\0"}const rv="__name__";class Ji{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ji.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ji?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const l=Ji.compareSegments(t.get(s),n.get(s));if(l!==0)return l}return xt(t.length,n.length)}static compareSegments(t,n){const r=Ji.isNumericId(t),s=Ji.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ji.extractNumericId(t).compare(Ji.extractNumericId(n)):$m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ya.fromString(t.substring(4,t.length-2))}}class ee extends Ji{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new _t(dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends Ji{construct(t,n,r){return new xe(t,n,r)}static isValidIdentifier(t){return fw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new xe([rv])}static fromServerFormat(t){const n=[];let r="",s=0;const l=()=>{if(r.length===0)throw new _t(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<t.length;){const d=t[s];if(d==="\\"){if(s+1===t.length)throw new _t(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _t(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(l(),s++)}if(l(),c)throw new _t(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xe(n)}static emptyPath(){return new xe([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ee.fromString(t))}static fromName(t){return new yt(ee.fromString(t).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ee(t.slice()))}}function nE(a,t,n){if(!n)throw new _t(dt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function dw(a,t,n,r){if(t===!0&&r===!0)throw new _t(dt.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function av(a){if(!yt.isDocumentKey(a))throw new _t(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function sv(a){if(yt.isDocumentKey(a))throw new _t(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function iE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Rg(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function Ea(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new _t(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rg(a);throw new _t(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}function Ze(a,t){const n={typeString:a};return t&&(n.value=t),n}function Bu(a,t){if(!iE(a))throw new _t(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){n=`JSON missing required field: '${r}'`;break}const c=a[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new _t(dt.INVALID_ARGUMENT,n);return!0}const ov=-62135596800,lv=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*lv);return new le(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ov)throw new _t(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ze("string",le._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new le(0,0))}static max(){return new Rt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;class jh{constructor(t,n,r,s){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=s}}function tg(a){return a.fields.find((t=>t.kind===2))}function is(a){return a.fields.filter((t=>t.kind!==2))}jh.UNKNOWN_ID=-1;class Ih{constructor(t,n){this.fieldPath=t,this.kind=n}}class Iu{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new Iu(0,ei.min())}}function mw(a,t){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,s=Rt.fromTimestamp(r===1e9?new le(n+1,0):new le(n,r));return new ei(s,yt.empty(),t)}function rE(a){return new ei(a.readTime,a.key,wu)}class ei{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(Rt.min(),yt.empty(),wu)}static max(){return new ei(Rt.max(),yt.empty(),wu)}}function Dg(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(a.documentKey,t.documentKey),n!==0?n:xt(a.largestBatchId,t.largestBatchId))}const aE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ss(a){if(a.code!==dt.FAILED_PRECONDITION||a.message!==aE)throw a;mt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X(((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):X.reject(n)}static resolve(t){return new X(((n,r)=>{n(t)}))}static reject(t){return new X(((n,r)=>{r(t)}))}static waitFor(t){return new X(((n,r)=>{let s=0,l=0,c=!1;t.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&n()}),(g=>r(g)))})),c=!0,l===s&&n()}))}static or(t){let n=X.resolve(!1);for(const r of t)n=n.next((s=>s?X.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,l)=>{r.push(n.call(this,s,l))})),this.waitFor(r)}static mapArray(t,n){return new X(((r,s)=>{const l=t.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;n(t[p]).next((y=>{c[p]=y,++d,d===l&&r(c)}),(y=>s(y)))}}))}static doWhile(t,n){return new X(((r,s)=>{const l=()=>{t()===!0?n().next((()=>{l()}),s):r()};l()}))}}const $n="SimpleDb";class cf{static open(t,n,r,s){try{return new cf(n,t.transaction(s,r))}catch(l){throw new du(n,l)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new rr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new du(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Cg(r.target.error);this.S.reject(new du(t,s))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(mt($n,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new pw(n)}}class _a{static delete(t){return mt($n,"Removing database:",t),ss(P1().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!j1())return!1;if(_a.F())return!0;const t=Lh(),n=_a.M(t),r=0<n&&n<10,s=oE(t),l=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,_a.M(Lh())===12.2&&xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(mt($n,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=l=>{const c=l.target.result;n(c)},s.onblocked=()=>{r(new du(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new _t(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new _t(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new du(t,c))},s.onupgradeneeded=l=>{mt($n,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,s.transaction,l.oldVersion,this.version).next((()=>{mt($n,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,s){const l=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const d=cf.open(this.db,t,l?"readonly":"readwrite",r),g=s(d).next((p=>(d.C(),p))).catch((p=>(d.abort(p),X.reject(p)))).toPromise();return g.catch((()=>{})),await d.D,g}catch(d){const g=d,p=g.name!=="FirebaseError"&&c<3;if(mt($n,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function oE(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class gw{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return ss(this.U.delete())}}class du extends _t{constructor(t,n){super(dt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function wa(a){return a.name==="IndexedDbTransactionError"}class pw{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(mt($n,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(mt($n,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ss(r)}add(t){return mt($n,"ADD",this.store.name,t,t),ss(this.store.add(t))}get(t){return ss(this.store.get(t)).next((n=>(n===void 0&&(n=null),mt($n,"GET",this.store.name,t,n),n)))}delete(t){return mt($n,"DELETE",this.store.name,t),ss(this.store.delete(t))}count(){return mt($n,"COUNT",this.store.name),ss(this.store.count())}H(t,n){const r=this.options(t,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const l=s.getAll(r.range);return new X(((c,d)=>{l.onerror=g=>{d(g.target.error)},l.onsuccess=g=>{c(g.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((d,g)=>{c.push(g)})).next((()=>c))}}Z(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new X(((s,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{s(c.target.result)}}))}X(t,n){mt($n,"DELETE ALL",this.store.name);const r=this.options(t,n);r.Y=!1;const s=this.cursor(r);return this.J(s,((l,c,d)=>d.delete()))}ee(t,n){let r;n?r=t:(r={},n=t);const s=this.cursor(r);return this.J(s,n)}te(t){const n=this.cursor({});return new X(((r,s)=>{n.onerror=l=>{const c=Cg(l.target.error);s(c)},n.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}J(t,n){const r=[];return new X(((s,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void s();const g=new gw(d),p=n(d.primaryKey,d.value,g);if(p instanceof X){const y=p.catch((_=>(g.done(),X.reject(_))));r.push(y)}g.isDone?s():g.G===null?d.continue():d.continue(g.G)}})).next((()=>X.waitFor(r)))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function ss(a){return new X(((t,n)=>{a.onsuccess=r=>{const s=r.target.result;t(s)},a.onerror=r=>{const s=Cg(r.target.error);n(s)}}))}let uv=!1;function Cg(a){const t=_a.M(Lh());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(n)>=0){const r=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uv||(uv=!0,setTimeout((()=>{throw r}),0)),r}}return a}const mu="IndexBackfiller";class yw{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){mt(mu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();mt(mu,`Documents written: ${n}`)}catch(n){wa(n)?mt(mu,"Ignoring IndexedDB error during index backfill: ",n):await Ss(n)}await this.re(6e4)}))}}class _w{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const r=new Set;let s=n,l=!0;return X.doWhile((()=>l===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return mt(mu,`Processing collection: ${c}`),this.oe(t,c,s).next((d=>{s-=d,r.add(c)}));l=!1})))).next((()=>n-s))}oe(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((s=>this.localStore.localDocuments.getNextDocuments(t,n,s,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(s,l))).next((d=>(mt(mu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,n,d)))).next((()=>c.size))}))))}_e(t,n){let r=t;return n.changes.forEach(((s,l)=>{const c=rE(l);Dg(c,r)>0&&(r=c)})),new ei(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}class pi{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}pi.ce=-1;const ds=-1;function hf(a){return a==null}function Ru(a){return a===0&&1/a==-1/0}function vw(a){return typeof a=="number"&&Number.isInteger(a)&&!Ru(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const qh="";function In(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=cv(t)),t=Ew(a.get(n),t);return cv(t)}function Ew(a,t){let n=t;const r=a.length;for(let s=0;s<r;s++){const l=a.charAt(s);switch(l){case"\0":n+="";break;case qh:n+="";break;default:n+=l}}return n}function cv(a){return a+qh+""}function nr(a){const t=a.length;if(St(t>=2,64408,{path:a}),t===2)return St(a.charAt(0)===qh&&a.charAt(1)==="",56145,{path:a}),ee.emptyPath();const n=t-2,r=[];let s="";for(let l=0;l<t;){const c=a.indexOf(qh,l);switch((c<0||c>n)&&Et(50515,{path:a}),a.charAt(c+1)){case"":const d=a.substring(l,c);let g;s.length===0?g=d:(s+=d,g=s,s=""),r.push(g);break;case"":s+=a.substring(l,c),s+="\0";break;case"":s+=a.substring(l,c+1);break;default:Et(61167,{path:a})}l=c+2}return new ee(r)}const rs="remoteDocuments",ku="owner",po="owner",Du="mutationQueues",Tw="userId",Vi="mutations",hv="batchId",cs="userMutationsIndex",fv=["userId","batchId"];function Rh(a,t){return[a,In(t)]}function lE(a,t,n){return[a,In(t),n]}const bw={},Uo="documentMutations",Fh="remoteDocumentsV14",Aw=["prefixPath","collectionGroup","readTime","documentId"],Dh="documentKeyIndex",Sw=["prefixPath","collectionGroup","documentId"],uE="collectionGroupIndex",ww=["collectionGroup","readTime","prefixPath","documentId"],Cu="remoteDocumentGlobal",eg="remoteDocumentGlobalKey",zo="targets",cE="queryTargetsIndex",Iw=["canonicalId","targetId"],Lo="targetDocuments",Rw=["targetId","path"],xg="documentTargetsIndex",Dw=["path","targetId"],Hh="targetGlobalKey",ms="targetGlobal",xu="collectionParents",Cw=["collectionId","parent"],Bo="clientMetadata",xw="clientId",ff="bundles",Vw="bundleId",df="namedQueries",Mw="name",Vg="indexConfiguration",Nw="indexId",ng="collectionGroupIndex",Ow="collectionGroup",gu="indexState",Pw=["indexId","uid"],hE="sequenceNumberIndex",Uw=["uid","sequenceNumber"],pu="indexEntries",zw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fE="documentKeyIndex",Lw=["indexId","uid","orderedDocumentKey"],mf="documentOverlays",Bw=["userId","collectionPath","documentId"],ig="collectionPathOverlayIndex",kw=["userId","collectionPath","largestBatchId"],dE="collectionGroupOverlayIndex",jw=["userId","collectionGroup","largestBatchId"],Mg="globals",qw="name",mE=[Du,Vi,Uo,rs,zo,ku,ms,Lo,Bo,Cu,xu,ff,df],Fw=[...mE,mf],gE=[Du,Vi,Uo,Fh,zo,ku,ms,Lo,Bo,Cu,xu,ff,df,mf],pE=gE,Ng=[...pE,Vg,gu,pu],Hw=Ng,yE=[...Ng,Mg],Gw=yE;class rg extends sE{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function en(a,t){const n=Vt(a);return _a.O(n.le,t)}function dv(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function ws(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function _E(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Ce{constructor(t,n){this.comparator=t,this.root=n||_n.EMPTY}insert(t,n){return new Ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_n.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _h(this.root,t,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _h(this.root,t,this.comparator,!0)}}class _h{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&s&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _n{constructor(t,n,r,s,l){this.key=t,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,l){return new _n(t??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,n,r),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,s,l){return this}insert(t,n,r){return new _n(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ue{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ue(this.comparator);return n.data=t,n}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yo(a){return a.hasNext()?a.getNext():void 0}class yi{constructor(t){this.fields=t,t.sort(xe.comparator)}static empty(){return new yi([])}unionWith(t){let n=new ue(xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new yi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new vE("Invalid base64 string: "+l):l}})(t);return new We(n)}static fromUint8Array(t){const n=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const Qw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(a){if(St(!!a,39018),typeof a=="string"){let t=0;const n=Qw.exec(a);if(St(!!n,46558,{timestamp:a}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:De(a.seconds),nanos:De(a.nanos)}}function De(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function xr(a){return typeof a=="string"?We.fromBase64String(a):We.fromUint8Array(a)}const EE="server_timestamp",TE="__type__",bE="__previous_value__",AE="__local_write_time__";function Og(a){return(a?.mapValue?.fields||{})[TE]?.stringValue===EE}function gf(a){const t=a.mapValue.fields[bE];return Og(t)?gf(t):t}function Vu(a){const t=Cr(a.mapValue.fields[AE].timestampValue);return new le(t.seconds,t.nanos)}class Yw{constructor(t,n,r,s,l,c,d,g,p,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const Gh="(default)";class _s{constructor(t,n){this.projectId=t,this.database=n||Gh}static empty(){return new _s("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(t){return t instanceof _s&&t.projectId===this.projectId&&t.database===this.database}}function Kw(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new _t(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(a.options.projectId,t)}const Pg="__type__",SE="__max__",ga={mapValue:{fields:{__type__:{stringValue:SE}}}},Ug="__vector__",ko="value",Ch={nullValue:"NULL_VALUE"};function Ta(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Og(a)?4:wE(a)?9007199254740991:pf(a)?10:11:Et(28295,{value:a})}function sr(a,t){if(a===t)return!0;const n=Ta(a);if(n!==Ta(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Vu(a).isEqual(Vu(t));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Cr(s.timestampValue),d=Cr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(s,l){return xr(s.bytesValue).isEqual(xr(l.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(s,l){return De(s.geoPointValue.latitude)===De(l.geoPointValue.latitude)&&De(s.geoPointValue.longitude)===De(l.geoPointValue.longitude)})(a,t);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return De(s.integerValue)===De(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=De(s.doubleValue),d=De(l.doubleValue);return c===d?Ru(c)===Ru(d):isNaN(c)&&isNaN(d)}return!1})(a,t);case 9:return Po(a.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(dv(c)!==dv(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!sr(c[g],d[g])))return!1;return!0})(a,t);default:return Et(52216,{left:a})}}function Mu(a,t){return(a.values||[]).find((n=>sr(n,t)))!==void 0}function ba(a,t){if(a===t)return 0;const n=Ta(a),r=Ta(t);if(n!==r)return xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=De(l.integerValue||l.doubleValue),g=De(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(a,t);case 3:return gv(a.timestampValue,t.timestampValue);case 4:return gv(Vu(a),Vu(t));case 5:return $m(a.stringValue,t.stringValue);case 6:return(function(l,c){const d=xr(l),g=xr(c);return d.compareTo(g)})(a.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const y=xt(d[p],g[p]);if(y!==0)return y}return xt(d.length,g.length)})(a.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=xt(De(l.latitude),De(c.latitude));return d!==0?d:xt(De(l.longitude),De(c.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return pv(a.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},g=c.fields||{},p=d[ko]?.arrayValue,y=g[ko]?.arrayValue,_=xt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:pv(p,y)})(a.mapValue,t.mapValue);case 11:return(function(l,c){if(l===ga.mapValue&&c===ga.mapValue)return 0;if(l===ga.mapValue)return 1;if(c===ga.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},y=Object.keys(p);g.sort(),y.sort();for(let _=0;_<g.length&&_<y.length;++_){const E=$m(g[_],y[_]);if(E!==0)return E;const w=ba(d[g[_]],p[y[_]]);if(w!==0)return w}return xt(g.length,y.length)})(a.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function gv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return xt(a,t);const n=Cr(a),r=Cr(t),s=xt(n.seconds,r.seconds);return s!==0?s:xt(n.nanos,r.nanos)}function pv(a,t){const n=a.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const l=ba(n[s],r[s]);if(l)return l}return xt(n.length,r.length)}function jo(a){return ag(a)}function ag(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const r=Cr(n);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return xr(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return yt.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let r="[",s=!0;for(const l of n.values||[])s?s=!1:r+=",",r+=ag(l);return r+"]"})(a.arrayValue):"mapValue"in a?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of r)l?l=!1:s+=",",s+=`${c}:${ag(n.fields[c])}`;return s+"}"})(a.mapValue):Et(61005,{value:a})}function xh(a){switch(Ta(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gf(a);return t?16+xh(t):16;case 5:return 2*a.stringValue.length;case 6:return xr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,l)=>s+xh(l)),0)})(a.arrayValue);case 10:case 11:return(function(r){let s=0;return ws(r.fields,((l,c)=>{s+=l.length+xh(c)})),s})(a.mapValue);default:throw Et(13486,{value:a})}}function zg(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function sg(a){return!!a&&"integerValue"in a}function Nu(a){return!!a&&"arrayValue"in a}function yv(a){return!!a&&"nullValue"in a}function _v(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Vh(a){return!!a&&"mapValue"in a}function pf(a){return(a?.mapValue?.fields||{})[Pg]?.stringValue===Ug}function yu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return ws(a.mapValue.fields,((n,r)=>t.mapValue.fields[n]=yu(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yu(a.arrayValue.values[n]);return t}return{...a}}function wE(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===SE}const IE={mapValue:{fields:{[Pg]:{stringValue:Ug},[ko]:{arrayValue:{}}}}};function Xw(a){return"nullValue"in a?Ch:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?zg(_s.empty(),yt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?pf(a)?IE:{mapValue:{}}:Et(35942,{value:a})}function Zw(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?zg(_s.empty(),yt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?IE:"mapValue"in a?pf(a)?{mapValue:{}}:ga:Et(61959,{value:a})}function vv(a,t){const n=ba(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function Ev(a,t){const n=ba(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(n)}setAll(t){let n=xe.emptyPath(),r={},s=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=yu(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,s)}delete(t){const n=this.field(t.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Vh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){ws(n,((s,l)=>t[s]=l));for(const s of r)delete t[s]}clone(){return new Fn(yu(this.value))}}function RE(a){const t=[];return ws(a.fields,((n,r)=>{const s=new xe([n]);if(Vh(r)){const l=RE(r.mapValue).fields;if(l.length===0)t.push(s);else for(const c of l)t.push(s.child(c))}else t.push(s)})),new yi(t)}class Ne{constructor(t,n,r,s,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Ne(t,0,Rt.min(),Rt.min(),Rt.min(),Fn.empty(),0)}static newFoundDocument(t,n,r,s){return new Ne(t,1,n,Rt.min(),r,s,0)}static newNoDocument(t,n){return new Ne(t,2,n,Rt.min(),Rt.min(),Fn.empty(),0)}static newUnknownDocument(t,n){return new Ne(t,3,n,Rt.min(),Rt.min(),Fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ne&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qo{constructor(t,n){this.position=t,this.inclusive=n}}function Tv(a,t,n){let r=0;for(let s=0;s<a.position.length;s++){const l=t[s],c=a.position[s];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=ba(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function bv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!sr(a.position[n],t.position[n]))return!1;return!0}class Qh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Ww(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class DE{}class Gt extends DE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Jw(t,n,r):n==="array-contains"?new eI(t,r):n==="in"?new OE(t,r):n==="not-in"?new nI(t,r):n==="array-contains-any"?new iI(t,r):new Gt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new $w(t,r):new tI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ba(n,this.value)):n!==null&&Ta(this.value)===Ta(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ye extends DE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ye(t,n)}matches(t){return Fo(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fo(a){return a.op==="and"}function og(a){return a.op==="or"}function Lg(a){return CE(a)&&Fo(a)}function CE(a){for(const t of a.filters)if(t instanceof ye)return!1;return!0}function lg(a){if(a instanceof Gt)return a.field.canonicalString()+a.op.toString()+jo(a.value);if(Lg(a))return a.filters.map((t=>lg(t))).join(",");{const t=a.filters.map((n=>lg(n))).join(",");return`${a.op}(${t})`}}function xE(a,t){return a instanceof Gt?(function(r,s){return s instanceof Gt&&r.op===s.op&&r.field.isEqual(s.field)&&sr(r.value,s.value)})(a,t):a instanceof ye?(function(r,s){return s instanceof ye&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((l,c,d)=>l&&xE(c,s.filters[d])),!0):!1})(a,t):void Et(19439)}function VE(a,t){const n=a.filters.concat(t);return ye.create(n,a.op)}function ME(a){return a instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`})(a):a instanceof ye?(function(n){return n.op.toString()+" {"+n.getFilters().map(ME).join(" ,")+"}"})(a):"Filter"}class Jw extends Gt{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class $w extends Gt{constructor(t,n){super(t,"in",n),this.keys=NE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class tI extends Gt{constructor(t,n){super(t,"not-in",n),this.keys=NE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function NE(a,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class eI extends Gt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Nu(n)&&Mu(n.arrayValue,this.value)}}class OE extends Gt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class nI extends Gt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class iI extends Gt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Nu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mu(this.value.arrayValue,r)))}}class rI{constructor(t,n=null,r=[],s=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ug(a,t=null,n=[],r=[],s=null,l=null,c=null){return new rI(a,t,n,r,s,l,c)}function vs(a){const t=Vt(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>lg(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),hf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>jo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>jo(r))).join(",")),t.Te=n}return t.Te}function ju(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!Ww(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!xE(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!bv(a.startAt,t.startAt)&&bv(a.endAt,t.endAt)}function Yh(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Kh(a,t){return a.filters.filter((n=>n instanceof Gt&&n.field.isEqual(t)))}function Av(a,t,n){let r=Ch,s=!0;for(const l of Kh(a,t)){let c=Ch,d=!0;switch(l.op){case"<":case"<=":c=Xw(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Ch}vv({value:r,inclusive:s},{value:c,inclusive:d})<0&&(r=c,s=d)}if(n!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=n.position[l];vv({value:r,inclusive:s},{value:c,inclusive:n.inclusive})<0&&(r=c,s=n.inclusive);break}}return{value:r,inclusive:s}}function Sv(a,t,n){let r=ga,s=!0;for(const l of Kh(a,t)){let c=ga,d=!0;switch(l.op){case">=":case">":c=Zw(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=ga}Ev({value:r,inclusive:s},{value:c,inclusive:d})>0&&(r=c,s=d)}if(n!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=n.position[l];Ev({value:r,inclusive:s},{value:c,inclusive:n.inclusive})>0&&(r=c,s=n.inclusive);break}}return{value:r,inclusive:s}}class yf{constructor(t,n=null,r=[],s=[],l=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function aI(a,t,n,r,s,l,c,d){return new yf(a,t,n,r,s,l,c,d)}function _f(a){return new yf(a)}function wv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function sI(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function oI(a){return a.collectionGroup!==null}function _u(a){const t=Vt(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ue(xe.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Qh(l,r))})),n.has(xe.keyField().canonicalString())||t.Ie.push(new Qh(xe.keyField(),r))}return t.Ie}function _i(a){const t=Vt(a);return t.Ee||(t.Ee=lI(t,_u(a))),t.Ee}function lI(a,t){if(a.limitType==="F")return ug(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new Qh(s.field,l)}));const n=a.endAt?new qo(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new qo(a.startAt.position,a.startAt.inclusive):null;return ug(a.path,a.collectionGroup,t,a.filters,a.limit,n,r)}}function cg(a,t,n){return new yf(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function vf(a,t){return ju(_i(a),_i(t))&&a.limitType===t.limitType}function PE(a){return`${vs(_i(a))}|lt:${a.limitType}`}function So(a){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>ME(s))).join(", ")}]`),hf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>jo(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>jo(s))).join(",")),`Target(${r})`})(_i(a))}; limitType=${a.limitType})`}function qu(a,t){return t.isFoundDocument()&&(function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(a,t)&&(function(r,s){for(const l of _u(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(a,t)&&(function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0})(a,t)&&(function(r,s){return!(r.startAt&&!(function(c,d,g){const p=Tv(c,d,g);return c.inclusive?p<=0:p<0})(r.startAt,_u(r),s)||r.endAt&&!(function(c,d,g){const p=Tv(c,d,g);return c.inclusive?p>=0:p>0})(r.endAt,_u(r),s))})(a,t)}function uI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function UE(a){return(t,n)=>{let r=!1;for(const s of _u(a)){const l=cI(s,t,n);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function cI(a,t,n){const r=a.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?ba(g,p):Et(42886)})(a.field,t,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:a.dir})}}class Mr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return void(s[l]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,((n,r)=>{for(const[s,l]of r)t(s,l)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const hI=new Ce(yt.comparator);function ti(){return hI}const zE=new Ce(yt.comparator);function uu(...a){let t=zE;for(const n of a)t=t.insert(n.key,n);return t}function LE(a){let t=zE;return a.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function ir(){return vu()}function BE(){return vu()}function vu(){return new Mr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const fI=new Ce(yt.comparator),dI=new ue(yt.comparator);function zt(...a){let t=dI;for(const n of a)t=t.add(n);return t}const mI=new ue(xt);function gI(){return mI}function Bg(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ru(t)?"-0":t}}function kE(a){return{integerValue:""+a}}function pI(a,t){return vw(t)?kE(t):Bg(a,t)}class Ef{constructor(){this._=void 0}}function yI(a,t,n){return a instanceof Ou?(function(s,l){const c={fields:{[TE]:{stringValue:EE},[AE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Og(l)&&(l=gf(l)),l&&(c.fields[bE]=l),{mapValue:c}})(n,t):a instanceof Ho?qE(a,t):a instanceof Go?FE(a,t):(function(s,l){const c=jE(s,l),d=Iv(c)+Iv(s.Ae);return sg(c)&&sg(s.Ae)?kE(d):Bg(s.serializer,d)})(a,t)}function _I(a,t,n){return a instanceof Ho?qE(a,t):a instanceof Go?FE(a,t):n}function jE(a,t){return a instanceof Pu?(function(r){return sg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class Ou extends Ef{}class Ho extends Ef{constructor(t){super(),this.elements=t}}function qE(a,t){const n=HE(t);for(const r of a.elements)n.some((s=>sr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Go extends Ef{constructor(t){super(),this.elements=t}}function FE(a,t){let n=HE(t);for(const r of a.elements)n=n.filter((s=>!sr(s,r)));return{arrayValue:{values:n}}}class Pu extends Ef{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Iv(a){return De(a.integerValue||a.doubleValue)}function HE(a){return Nu(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class vI{constructor(t,n){this.field=t,this.transform=n}}function EI(a,t){return a.field.isEqual(t.field)&&(function(r,s){return r instanceof Ho&&s instanceof Ho||r instanceof Go&&s instanceof Go?Po(r.elements,s.elements,sr):r instanceof Pu&&s instanceof Pu?sr(r.Ae,s.Ae):r instanceof Ou&&s instanceof Ou})(a.transform,t.transform)}class TI{constructor(t,n){this.version=t,this.transformResults=n}}class Vn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mh(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Tf{}function GE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new bf(a.key,Vn.none()):new Zo(a.key,a.data,Vn.none());{const n=a.data,r=Fn.empty();let s=new ue(xe.comparator);for(let l of t.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),s=s.add(l)}return new Ia(a.key,r,new yi(s.toArray()),Vn.none())}}function bI(a,t,n){a instanceof Zo?(function(s,l,c){const d=s.value.clone(),g=Dv(s.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,t,n):a instanceof Ia?(function(s,l,c){if(!Mh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Dv(s.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(QE(s)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(a,t,n):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Eu(a,t,n,r){return a instanceof Zo?(function(l,c,d,g){if(!Mh(l.precondition,c))return d;const p=l.value.clone(),y=Cv(l.fieldTransforms,g,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(a,t,n,r):a instanceof Ia?(function(l,c,d,g){if(!Mh(l.precondition,c))return d;const p=Cv(l.fieldTransforms,g,c),y=c.data;return y.setAll(QE(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(a,t,n,r):(function(l,c,d){return Mh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,t,n)}function AI(a,t){let n=null;for(const r of a.fieldTransforms){const s=t.data.field(r.field),l=jE(r.transform,s||null);l!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,l))}return n||null}function Rv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Po(r,s,((l,c)=>EI(l,c)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Zo extends Tf{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ia extends Tf{constructor(t,n,r,s,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function QE(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=a.data.field(n);t.set(n,r)}})),t}function Dv(a,t,n){const r=new Map;St(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let s=0;s<n.length;s++){const l=a[s],c=l.transform,d=t.data.field(l.field);r.set(l.field,_I(c,d,n[s]))}return r}function Cv(a,t,n){const r=new Map;for(const s of a){const l=s.transform,c=n.data.field(s.field);r.set(s.field,yI(l,c,t))}return r}class bf extends Tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YE extends Tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kg{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(t.key)&&bI(l,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Eu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Eu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=BE();return this.mutations.forEach((s=>{const l=t.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const g=GE(c,d);g!==null&&r.set(s.key,g),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,((n,r)=>Rv(n,r)))&&Po(this.baseMutations,t.baseMutations,((n,r)=>Rv(n,r)))}}class jg{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){St(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return fI})();const l=t.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,r[c].version);return new jg(t,n,r,s)}}class qg{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Xe,Qt;function wI(a){switch(a){case dt.OK:return Et(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function KE(a){if(a===void 0)return xn("GRPC error has no .code"),dt.UNKNOWN;switch(a){case Xe.OK:return dt.OK;case Xe.CANCELLED:return dt.CANCELLED;case Xe.UNKNOWN:return dt.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return dt.INTERNAL;case Xe.UNAVAILABLE:return dt.UNAVAILABLE;case Xe.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Xe.NOT_FOUND:return dt.NOT_FOUND;case Xe.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Xe.ABORTED:return dt.ABORTED;case Xe.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Xe.DATA_LOSS:return dt.DATA_LOSS;default:return Et(39323,{code:a})}}(Qt=Xe||(Xe={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function II(){return new TextEncoder}const RI=new ya([4294967295,4294967295],0);function xv(a){const t=II().encode(a),n=new K1;return n.update(t),new Uint8Array(n.digest())}function Vv(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ya([n,r],0),new ya([s,l],0)]}class Fg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(r<0)throw new cu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ya.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(ya.fromNumber(r)));return s.compare(RI)===1&&(s=new ya([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=xv(t),[r,s]=Vv(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,s,l);if(!this.we(c))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Fg(l,s,n);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=xv(t),[r,s]=Vv(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,s,l);this.be(c)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Af{constructor(t,n,r,s,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Af(Rt.min(),s,new Ce(xt),ti(),zt())}}class Fu{constructor(t,n,r,s,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Fu(r,n,zt(),zt(),zt())}}class Nh{constructor(t,n,r,s){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=s}}class XE{constructor(t,n){this.targetId=t,this.Ce=n}}class ZE{constructor(t,n,r=We.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Mv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),r=zt();return this.Fe.forEach(((s,l)=>{switch(l){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Et(38017,{changeType:l})}})),new Fu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=Nv()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ti(),this.He=vh(),this.Je=vh(),this.Ze=new Ce(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const l=s.target;if(Yh(l))if(r===0){const c=new yt(l.path);this.et(n,c,Ne.newNoDocument(c,Rt.min()))}else St(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(t),g=d?this.ct(d,t,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=xr(r).toUint8Array()}catch(g){if(g instanceof vE)return Su("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Fg(c,s,l)}catch(g){return Su(g instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Yh(d.target)){const g=new yt(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,Ne.newNoDocument(g,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let r=zt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const s=new Af(t,n,this.Ze,this.je,r);return this.je=ti(),this.He=vh(),this.Je=vh(),this.Ze=new Ce(xt),s}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new Mv,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new ue(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new ue(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Mv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function vh(){return new Ce(yt.comparator)}function Nv(){return new Ce(yt.comparator)}const CI={asc:"ASCENDING",desc:"DESCENDING"},xI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VI={and:"AND",or:"OR"};class MI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function hg(a,t){return a.useProto3Json||hf(t)?t:{value:t}}function Qo(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function NI(a,t){return Qo(a,t.toTimestamp())}function Mn(a){return St(!!a,49232),Rt.fromTimestamp((function(n){const r=Cr(n);return new le(r.seconds,r.nanos)})(a))}function Hg(a,t){return fg(a,t).canonicalString()}function fg(a,t){const n=(function(s){return new ee(["projects",s.projectId,"databases",s.database])})(a).child("documents");return t===void 0?n:n.child(t)}function JE(a){const t=ee.fromString(a);return St(oT(t),10190,{key:t.toString()}),t}function Xh(a,t){return Hg(a.databaseId,t.path)}function gs(a,t){const n=JE(t);if(n.get(1)!==a.databaseId.projectId)throw new _t(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new _t(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new yt(eT(n))}function $E(a,t){return Hg(a.databaseId,t)}function tT(a){const t=JE(a);return t.length===4?ee.emptyPath():eT(t)}function dg(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function eT(a){return St(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Ov(a,t,n){return{name:Xh(a,t),fields:n.value.mapValue.fields}}function OI(a,t,n){const r=gs(a,t.name),s=Mn(t.updateTime),l=t.createTime?Mn(t.createTime):Rt.min(),c=new Fn({mapValue:{fields:t.fields}}),d=Ne.newFoundDocument(r,s,l,c);return n&&d.setHasCommittedMutations(),n?d.setHasCommittedMutations():d}function PI(a,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(St(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(St(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))})(a,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?dt.UNKNOWN:KE(p.code);return new _t(y,p.message||"")})(c);n=new ZE(r,s,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=gs(a,r.document.name),l=Mn(r.document.updateTime),c=r.document.createTime?Mn(r.document.createTime):Rt.min(),d=new Fn({mapValue:{fields:r.document.fields}}),g=Ne.newFoundDocument(s,l,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Nh(p,y,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=gs(a,r.document),l=r.readTime?Mn(r.readTime):Rt.min(),c=Ne.newNoDocument(s,l),d=r.removedTargetIds||[];n=new Nh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=gs(a,r.document),l=r.removedTargetIds||[];n=new Nh([],l,s,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,c=new SI(s,l),d=r.targetId;n=new XE(d,c)}}return n}function Zh(a,t){let n;if(t instanceof Zo)n={update:Ov(a,t.key,t.value)};else if(t instanceof bf)n={delete:Xh(a,t.key)};else if(t instanceof Ia)n={update:Ov(a,t.key,t.data),updateMask:jI(t.fieldMask)};else{if(!(t instanceof YE))return Et(16599,{dt:t.type});n={verify:Xh(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ho)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Go)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:NI(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(a,t.precondition)),n}function mg(a,t){const n=t.currentDocument?(function(l){return l.updateTime!==void 0?Vn.updateTime(Mn(l.updateTime)):l.exists!==void 0?Vn.exists(l.exists):Vn.none()})(t.currentDocument):Vn.none(),r=t.updateTransforms?t.updateTransforms.map((s=>(function(c,d){let g=null;if("setToServerValue"in d)St(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),g=new Ou;else if("appendMissingElements"in d){const y=d.appendMissingElements.values||[];g=new Ho(y)}else if("removeAllFromArray"in d){const y=d.removeAllFromArray.values||[];g=new Go(y)}else"increment"in d?g=new Pu(c,d.increment):Et(16584,{proto:d});const p=xe.fromServerFormat(d.fieldPath);return new vI(p,g)})(a,s))):[];if(t.update){t.update.name;const s=gs(a,t.update.name),l=new Fn({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new yi(p.map((y=>xe.fromServerFormat(y))))})(t.updateMask);return new Ia(s,l,c,n,r)}return new Zo(s,l,n,r)}if(t.delete){const s=gs(a,t.delete);return new bf(s,n)}if(t.verify){const s=gs(a,t.verify);return new YE(s,n)}return Et(1463,{proto:t})}function UI(a,t){return a&&a.length>0?(St(t!==void 0,14353),a.map((n=>(function(s,l){let c=s.updateTime?Mn(s.updateTime):Mn(l);return c.isEqual(Rt.min())&&(c=Mn(l)),new TI(c,s.transformResults||[])})(n,t)))):[]}function nT(a,t){return{documents:[$E(a,t.path)]}}function iT(a,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$E(a,s);const l=(function(p){if(p.length!==0)return sT(ye.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:wo(E.field),direction:LI(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=hg(a,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:s}}function rT(a){let t=tT(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=aT(_);return E instanceof ye&&Lg(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(P){return new Qh(Io(P.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,hf(E)?null:E})(n.limit));let g=null;n.startAt&&(g=(function(_){const E=!!_.before,w=_.values||[];return new qo(w,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,w=_.values||[];return new qo(w,E)})(n.endAt)),aI(t,s,c,l,d,"F",g,p)}function zI(a,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function aT(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Io(n.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(n.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Io(n.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Gt.create(Io(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return ye.create(n.compositeFilter.filters.map((r=>aT(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(a):Et(30097,{filter:a})}function LI(a){return CI[a]}function BI(a){return xI[a]}function kI(a){return VI[a]}function wo(a){return{fieldPath:a.canonicalString()}}function Io(a){return xe.fromServerFormat(a.fieldPath)}function sT(a){return a instanceof Gt?(function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(yv(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(yv(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:BI(n.op),value:n.value}}})(a):a instanceof ye?(function(n){const r=n.getFilters().map((s=>sT(s)));return r.length===1?r[0]:{compositeFilter:{op:kI(n.op),filters:r}}})(a):Et(54877,{filter:a})}function jI(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function oT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function lT(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Rr{constructor(t,n,r,s,l=Rt.min(),c=Rt.min(),d=We.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class uT{constructor(t){this.yt=t}}function qI(a,t){let n;if(t.document)n=OI(a.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=yt.fromSegments(t.noDocument.path),s=Ts(t.noDocument.readTime);n=Ne.newNoDocument(r,s),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Et(56709);{const r=yt.fromSegments(t.unknownDocument.path),s=Ts(t.unknownDocument.version);n=Ne.newUnknownDocument(r,s)}}return t.readTime&&n.setReadTime((function(s){const l=new le(s[0],s[1]);return Rt.fromTimestamp(l)})(t.readTime)),n}function Pv(a,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(l,c){return{name:Xh(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Qo(l,c.version.toTimestamp()),createTime:Qo(l,c.createTime.toTimestamp())}})(a.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Es(t.version)};else{if(!t.isUnknownDocument())return Et(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:Es(t.version)}}return r}function Wh(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function Es(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ts(a){const t=new le(a.seconds,a.nanoseconds);return Rt.fromTimestamp(t)}function os(a,t){const n=(t.baseMutations||[]).map((l=>mg(a.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const r=t.mutations.map((l=>mg(a.yt,l))),s=le.fromMillis(t.localWriteTimeMs);return new kg(t.batchId,s,n,r)}function hu(a){const t=Ts(a.readTime),n=a.lastLimboFreeSnapshotVersion!==void 0?Ts(a.lastLimboFreeSnapshotVersion):Rt.min();let r;return r=(function(l){return l.documents!==void 0})(a.query)?(function(l){const c=l.documents.length;return St(c===1,1966,{count:c}),_i(_f(tT(l.documents[0])))})(a.query):(function(l){return _i(rT(l))})(a.query),new Rr(r,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,n,We.fromBase64String(a.resumeToken))}function cT(a,t){const n=Es(t.snapshotVersion),r=Es(t.lastLimboFreeSnapshotVersion);let s;s=Yh(t.target)?nT(a.yt,t.target):iT(a.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vs(t.target),readTime:n,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function hT(a){const t=rT({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?cg(t,t.limit,"L"):t}function Bm(a,t){return new qg(t.largestBatchId,mg(a.yt,t.overlayMutation))}function Uv(a,t){const n=t.path.lastSegment();return[a,In(t.path.popLast()),n]}function zv(a,t,n,r){return{indexId:a,uid:t,sequenceNumber:n,readTime:Es(r.readTime),documentKey:In(r.documentKey.path),largestBatchId:r.largestBatchId}}class FI{getBundleMetadata(t,n){return Lv(t).get(n).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:Ts(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(t,n){return Lv(t).put((function(s){return{bundleId:s.id,createTime:Es(Mn(s.createTime)),version:s.version}})(n))}getNamedQuery(t,n){return Bv(t).get(n).next((r=>{if(r)return(function(l){return{name:l.name,query:hT(l.bundledQuery),readTime:Ts(l.readTime)}})(r)}))}saveNamedQuery(t,n){return Bv(t).put((function(s){return{name:s.name,readTime:Es(Mn(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function Lv(a){return en(a,ff)}function Bv(a){return en(a,df)}class Sf{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const r=n.uid||"";return new Sf(t,r)}getOverlay(t,n){return eu(t).get(Uv(this.userId,n)).next((r=>r?Bm(this.serializer,r):null))}getOverlays(t,n){const r=ir();return X.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&r.set(s,l)})))).next((()=>r))}saveOverlays(t,n,r){const s=[];return r.forEach(((l,c)=>{const d=new qg(n,c);s.push(this.bt(t,d))})),X.waitFor(s)}removeOverlaysForBatchId(t,n,r){const s=new Set;n.forEach((c=>s.add(In(c.getCollectionPath()))));const l=[];return s.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(eu(t).X(ig,d))})),X.waitFor(l)}getOverlaysForCollection(t,n,r){const s=ir(),l=In(n),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return eu(t).H(ig,c).next((d=>{for(const g of d){const p=Bm(this.serializer,g);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(t,n,r,s){const l=ir();let c;const d=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return eu(t).ee({index:dE,range:d},((g,p,y)=>{const _=Bm(this.serializer,p);l.size()<s||_.largestBatchId===c?(l.set(_.getKey(),_),c=_.largestBatchId):y.done()})).next((()=>l))}bt(t,n){return eu(t).put((function(s,l,c){const[d,g,p]=Uv(l,c.mutation.key);return{userId:l,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Zh(s.yt,c.mutation)}})(this.serializer,this.userId,n))}}function eu(a){return en(a,mf)}class HI{St(t){return en(t,Mg)}getSessionToken(t){return this.St(t).get("sessionToken").next((n=>{const r=n?.value;return r?We.fromUint8Array(r):We.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.St(t).put({name:"sessionToken",value:n.toUint8Array()})}}class ls{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(De(t.integerValue));else if("doubleValue"in t){const r=De(t.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ru(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Cr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(xr(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in t?wE(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):pf(t)?this.kt(t.mapValue,n):(this.Kt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.qt(t.arrayValue,n),this.Nt(n)):Et(19022,{Ut:t})}Ot(t,n){this.Ft(n,25),this.$t(t,n)}$t(t,n){n.xt(t)}Kt(t,n){const r=t.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(t,n){const r=t.fields||{};this.Ft(n,53);const s=ko,l=r[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(De(l)),this.Ot(s,n),this.Ct(r[s],n)}qt(t,n){const r=t.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(t,n){this.Ft(n,37),yt.fromName(t).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}ls.Wt=new ls;const _o=255;function GI(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function kv(a){const t=64-(function(r){let s=0;for(let l=0;l<8;++l){const c=GI(255&r[l]);if(s+=c,c!==8)break}return s})(a);return Math.ceil(t/8)}class QI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const s=n.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(t){const n=this.en(t),r=kv(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(t){const n=this.en(t),r=kv(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(_o),this.sn(255)}_n(){this.an(_o),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===_o?(this.sn(_o),this.sn(0)):this.sn(n)}Ht(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===_o?(this.an(_o),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class YI{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class KI{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class nu{constructor(){this.cn=new QI,this.ascending=new YI(this.cn),this.descending=new KI(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class us{constructor(t,n,r,s){this.hn=t,this.Pn=n,this.Tn=r,this.In=s}En(){const t=this.In.length,n=t===0||this.In[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.In,0),n!==t?r.set([0],this.In.length):++r[r.length-1],new us(this.hn,this.Pn,this.Tn,r)}Rn(t,n,r){return{indexId:this.hn,uid:t,arrayValue:Oh(this.Tn),directionalValue:Oh(this.In),orderedDocumentKey:Oh(n),documentKey:r.path.toArray()}}An(t,n,r){const s=this.Rn(t,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ca(a,t){let n=a.hn-t.hn;return n!==0?n:(n=jv(a.Tn,t.Tn),n!==0?n:(n=jv(a.In,t.In),n!==0?n:yt.comparator(a.Pn,t.Pn)))}function jv(a,t){for(let n=0;n<a.length&&n<t.length;++n){const r=a[n]-t[n];if(r!==0)return r}return a.length-t.length}function Oh(a){return k1()?(function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r})(a):a}function qv(a){return typeof a!="string"?a:(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(a)}class Fv{constructor(t){this.Vn=new ue(((n,r)=>xe.comparator(n.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const n of t.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(t){if(St(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=tg(t);if(n!==void 0&&!this.pn(n))return!1;const r=is(t);let s=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)s=s.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!s.has(d.field.canonicalString())){const g=r[l];if(!this.yn(d,g)||!this.wn(this.dn[c++],g))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let t=new ue(xe.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ih(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new Ih(r.field,0))}for(const r of this.dn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new Ih(r.field,r.dir==="asc"?0:1)));return new jh(jh.UNKNOWN_ID,this.collectionId,n,Iu.empty())}pn(t){for(const n of this.mn)if(this.yn(n,t))return!0;return!1}yn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}wn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}function fT(a){if(St(a instanceof Gt||a instanceof ye,20012),a instanceof Gt){if(a instanceof OE){const n=a.value.arrayValue?.values?.map((r=>Gt.create(a.field,"==",r)))||[];return ye.create(n,"or")}return a}const t=a.filters.map((n=>fT(n)));return ye.create(t,a.op)}function XI(a){if(a.getFilters().length===0)return[];const t=yg(fT(a));return St(dT(t),7391),gg(t)||pg(t)?[t]:t.getFilters()}function gg(a){return a instanceof Gt}function pg(a){return a instanceof ye&&Lg(a)}function dT(a){return gg(a)||pg(a)||(function(n){if(n instanceof ye&&og(n)){for(const r of n.getFilters())if(!gg(r)&&!pg(r))return!1;return!0}return!1})(a)}function yg(a){if(St(a instanceof Gt||a instanceof ye,34018),a instanceof Gt)return a;if(a.filters.length===1)return yg(a.filters[0]);const t=a.filters.map((r=>yg(r)));let n=ye.create(t,a.op);return n=Jh(n),dT(n)?n:(St(n instanceof ye,64498),St(Fo(n),40251),St(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Gg(r,s))))}function Gg(a,t){let n;return St(a instanceof Gt||a instanceof ye,38388),St(t instanceof Gt||t instanceof ye,25473),n=a instanceof Gt?t instanceof Gt?(function(s,l){return ye.create([s,l],"and")})(a,t):Hv(a,t):t instanceof Gt?Hv(t,a):(function(s,l){if(St(s.filters.length>0&&l.filters.length>0,48005),Fo(s)&&Fo(l))return VE(s,l.getFilters());const c=og(s)?s:l,d=og(s)?l:s,g=c.filters.map((p=>Gg(p,d)));return ye.create(g,"or")})(a,t),Jh(n)}function Hv(a,t){if(Fo(t))return VE(t,a.getFilters());{const n=t.filters.map((r=>Gg(a,r)));return ye.create(n,"or")}}function Jh(a){if(St(a instanceof Gt||a instanceof ye,11850),a instanceof Gt)return a;const t=a.getFilters();if(t.length===1)return Jh(t[0]);if(CE(a))return a;const n=t.map((s=>Jh(s))),r=[];return n.forEach((s=>{s instanceof Gt?r.push(s):s instanceof ye&&(s.op===a.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:ye.create(r,a.op)}class ZI{constructor(){this.Sn=new Qg}addToCollectionParentIndex(t,n){return this.Sn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(ei.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(ei.min())}updateCollectionGroup(t,n,r){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class Qg{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new ue(ee.comparator),l=!s.has(r);return this.index[n]=s.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new ue(ee.comparator)).toArray()}}const Gv="IndexedDbIndexManager",Eh=new Uint8Array(0);class WI{constructor(t,n){this.databaseId=n,this.Dn=new Qg,this.Cn=new Mr((r=>vs(r)),((r,s)=>ju(r,s))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.Dn.has(n)){const r=n.lastSegment(),s=n.popLast();t.addOnCommittedListener((()=>{this.Dn.add(n)}));const l={collectionId:r,parent:In(s)};return Qv(t).put(l)}return X.resolve()}getCollectionParents(t,n){const r=[],s=IDBKeyRange.bound([n,""],[eE(n),""],!1,!0);return Qv(t).H(s).next((l=>{for(const c of l){if(c.collectionId!==n)break;r.push(nr(c.parent))}return r}))}addFieldIndex(t,n){const r=iu(t),s=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete s.indexId;const l=r.add(s);if(n.indexState){const c=Eo(t);return l.next((d=>{c.put(zv(d,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return l.next()}deleteFieldIndex(t,n){const r=iu(t),s=Eo(t),l=vo(t);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=iu(t),r=vo(t),s=Eo(t);return n.X().next((()=>r.X())).next((()=>s.X()))}createTargetIndexes(t,n){return X.forEach(this.vn(n),(r=>this.getIndexType(t,r).next((s=>{if(s===0||s===1){const l=new Fv(r).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,n){const r=vo(t);let s=!0;const l=new Map;return X.forEach(this.vn(n),(c=>this.Fn(t,c).next((d=>{s&&(s=!!d),l.set(c,d)})))).next((()=>{if(s){let c=zt();const d=[];return X.forEach(l,((g,p)=>{mt(Gv,`Using index ${(function(Y){return`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map((K=>`${K.fieldPath}:${K.kind}`)).join(",")}`})(g)} to execute ${vs(n)}`);const y=(function(Y,K){const ut=tg(K);if(ut===void 0)return null;for(const L of Kh(Y,ut.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null})(p,g),_=(function(Y,K){const ut=new Map;for(const L of is(K))for(const M of Kh(Y,L.fieldPath))switch(M.op){case"==":case"in":ut.set(L.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return ut.set(L.fieldPath.canonicalString(),M.value),Array.from(ut.values())}return null})(p,g),E=(function(Y,K){const ut=[];let L=!0;for(const M of is(K)){const b=M.kind===0?Av(Y,M.fieldPath,Y.startAt):Sv(Y,M.fieldPath,Y.startAt);ut.push(b.value),L&&(L=b.inclusive)}return new qo(ut,L)})(p,g),w=(function(Y,K){const ut=[];let L=!0;for(const M of is(K)){const b=M.kind===0?Sv(Y,M.fieldPath,Y.endAt):Av(Y,M.fieldPath,Y.endAt);ut.push(b.value),L&&(L=b.inclusive)}return new qo(ut,L)})(p,g),P=this.Mn(g,p,E),z=this.Mn(g,p,w),j=this.xn(g,p,_),k=this.On(g.indexId,y,P,E.inclusive,z,w.inclusive,j);return X.forEach(k,(at=>r.Z(at,n.limit).next((Y=>{Y.forEach((K=>{const ut=yt.fromSegments(K.documentKey);c.has(ut)||(c=c.add(ut),d.push(ut))}))}))))})).next((()=>d))}return X.resolve(null)}))}vn(t){let n=this.Cn.get(t);return n||(t.filters.length===0?n=[t]:n=XI(ye.create(t.filters,"and")).map((r=>ug(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,n),n)}On(t,n,r,s,l,c,d){const g=(n!=null?n.length:1)*Math.max(r.length,l.length),p=g/(n!=null?n.length:1),y=[];for(let _=0;_<g;++_){const E=n?this.Nn(n[_/p]):Eh,w=this.Bn(t,E,r[_%p],s),P=this.Ln(t,E,l[_%p],c),z=d.map((j=>this.Bn(t,E,j,!0)));y.push(...this.createRange(w,P,z))}return y}Bn(t,n,r,s){const l=new us(t,yt.empty(),n,r);return s?l:l.En()}Ln(t,n,r,s){const l=new us(t,yt.empty(),n,r);return s?l.En():l}Fn(t,n){const r=new Fv(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,s).next((l=>{let c=null;for(const d of l)r.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(t,n){let r=2;const s=this.vn(n);return X.forEach(s,(l=>this.Fn(t,l).next((c=>{c?r!==0&&c.fields.length<(function(g){let p=new ue(xe.comparator),y=!1;for(const _ of g.filters)for(const E of _.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const _ of g.orderBy)_.field.isKeyField()||(p=p.add(_.field));return p.size+(y?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&s.length>1&&r===2?1:r))}kn(t,n){const r=new nu;for(const s of is(t)){const l=n.data.field(s.fieldPath);if(l==null)return null;const c=r.ln(s.kind);ls.Wt.Dt(l,c)}return r.un()}Nn(t){const n=new nu;return ls.Wt.Dt(t,n.ln(0)),n.un()}Kn(t,n){const r=new nu;return ls.Wt.Dt(zg(this.databaseId,n),r.ln((function(l){const c=is(l);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}xn(t,n,r){if(r===null)return[];let s=[];s.push(new nu);let l=0;for(const c of is(t)){const d=r[l++];for(const g of s)if(this.qn(n,c.fieldPath)&&Nu(d))s=this.Un(s,c,d);else{const p=g.ln(c.kind);ls.Wt.Dt(d,p)}}return this.$n(s)}Mn(t,n,r){return this.xn(t,n,r.position)}$n(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].un();return n}Un(t,n,r){const s=[...t],l=[];for(const c of r.arrayValue.values||[])for(const d of s){const g=new nu;g.seed(d.un()),ls.Wt.Dt(c,g.ln(n.kind)),l.push(g)}return l}qn(t,n){return!!t.filters.find((r=>r instanceof Gt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,n){const r=iu(t),s=Eo(t);return(n?r.H(ng,IDBKeyRange.bound(n,n)):r.H()).next((l=>{const c=[];return X.forEach(l,(d=>s.get([d.indexId,this.uid]).next((g=>{c.push((function(y,_){const E=_?new Iu(_.sequenceNumber,new ei(Ts(_.readTime),new yt(nr(_.documentKey)),_.largestBatchId)):Iu.empty(),w=y.fields.map((([P,z])=>new Ih(xe.fromServerFormat(P),z)));return new jh(y.indexId,y.collectionGroup,w,E)})(d,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((r,s)=>{const l=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return l!==0?l:xt(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,r){const s=iu(t),l=Eo(t);return this.Wn(t).next((c=>s.H(ng,IDBKeyRange.bound(n,n)).next((d=>X.forEach(d,(g=>l.put(zv(g.indexId,this.uid,c,r))))))))}updateIndexEntries(t,n){const r=new Map;return X.forEach(n,((s,l)=>{const c=r.get(s.collectionGroup);return(c?X.resolve(c):this.getFieldIndexes(t,s.collectionGroup)).next((d=>(r.set(s.collectionGroup,d),X.forEach(d,(g=>this.Qn(t,s,g).next((p=>{const y=this.Gn(l,g);return p.isEqual(y)?X.resolve():this.zn(t,l,g,p,y)})))))))}))}jn(t,n,r,s){return vo(t).put(s.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(t,n,r,s){return vo(t).delete(s.An(this.uid,this.Kn(r,n.key),n.key))}Qn(t,n,r){const s=vo(t);let l=new ue(ca);return s.ee({index:fE,range:IDBKeyRange.only([r.indexId,this.uid,Oh(this.Kn(r,n))])},((c,d)=>{l=l.add(new us(r.indexId,n,qv(d.arrayValue),qv(d.directionalValue)))})).next((()=>l))}Gn(t,n){let r=new ue(ca);const s=this.kn(n,t);if(s==null)return r;const l=tg(n);if(l!=null){const c=t.data.field(l.fieldPath);if(Nu(c))for(const d of c.arrayValue.values||[])r=r.add(new us(n.indexId,t.key,this.Nn(d),s))}else r=r.add(new us(n.indexId,t.key,Eh,s));return r}zn(t,n,r,s,l){mt(Gv,"Updating index entries for document '%s'",n.key);const c=[];return(function(g,p,y,_,E){const w=g.getIterator(),P=p.getIterator();let z=yo(w),j=yo(P);for(;z||j;){let k=!1,at=!1;if(z&&j){const Y=y(z,j);Y<0?at=!0:Y>0&&(k=!0)}else z!=null?at=!0:k=!0;k?(_(j),j=yo(P)):at?(E(z),z=yo(w)):(z=yo(w),j=yo(P))}})(s,l,ca,(d=>{c.push(this.jn(t,n,r,d))}),(d=>{c.push(this.Hn(t,n,r,d))})),X.waitFor(c)}Wn(t){let n=1;return Eo(t).ee({index:hE,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,l)=>{l.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(t,n,r){r=r.sort(((c,d)=>ca(c,d))).filter(((c,d,g)=>!d||ca(c,g[d-1])!==0));const s=[];s.push(t);for(const c of r){const d=ca(c,t),g=ca(c,n);if(d===0)s[0]=t.En();else if(d>0&&g<0)s.push(c),s.push(c.En());else if(g>0)break}s.push(n);const l=[];for(let c=0;c<s.length;c+=2){if(this.Jn(s[c],s[c+1]))return[];const d=s[c].An(this.uid,Eh,yt.empty()),g=s[c+1].An(this.uid,Eh,yt.empty());l.push(IDBKeyRange.bound(d,g))}return l}Jn(t,n){return ca(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(Yv)}getMinOffset(t,n){return X.mapArray(this.vn(n),(r=>this.Fn(t,r).next((s=>s||Et(44426))))).next(Yv)}}function Qv(a){return en(a,xu)}function vo(a){return en(a,pu)}function iu(a){return en(a,Vg)}function Eo(a){return en(a,gu)}function Yv(a){St(a.length!==0,28825);let t=a[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<a.length;r++){const s=a[r].indexState.offset;Dg(s,t)<0&&(t=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new ei(t.readTime,t.documentKey,n)}const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function gT(a,t,n){const r=a.store(Vi),s=a.store(Uo),l=[],c=IDBKeyRange.only(n.batchId);let d=0;const g=r.ee({range:c},((y,_,E)=>(d++,E.delete())));l.push(g.next((()=>{St(d===1,47070,{batchId:n.batchId})})));const p=[];for(const y of n.mutations){const _=lE(t,y.key.path,n.batchId);l.push(s.delete(_)),p.push(y.key)}return X.waitFor(l).next((()=>p))}function $h(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw Et(14731);t=a.noDocument}return JSON.stringify(t).length}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(mT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class wf{constructor(t,n,r,s){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static wt(t,n,r,s){St(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new wf(l,n,r,s)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ha(t).ee({index:cs,range:r},((s,l,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(t,n,r,s){const l=Ro(t),c=ha(t);return c.add({}).next((d=>{St(typeof d=="number",49019);const g=new kg(d,n,r,s),p=(function(w,P,z){const j=z.baseMutations.map((at=>Zh(w.yt,at))),k=z.mutations.map((at=>Zh(w.yt,at)));return{userId:P,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:j,mutations:k}})(this.serializer,this.userId,g),y=[];let _=new ue(((E,w)=>xt(E.canonicalString(),w.canonicalString())));for(const E of s){const w=lE(this.userId,E.key.path,d);_=_.add(E.key.path.popLast()),y.push(c.put(p)),y.push(l.put(w,bw))}return _.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[d]=g.keys()})),X.waitFor(y).next((()=>g))}))}lookupMutationBatch(t,n){return ha(t).get(n).next((r=>r?(St(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),os(this.serializer,r)):null))}Xn(t,n){return this.Zn[n]?X.resolve(this.Zn[n]):this.lookupMutationBatch(t,n).next((r=>{if(r){const s=r.keys();return this.Zn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return ha(t).ee({index:cs,range:s},((c,d,g)=>{d.userId===this.userId&&(St(d.batchId>=r,47524,{Yn:r}),l=os(this.serializer,d)),g.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ds;return ha(t).ee({index:cs,range:n,reverse:!0},((s,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,ds],[this.userId,Number.POSITIVE_INFINITY]);return ha(t).H(cs,n).next((r=>r.map((s=>os(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=Rh(this.userId,n.path),s=IDBKeyRange.lowerBound(r),l=[];return Ro(t).ee({range:s},((c,d,g)=>{const[p,y,_]=c,E=nr(y);if(p===this.userId&&n.path.isEqual(E))return ha(t).get(_).next((w=>{if(!w)throw Et(61480,{er:c,batchId:_});St(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:_}),l.push(os(this.serializer,w))}));g.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ue(xt);const s=[];return n.forEach((l=>{const c=Rh(this.userId,l.path),d=IDBKeyRange.lowerBound(c),g=Ro(t).ee({range:d},((p,y,_)=>{const[E,w,P]=p,z=nr(w);E===this.userId&&l.path.isEqual(z)?r=r.add(P):_.done()}));s.push(g)})),X.waitFor(s).next((()=>this.tr(t,r)))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1,l=Rh(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new ue(xt);return Ro(t).ee({range:c},((g,p,y)=>{const[_,E,w]=g,P=nr(E);_===this.userId&&r.isPrefixOf(P)?P.length===s&&(d=d.add(w)):y.done()})).next((()=>this.tr(t,d)))}tr(t,n){const r=[],s=[];return n.forEach((l=>{s.push(ha(t).get(l).next((c=>{if(c===null)throw Et(35274,{batchId:l});St(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(os(this.serializer,c))})))})),X.waitFor(s).next((()=>r))}removeMutationBatch(t,n){return gT(t.le,this.userId,n).next((r=>(t.addOnCommittedListener((()=>{this.nr(n.batchId)})),X.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return X.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),s=[];return Ro(t).ee({range:r},((l,c,d)=>{if(l[0]===this.userId){const g=nr(l[1]);s.push(g)}else d.done()})).next((()=>{St(s.length===0,56720,{rr:s.map((l=>l.canonicalString()))})}))}))}containsKey(t,n){return pT(t,this.userId,n)}ir(t){return yT(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ds,lastStreamToken:""}))}}function pT(a,t,n){const r=Rh(t,n.path),s=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Ro(a).ee({range:l,Y:!0},((d,g,p)=>{const[y,_,E]=d;y===t&&_===s&&(c=!0),p.done()})).next((()=>c))}function ha(a){return en(a,Vi)}function Ro(a){return en(a,Uo)}function yT(a){return en(a,Du)}class bs{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new bs(0)}static ar(){return new bs(-1)}}class JI{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.ur(t).next((n=>{const r=new bs(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((n=>Rt.fromTimestamp(new le(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,r){return this.ur(t).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.cr(t,s))))}addTargetData(t,n){return this.lr(t,n).next((()=>this.ur(t).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(t,r))))))}updateTargetData(t,n){return this.lr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>To(t).delete(n.targetId))).next((()=>this.ur(t))).next((r=>(St(r.targetCount>0,8065),r.targetCount-=1,this.cr(t,r))))}removeTargets(t,n,r){let s=0;const l=[];return To(t).ee(((c,d)=>{const g=hu(d);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(s++,l.push(this.removeTargetData(t,g)))})).next((()=>X.waitFor(l))).next((()=>s))}forEachTarget(t,n){return To(t).ee(((r,s)=>{const l=hu(s);n(l)}))}ur(t){return Xv(t).get(Hh).next((n=>(St(n!==null,2888),n)))}cr(t,n){return Xv(t).put(Hh,n)}lr(t,n){return To(t).put(cT(this.serializer,n))}hr(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.ur(t).next((n=>n.targetCount))}getTargetData(t,n){const r=vs(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return To(t).ee({range:s,index:cE},((c,d,g)=>{const p=hu(d);ju(n,p.target)&&(l=p,g.done())})).next((()=>l))}addMatchingKeys(t,n,r){const s=[],l=ma(t);return n.forEach((c=>{const d=In(c.path);s.push(l.put({targetId:r,path:d})),s.push(this.referenceDelegate.addReference(t,r,c))})),X.waitFor(s)}removeMatchingKeys(t,n,r){const s=ma(t);return X.forEach(n,(l=>{const c=In(l.path);return X.waitFor([s.delete([r,c]),this.referenceDelegate.removeReference(t,r,l)])}))}removeMatchingKeysForTargetId(t,n){const r=ma(t),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=ma(t);let l=zt();return s.ee({range:r,Y:!0},((c,d,g)=>{const p=nr(c[1]),y=new yt(p);l=l.add(y)})).next((()=>l))}containsKey(t,n){const r=In(n.path),s=IDBKeyRange.bound([r],[eE(r)],!1,!0);let l=0;return ma(t).ee({index:xg,Y:!0,range:s},(([c,d],g,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(t,n){return To(t).get(n).next((r=>r?hu(r):null))}}function To(a){return en(a,zo)}function Xv(a){return en(a,ms)}function ma(a){return en(a,Lo)}const Zv="LruGarbageCollector",_T=1048576;function Wv([a,t],[n,r]){const s=xt(a,n);return s===0?xt(t,r):s}class $I{constructor(t){this.Pr=t,this.buffer=new ue(Wv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vT{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wa(n)?mt(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await Ss(n)}await this.Ar(3e5)}))}}class tR{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return X.resolve(pi.ce);const r=new $I(n);return this.Vr.forEachTarget(t,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(t,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Kv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,s,l,c,d,g,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(t,s)))).next((_=>(r=_,d=Date.now(),this.removeTargets(t,r,n)))).next((_=>(l=_,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((_=>(p=Date.now(),Ao()<=Yt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${_} documents in `+(p-g)+`ms
Total Duration: ${p-y}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_}))))}}function ET(a,t){return new tR(a,t)}class eR{constructor(t,n){this.db=t,this.garbageCollector=ET(this,n)}dr(t){const n=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}mr(t,n){return this.yr(t,((r,s)=>n(s)))}addReference(t,n,r){return Th(t,r)}removeReference(t,n,r){return Th(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return Th(t,n)}wr(t,n){return(function(s,l){let c=!1;return yT(s).te((d=>pT(s,d,l).next((g=>(g&&(c=!0),X.resolve(!g)))))).next((()=>c))})(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.yr(t,((c,d)=>{if(d<=n){const g=this.wr(t,c).next((p=>{if(!p)return l++,r.getEntry(t,c).next((()=>(r.removeEntry(c,Rt.min()),ma(t).delete((function(_){return[0,In(_.path)]})(c)))))}));s.push(g)}})).next((()=>X.waitFor(s))).next((()=>r.apply(t))).next((()=>l))}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return Th(t,n)}yr(t,n){const r=ma(t);let s,l=pi.ce;return r.ee({index:xg},(([c,d],{path:g,sequenceNumber:p})=>{c===0?(l!==pi.ce&&n(new yt(nr(s)),l),l=p,s=g):l=pi.ce})).next((()=>{l!==pi.ce&&n(new yt(nr(s)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Th(a,t){return ma(a).put((function(r,s){return{targetId:0,path:In(r.path),sequenceNumber:s}})(t,a.currentSequenceNumber))}class TT{constructor(){this.changes=new Mr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ne.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nR{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return es(t).put(r)}removeEntry(t,n,r){return es(t).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Wh(c),d[d.length-1]]})(n,r))}updateMetadata(t,n){return this.getMetadata(t).next((r=>(r.byteSize+=n,this.br(t,r))))}getEntry(t,n){let r=Ne.newInvalidDocument(n);return es(t).ee({index:Dh,range:IDBKeyRange.only(ru(n))},((s,l)=>{r=this.Sr(n,l)})).next((()=>r))}Dr(t,n){let r={size:0,document:Ne.newInvalidDocument(n)};return es(t).ee({index:Dh,range:IDBKeyRange.only(ru(n))},((s,l)=>{r={document:this.Sr(n,l),size:$h(l)}})).next((()=>r))}getEntries(t,n){let r=ti();return this.Cr(t,n,((s,l)=>{const c=this.Sr(s,l);r=r.insert(s,c)})).next((()=>r))}vr(t,n){let r=ti(),s=new Ce(yt.comparator);return this.Cr(t,n,((l,c)=>{const d=this.Sr(l,c);r=r.insert(l,d),s=s.insert(l,$h(c))})).next((()=>({documents:r,Fr:s})))}Cr(t,n,r){if(n.isEmpty())return X.resolve();let s=new ue(t1);n.forEach((g=>s=s.add(g)));const l=IDBKeyRange.bound(ru(s.first()),ru(s.last())),c=s.getIterator();let d=c.getNext();return es(t).ee({index:Dh,range:l},((g,p,y)=>{const _=yt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&t1(d,_)<0;)r(d,null),d=c.getNext();d&&d.isEqual(_)&&(r(d,p),d=c.hasNext()?c.getNext():null),d?y.j(ru(d)):y.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,n,r,s,l){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),Wh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return es(t).H(IDBKeyRange.bound(d,g,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=ti();for(const _ of p){const E=this.Sr(yt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);E.isFoundDocument()&&(qu(n,E)||s.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,n,r,s){let l=ti();const c=$v(n,r),d=$v(n,ei.max());return es(t).ee({index:uE,range:IDBKeyRange.bound(c,d,!0)},((g,p,y)=>{const _=this.Sr(yt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(_.key,_),l.size===s&&y.done()})).next((()=>l))}newChangeBuffer(t){return new iR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return Jv(t).get(eg).next((n=>(St(!!n,20021),n)))}br(t,n){return Jv(t).put(eg,n)}Sr(t,n){if(n){const r=qI(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Rt.min())))return r}return Ne.newInvalidDocument(t)}}function bT(a){return new nR(a)}class iR extends TT{constructor(t,n){super(),this.Mr=t,this.trackRemovals=n,this.Or=new Mr((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(t){const n=[];let r=0,s=new ue(((l,c)=>xt(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Or.get(l);if(n.push(this.Mr.removeEntry(t,l,d.readTime)),c.isValidDocument()){const g=Pv(this.Mr.serializer,c);s=s.add(l.path.popLast());const p=$h(g);r+=p-d.size,n.push(this.Mr.addEntry(t,l,g))}else if(r-=d.size,this.trackRemovals){const g=Pv(this.Mr.serializer,c.convertToNoDocument(Rt.min()));n.push(this.Mr.addEntry(t,l,g))}})),s.forEach((l=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),n.push(this.Mr.updateMetadata(t,r)),X.waitFor(n)}getFromCache(t,n){return this.Mr.Dr(t,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,n){return this.Mr.vr(t,n).next((({documents:r,Fr:s})=>(s.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function Jv(a){return en(a,Cu)}function es(a){return en(a,Fh)}function ru(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function $v(a,t){const n=t.documentKey.path.toArray();return[a,Wh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function t1(a,t){const n=a.path.toArray(),r=t.path.toArray();let s=0;for(let l=0;l<n.length-2&&l<r.length-2;++l)if(s=xt(n[l],r[l]),s)return s;return s=xt(n.length,r.length),s||(s=xt(n[n.length-2],r[r.length-2]),s||xt(n[n.length-1],r[r.length-1]))}class rR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class AT{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&Eu(r.mutation,s,yi.empty(),le.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=zt()){const s=ir();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((l=>{let c=uu();return l.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=ir();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,zt())))}populateOverlays(t,n,r){const s=[];return r.forEach((l=>{n.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(t,s).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,r,s){let l=ti();const c=vu(),d=(function(){return vu()})();return n.forEach(((g,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Ia)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Eu(y.mutation,p,y.mutation.getFieldMask(),le.now())):c.set(p.key,yi.empty())})),this.recalculateAndSaveOverlays(t,l).next((g=>(g.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new rR(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const r=vu();let s=new Ce(((c,d)=>c-d)),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let y=r.get(g)||yi.empty();y=d.applyToLocalView(p,y),r.set(g,y);const _=(s.get(d.batchId)||zt()).add(g);s=s.insert(d.batchId,_)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,y=g.value,_=BE();y.forEach((E=>{if(!l.has(E)){const w=GE(n.get(E),r.get(E));w!==null&&_.set(E,w),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return X.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return sI(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-l.size):X.resolve(ir());let d=wu,g=l;return c.next((p=>X.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?X.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{g=g.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,g,p,zt()))).next((y=>({batchId:d,changes:LE(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((r=>{let s=uu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const l=n.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(t,l).next((d=>X.forEach(d,(g=>{const p=(function(_,E){return new yf(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,s).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,s)))).next((c=>{l.forEach(((g,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Ne.newInvalidDocument(y)))}));let d=uu();return c.forEach(((g,p)=>{const y=l.get(g);y!==void 0&&Eu(y.mutation,p,yi.empty(),le.now()),qu(n,p)&&(d=d.insert(g,p))})),d}))}}class aR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Mn(s.createTime)}})(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:hT(s.bundledQuery),readTime:Mn(s.readTime)}})(n)),X.resolve()}}class sR{constructor(){this.overlays=new Ce(yt.comparator),this.Lr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ir();return X.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&r.set(s,l)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,l)=>{this.bt(t,n,l)})),X.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(t,n,r){const s=ir(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&s.set(g.getKey(),g)}return X.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let l=new Ce(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ir(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ir(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=s)););return X.resolve(d)}bt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new qg(n,r));let l=this.Lr.get(n);l===void 0&&(l=zt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class oR{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}class Yg{constructor(){this.kr=new ue(on.Kr),this.qr=new ue(on.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new on(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new on(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new yt(new ee([])),r=new on(n,t),s=new on(n,t+1),l=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new yt(new ee([])),r=new on(n,t),s=new on(n,t+1);let l=zt();return this.qr.forEachInRange([r,s],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new on(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return yt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||yt.comparator(t.key,n.key)}}class lR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ue(on.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kg(l,n,r,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new on(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(t,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Xr(r),l=s<0?0:s;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ds:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,s],(c=>{const d=this.Zr(c.Hr);l.push(d)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ue(xt);return n.forEach((s=>{const l=new on(s,0),c=new on(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{r=r.add(d.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new on(new yt(l),0);let d=new ue(xt);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(g.Hr)),!0)}),c),X.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){St(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(n.mutations,(s=>{const l=new on(s.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new on(n,0),s=this.Jr.firstAfterOrEqual(r);return X.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uR{constructor(t){this.ti=t,this.docs=(function(){return new Ce(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),l=s?s.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Ne.newInvalidDocument(n))}getEntries(t,n){let r=ti();return n.forEach((s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():Ne.newInvalidDocument(s))})),X.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let l=ti();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:y}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Dg(rE(y),r)<=0||(s.has(y.key)||qu(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(t,n,r,s){Et(9500)}ni(t,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new cR(this)}getSize(t){return X.resolve(this.size)}}class cR extends TT{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(r)})),X.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class hR{constructor(t){this.persistence=t,this.ri=new Mr((n=>vs(n)),ju),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new Yg,this.targetCount=0,this.oi=bs._r()}forEachTarget(t,n){return this.ri.forEach(((r,s)=>n(s))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),X.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new bs(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.lr(n),X.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,r){let s=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)})),X.waitFor(l).next((()=>s))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return X.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),X.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach((c=>{l.push(s.markPotentiallyOrphaned(t,c))})),X.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return X.resolve(r)}containsKey(t,n){return X.resolve(this.si.containsKey(n))}}class Kg{constructor(t,n){this._i={},this.overlays={},this.ai=new pi(0),this.ui=!1,this.ui=!0,this.ci=new oR,this.referenceDelegate=t(this),this.li=new hR(this),this.indexManager=new ZI,this.remoteDocumentCache=(function(s){return new uR(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new uT(n),this.Pi=new aR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new lR(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){mt("MemoryPersistence","Starting transaction:",t);const s=new fR(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(t,n){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class fR extends sE{constructor(t){super(),this.currentSequenceNumber=t}}class If{constructor(t){this.persistence=t,this.Ri=new Yg,this.Ai=null}static Vi(t){return new If(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),X.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const s=yt.fromPath(r);return this.mi(t,s).next((l=>{l||n.removeEntry(s,Rt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class tf{constructor(t,n){this.persistence=t,this.fi=new Mr((r=>In(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=ET(this,n)}static Vi(t,n){return new tf(t,n)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return X.forEach(this.fi,((r,s)=>this.wr(t,r,s).next((l=>l?X.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(r++,l.removeEntry(c,Rt.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xh(t.data.value)),n}wr(t,n,r){return X.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class dR{constructor(t){this.serializer=t}k(t,n,r,s){const l=new cf("createOrUpgrade",n);r<1&&s>=1&&((function(g){g.createObjectStore(ku)})(t),(function(g){g.createObjectStore(Du,{keyPath:Tw}),g.createObjectStore(Vi,{keyPath:hv,autoIncrement:!0}).createIndex(cs,fv,{unique:!0}),g.createObjectStore(Uo)})(t),e1(t),(function(g){g.createObjectStore(rs)})(t));let c=X.resolve();return r<3&&s>=3&&(r!==0&&((function(g){g.deleteObjectStore(Lo),g.deleteObjectStore(zo),g.deleteObjectStore(ms)})(t),e1(t)),c=c.next((()=>(function(g){const p=g.store(ms),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return p.put(Hh,y)})(l)))),r<4&&s>=4&&(r!==0&&(c=c.next((()=>(function(g,p){return p.store(Vi).H().next((_=>{g.deleteObjectStore(Vi),g.createObjectStore(Vi,{keyPath:hv,autoIncrement:!0}).createIndex(cs,fv,{unique:!0});const E=p.store(Vi),w=_.map((P=>E.put(P)));return X.waitFor(w)}))})(t,l)))),c=c.next((()=>{(function(g){g.createObjectStore(Bo,{keyPath:xw})})(t)}))),r<5&&s>=5&&(c=c.next((()=>this.gi(l)))),r<6&&s>=6&&(c=c.next((()=>((function(g){g.createObjectStore(Cu)})(t),this.pi(l))))),r<7&&s>=7&&(c=c.next((()=>this.yi(l)))),r<8&&s>=8&&(c=c.next((()=>this.wi(t,l)))),r<9&&s>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&s>=10&&(c=c.next((()=>this.bi(l)))),r<11&&s>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(ff,{keyPath:Vw})})(t),(function(g){g.createObjectStore(df,{keyPath:Mw})})(t)}))),r<12&&s>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(mf,{keyPath:Bw});p.createIndex(ig,kw,{unique:!1}),p.createIndex(dE,jw,{unique:!1})})(t)}))),r<13&&s>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(Fh,{keyPath:Aw});p.createIndex(Dh,Sw),p.createIndex(uE,ww)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(rs)))),r<14&&s>=14&&(c=c.next((()=>this.Di(t,l)))),r<15&&s>=15&&(c=c.next((()=>(function(g){g.createObjectStore(Vg,{keyPath:Nw,autoIncrement:!0}).createIndex(ng,Ow,{unique:!1}),g.createObjectStore(gu,{keyPath:Pw}).createIndex(hE,Uw,{unique:!1}),g.createObjectStore(pu,{keyPath:zw}).createIndex(fE,Lw,{unique:!1})})(t)))),r<16&&s>=16&&(c=c.next((()=>{n.objectStore(gu).clear()})).next((()=>{n.objectStore(pu).clear()}))),r<17&&s>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(Mg,{keyPath:qw})})(t)}))),r<18&&s>=18&&k1()&&(c=c.next((()=>{n.objectStore(gu).clear()})).next((()=>{n.objectStore(pu).clear()}))),c}pi(t){let n=0;return t.store(rs).ee(((r,s)=>{n+=$h(s)})).next((()=>{const r={byteSize:n};return t.store(Cu).put(eg,r)}))}gi(t){const n=t.store(Du),r=t.store(Vi);return n.H().next((s=>X.forEach(s,(l=>{const c=IDBKeyRange.bound([l.userId,ds],[l.userId,l.lastAcknowledgedBatchId]);return r.H(cs,c).next((d=>X.forEach(d,(g=>{St(g.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=os(this.serializer,g);return gT(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const n=t.store(Lo),r=t.store(rs);return t.store(ms).get(Hh).next((s=>{const l=[];return r.ee(((c,d)=>{const g=new ee(c),p=(function(_){return[0,In(_)]})(g);l.push(n.get(p).next((y=>y?X.resolve():(_=>n.put({targetId:0,path:In(_),sequenceNumber:s.highestListenSequenceNumber}))(g))))})).next((()=>X.waitFor(l)))}))}wi(t,n){t.createObjectStore(xu,{keyPath:Cw});const r=n.store(xu),s=new Qg,l=c=>{if(s.add(c)){const d=c.lastSegment(),g=c.popLast();return r.put({collectionId:d,parent:In(g)})}};return n.store(rs).ee({Y:!0},((c,d)=>{const g=new ee(c);return l(g.popLast())})).next((()=>n.store(Uo).ee({Y:!0},(([c,d,g],p)=>{const y=nr(d);return l(y.popLast())}))))}bi(t){const n=t.store(zo);return n.ee(((r,s)=>{const l=hu(s),c=cT(this.serializer,l);return n.put(c)}))}Si(t,n){const r=n.store(rs),s=[];return r.ee(((l,c)=>{const d=n.store(Fh),g=(function(_){return _.document?new yt(ee.fromString(_.document.name).popFirst(5)):_.noDocument?yt.fromSegments(_.noDocument.path):_.unknownDocument?yt.fromSegments(_.unknownDocument.path):Et(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(d.put(p))})).next((()=>X.waitFor(s)))}Di(t,n){const r=n.store(Vi),s=bT(this.serializer),l=new Kg(If.Vi,this.serializer.yt);return r.H().next((c=>{const d=new Map;return c.forEach((g=>{let p=d.get(g.userId)??zt();os(this.serializer,g).keys().forEach((y=>p=p.add(y))),d.set(g.userId,p)})),X.forEach(d,((g,p)=>{const y=new Cn(p),_=Sf.wt(this.serializer,y),E=l.getIndexManager(y),w=wf.wt(y,this.serializer,E,l.referenceDelegate);return new AT(s,w,_,E).recalculateAndSaveOverlaysForDocumentKeys(new rg(n,pi.ce),g).next()}))}))}}function e1(a){a.createObjectStore(Lo,{keyPath:Rw}).createIndex(xg,Dw,{unique:!0}),a.createObjectStore(zo,{keyPath:"targetId"}).createIndex(cE,Iw,{unique:!0}),a.createObjectStore(ms)}const fa="IndexedDbPersistence",km=18e5,jm=5e3,qm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mR="main";class Xg{constructor(t,n,r,s,l,c,d,g,p,y,_=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ci=l,this.window=c,this.document=d,this.Fi=p,this.Mi=y,this.xi=_,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!Xg.v())throw new _t(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eR(this,s),this.Ki=n+mR,this.serializer=new uT(g),this.qi=new _a(this.Ki,this.xi,new dR(this.serializer)),this.ci=new HI,this.li=new JI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bT(this.serializer),this.Pi=new FI,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&xn(fa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(dt.FAILED_PRECONDITION,qm);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new pi(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>bh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((n=>this.isPrimary&&!n?this.Ji(t).next((()=>!1)):!!n&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(wa(t))return mt(fa,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return mt(fa,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return au(t).get(po).next((n=>X.resolve(this.Xi(n))))}Yi(t){return bh(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,km)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=en(n,Bo);return r.H().next((s=>{const l=this.ns(s,km),c=s.filter((d=>l.indexOf(d)===-1));return X.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const n of t)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?X.resolve(!0):au(t).get(po).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,jm)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new _t(dt.FAILED_PRECONDITION,qm);return!1}}return!(!this.networkEnabled||!this.inForeground)||bh(t).H().next((r=>this.ns(r,jm).find((s=>{if(this.clientId!==s.clientId){const l=!this.networkEnabled&&s.networkEnabled,c=!this.inForeground&&s.inForeground,d=this.networkEnabled===s.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&mt(fa,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[ku,Bo],(t=>{const n=new rg(t,pi.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(t,n){return t.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>bh(t).H().next((n=>this.ns(n,km).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,n){return wf.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new WI(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Sf.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,n,r){mt(fa,"Starting transaction:",t);const s=n==="readonly"?"readonly":"readwrite",l=(function(g){return g===18?Gw:g===17?yE:g===16?Hw:g===15?Ng:g===14?pE:g===13?gE:g===12?Fw:g===11?mE:void Et(60245)})(this.xi);let c;return this.qi.runTransaction(t,s,l,(d=>(c=new rg(d,this.ai?this.ai.next():pi.ce),n==="readwrite-primary"?this.ji(c).next((g=>!!g||this.Hi(c))).next((g=>{if(!g)throw xn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new _t(dt.FAILED_PRECONDITION,aE);return r(c)})).next((g=>this.Zi(c).next((()=>g)))):this.Ps(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(t){return au(t).get(po).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,jm)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _t(dt.FAILED_PRECONDITION,qm)}))}Zi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return au(t).put(po,n)}static v(){return _a.v()}Ji(t){const n=au(t);return n.get(po).next((r=>this.Xi(r)?(mt(fa,"Releasing primary lease."),n.delete(po)):X.resolve()))}ts(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(xn(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;B1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const n=this.Ui?.getItem(this.rs(t))!==null;return mt(fa,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return xn(fa,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){xn("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function au(a){return en(a,ku)}function bh(a){return en(a,Bo)}function gR(a,t){let n=a.projectId;return a.isDefaultDatabase||(n+="."+a.database),"firestore/"+t+"/"+n+"/"}class Zg{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=s}static Es(t,n){let r=zt(),s=zt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Zg(t,n.fromCache,r,s)}}class pR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ST{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return B1()?8:oE(Lh())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,s,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new pR;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,r,s){return r.documentReadCount<this.Vs?(Ao()<=Yt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ao()<=Yt.DEBUG&&mt("QueryEngine","Query:",So(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ao()<=Yt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_i(n))):X.resolve())}gs(t,n){if(wv(n))return X.resolve(null);let r=_i(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=cg(n,null,"F"),r=_i(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=zt(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((g=>{const p=this.bs(n,d);return this.Ss(n,p,c,g.readTime)?this.gs(t,cg(n,null,"F")):this.Ds(t,p,n,g)}))))})))))}ps(t,n,r,s){return wv(n)||s.isEqual(Rt.min())?X.resolve(null):this.fs.getDocuments(t,r).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,r,s)?X.resolve(null):(Ao()<=Yt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),So(n)),this.Ds(t,c,n,mw(s,wu)).next((d=>d)))}))}bs(t,n){let r=new ue(UE(t));return n.forEach(((s,l)=>{qu(t,l)&&(r=r.add(l))})),r}Ss(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(t,n,r){return Ao()<=Yt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",So(n)),this.fs.getDocumentsMatchingQuery(t,n,ei.min(),r)}Ds(t,n,r,s){return this.fs.getDocumentsMatchingQuery(t,r,s).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Wg="LocalStore",yR=3e8;class _R{constructor(t,n,r,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new Ce(xt),this.Fs=new Mr((l=>vs(l)),ju),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AT(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function wT(a,t,n,r){return new _R(a,t,n,r)}async function IT(a,t){const n=Vt(a);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((l=>(s=l,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let g=zt();for(const p of s){c.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function vR(a,t){const n=Vt(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,p,y){const _=p.batch,E=_.keys();let w=X.resolve();return E.forEach((P=>{w=w.next((()=>y.getEntry(g,P))).next((z=>{const j=p.docVersions.get(P);St(j!==null,48541),z.version.compareTo(j)<0&&(_.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(g,_)))})(n,r,t,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let g=zt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function RT(a){const t=Vt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function ER(a,t){const n=Vt(a),r=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const E=s.get(_);if(!E)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let w=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(We.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),s=s.insert(_,w),(function(z,j,k){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=yR?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(E,w,y)&&d.push(n.li.updateTargetData(l,w))}));let g=ti(),p=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(TR(l,c,t.documentUpdates).next((y=>{g=y.Bs,p=y.Ls}))),!r.isEqual(Rt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(y)}return X.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(n.vs=s,l)))}function TR(a,t,n){let r=zt(),s=zt();return n.forEach((l=>r=r.add(l))),t.getEntries(a,r).next((l=>{let c=ti();return n.forEach(((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):mt(Wg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:s}}))}function bR(a,t){const n=Vt(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ds),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function AR(a,t){const n=Vt(a);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,t).next((l=>l?(s=l,X.resolve(s)):n.li.allocateTargetId(r).next((c=>(s=new Rr(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function _g(a,t,n){const r=Vt(a),s=r.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!wa(c))throw c;mt(Wg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(s.target)}function n1(a,t,n){const r=Vt(a);let s=Rt.min(),l=zt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,y){const _=Vt(g),E=_.Fs.get(y);return E!==void 0?X.resolve(_.vs.get(E)):_.li.getTargetData(p,y)})(r,c,_i(t)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((g=>{l=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,n?s:Rt.min(),n?l:zt()))).next((d=>(SR(r,uI(t),d),{documents:d,ks:l})))))}function SR(a,t,n){let r=a.Ms.get(t)||Rt.min();n.forEach(((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),a.Ms.set(t,r)}class i1{constructor(){this.activeTargetIds=gI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DT{constructor(){this.vo=new i1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new i1,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wR{Mo(t){}shutdown(){}}const r1="ConnectivityMonitor";class a1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(r1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(r1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ah=null;function vg(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}const Fm="RestConnection",IR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(t,n,r,s,l){const c=vg(),d=this.Qo(t,n.toUriEncodedString());mt(Fm,`Sending RPC '${t}' ${c}:`,d,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,s,l);const{host:p}=new URL(d),y=z1(p);return this.zo(t,d,g,r,y).then((_=>(mt(Fm,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Su(Fm,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",r),_}))}jo(t,n,r,s,l,c){return this.Wo(t,n,r,s,l)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>t[l]=s)),r&&r.headers.forEach(((s,l)=>t[l]=s))}Qo(t,n){const r=IR[t];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class DR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const bn="WebChannelConnection",su=(a,t,n)=>{a.listen(t,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class xo extends RR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!xo.c_){const t=J1();su(t,W1.STAT_EVENT,(n=>{n.stat===Jm.PROXY?mt(bn,"STAT_EVENT: detected buffering proxy"):n.stat===Jm.NOPROXY&&mt(bn,"STAT_EVENT: detected no buffering proxy")})),xo.c_=!0}}zo(t,n,r,s,l){const c=vg();return new Promise(((d,g)=>{const p=new X1;p.setWithCredentials(!0),p.listenOnce(Z1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const _=p.getResponseJson();mt(bn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case wh.TIMEOUT:mt(bn,`RPC '${t}' ${c} timed out`),g(new _t(dt.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const E=p.getStatus();if(mt(bn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w?.error;if(P&&P.status&&P.message){const z=(function(k){const at=k.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(at)>=0?at:dt.UNKNOWN})(P.status);g(new _t(z,P.message))}else g(new _t(dt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new _t(dt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{mt(bn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(s);mt(bn,`RPC '${t}' ${c} sending request:`,s),p.send(n,"POST",y,r,15)}))}T_(t,n,r){const s=vg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=l.join("");mt(bn,`Creating RPC '${t}' stream ${s}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let _=!1,E=!1;const w=new DR({Ho:P=>{E?mt(bn,`Not sending because RPC '${t}' stream ${s} is closed:`,P):(_||(mt(bn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),mt(bn,`RPC '${t}' stream ${s} sending:`,P),y.send(P))},Jo:()=>y.close()});return su(y,lu.EventType.OPEN,(()=>{E||(mt(bn,`RPC '${t}' stream ${s} transport opened.`),w.i_())})),su(y,lu.EventType.CLOSE,(()=>{E||(E=!0,mt(bn,`RPC '${t}' stream ${s} transport closed`),w.o_(),this.E_(y))})),su(y,lu.EventType.ERROR,(P=>{E||(E=!0,Su(bn,`RPC '${t}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),w.o_(new _t(dt.UNAVAILABLE,"The operation could not be completed")))})),su(y,lu.EventType.MESSAGE,(P=>{if(!E){const z=P.data[0];St(!!z,16349);const j=z,k=j?.error||j[0]?.error;if(k){mt(bn,`RPC '${t}' stream ${s} received error:`,k);const at=k.status;let Y=(function(L){const M=Xe[L];if(M!==void 0)return KE(M)})(at),K=k.message;Y===void 0&&(Y=dt.INTERNAL,K="Unknown error status: "+at+" with message "+k.message),E=!0,w.o_(new _t(Y,K)),y.close()}else mt(bn,`RPC '${t}' stream ${s} received:`,z),w.__(z)}})),xo.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $1()}}function CR(a){return new xo(a)}function xR(){return typeof window<"u"?window:null}function Ph(){return typeof document<"u"?document:null}function Rf(a){return new MI(a,!0)}xo.c_=!1;class CT{constructor(t,n,r=1e3,s=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const s1="PersistentStream";class xT{constructor(t,n,r,s,l,c,d,g){this.Ci=t,this.b_=r,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new _t(dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(s1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(mt(s1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VR extends xT{constructor(t,n,r,s,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=PI(this.serializer,t),r=(function(l){if(!("targetChange"in l))return Rt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Mn(c.readTime):Rt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=dg(this.serializer),n.addTarget=(function(l,c){let d;const g=c.target;if(d=Yh(g)?{documents:nT(l,g)}:{query:iT(l,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=WE(l,c.resumeToken);const p=hg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=Qo(l,c.snapshotVersion.toTimestamp());const p=hg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const r=zI(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=dg(this.serializer),n.removeTarget=t,this.K_(n)}}class MR extends xT{constructor(t,n,r,s,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return St(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,St(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){St(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=UI(t.writeResults,t.commitTime),r=Mn(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=dg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>Zh(this.serializer,r)))};this.K_(n)}}class NR{}class OR extends NR{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new _t(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,fg(n,r),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(dt.UNKNOWN,l.toString())}))}jo(t,n,r,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,fg(n,r),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(dt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PR(a,t,n,r){return new OR(a,t,n,r)}class UR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xn(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const As="RemoteStore";class zR{constructor(t,n,r,s,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Is(this)&&(mt(As,"Restarting streams for network reachability change."),await(async function(g){const p=Vt(g);p.Ea.add(4),await Hu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Df(p)})(this))}))})),this.Va=new UR(r,s)}}async function Df(a){if(Is(a))for(const t of a.Ra)await t(!0)}async function Hu(a){for(const t of a.Ra)await t(!1)}function VT(a,t){const n=Vt(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ep(n)?tp(n):Wo(n).O_()&&$g(n,t))}function Jg(a,t){const n=Vt(a),r=Wo(n);n.Ia.delete(t),r.O_()&&MT(n,t),n.Ia.size===0&&(r.O_()?r.L_():Is(n)&&n.Va.set("Unknown"))}function $g(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wo(a).Z_(t)}function MT(a,t){a.da.$e(t),Wo(a).X_(t)}function tp(a){a.da=new DI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Wo(a).start(),a.Va.ua()}function ep(a){return Is(a)&&!Wo(a).x_()&&a.Ia.size>0}function Is(a){return Vt(a).Ea.size===0}function NT(a){a.da=void 0}async function LR(a){a.Va.set("Online")}async function BR(a){a.Ia.forEach(((t,n)=>{$g(a,t)}))}async function kR(a,t){NT(a),ep(a)?(a.Va.ha(t),tp(a)):a.Va.set("Unknown")}async function jR(a,t,n){if(a.Va.set("Online"),t instanceof ZE&&t.state===2&&t.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(a,t)}catch(r){mt(As,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ef(a,r)}else if(t instanceof Nh?a.da.Xe(t):t instanceof XE?a.da.st(t):a.da.tt(t),!n.isEqual(Rt.min()))try{const r=await RT(a.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,p)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),MT(l,g);const _=new Rr(y.target,g,p,y.sequenceNumber);$g(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(a,n)}catch(r){mt(As,"Failed to raise snapshot:",r),await ef(a,r)}}async function ef(a,t,n){if(!wa(t))throw t;a.Ea.add(1),await Hu(a),a.Va.set("Offline"),n||(n=()=>RT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{mt(As,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Df(a)}))}function OT(a,t){return t().catch((n=>ef(a,n,t)))}async function Gu(a){const t=Vt(a),n=Aa(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ds;for(;qR(t);)try{const s=await bR(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,FR(t,s)}catch(s){await ef(t,s)}PT(t)&&UT(t)}function qR(a){return Is(a)&&a.Ta.length<10}function FR(a,t){a.Ta.push(t);const n=Aa(a);n.O_()&&n.Y_&&n.ea(t.mutations)}function PT(a){return Is(a)&&!Aa(a).x_()&&a.Ta.length>0}function UT(a){Aa(a).start()}async function HR(a){Aa(a).ra()}async function GR(a){const t=Aa(a);for(const n of a.Ta)t.ea(n.mutations)}async function QR(a,t,n){const r=a.Ta.shift(),s=jg.from(r,t,n);await OT(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await Gu(a)}async function YR(a,t){t&&Aa(a).Y_&&await(async function(r,s){if((function(c){return wI(c)&&c!==dt.ABORTED})(s.code)){const l=r.Ta.shift();Aa(r).B_(),await OT(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Gu(r)}})(a,t),PT(a)&&UT(a)}async function o1(a,t){const n=Vt(a);n.asyncQueue.verifyOperationInProgress(),mt(As,"RemoteStore received new credentials");const r=Is(n);n.Ea.add(3),await Hu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Df(n)}async function KR(a,t){const n=Vt(a);t?(n.Ea.delete(2),await Df(n)):t||(n.Ea.add(2),await Hu(n),n.Va.set("Unknown"))}function Wo(a){return a.ma||(a.ma=(function(n,r,s){const l=Vt(n);return l.sa(),new VR(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Zo:LR.bind(null,a),Yo:BR.bind(null,a),t_:kR.bind(null,a),J_:jR.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),ep(a)?tp(a):a.Va.set("Unknown")):(await a.ma.stop(),NT(a))}))),a.ma}function Aa(a){return a.fa||(a.fa=(function(n,r,s){const l=Vt(n);return l.sa(),new MR(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:HR.bind(null,a),t_:YR.bind(null,a),ta:GR.bind(null,a),na:QR.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Gu(a)):(await a.fa.stop(),a.Ta.length>0&&(mt(As,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class np{constructor(t,n,r,s,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,l){const c=Date.now()+r,d=new np(t,n,c,s,l);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(a,t){if(xn("AsyncQueue",`${t}: ${a}`),wa(a))return new _t(dt.UNAVAILABLE,`${t}: ${a}`);throw a}class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=uu(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class l1{constructor(){this.ga=new Ce(yt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Yo{constructor(t,n,r,s,l,c,d,g,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,s,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Yo(t,n,Vo.emptySet(n),c,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class XR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class ZR{constructor(){this.queries=u1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Vt(n),l=s.queries;s.queries=u1(),l.forEach(((c,d)=>{for(const g of d.ba)g.onError(r)}))})(this,new _t(dt.ABORTED,"Firestore shutting down"))}}function u1(){return new Mr((a=>PE(a)),vf)}async function zT(a,t){const n=Vt(a);let r=3;const s=t.query;let l=n.queries.get(s);l?!l.Sa()&&t.Da()&&(r=2):(l=new XR,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(s,!0);break;case 1:l.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=ip(c,`Initialization of query '${So(t.query)}' failed`);return void t.onError(d)}n.queries.set(s,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&rp(n)}async function LT(a,t){const n=Vt(a),r=t.query;let s=3;const l=n.queries.get(r);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?s=t.Da()?0:1:!l.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WR(a,t){const n=Vt(a);let r=!1;for(const s of t){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(s)&&(r=!0);c.wa=s}}r&&rp(n)}function JR(a,t,n){const r=Vt(a),s=r.queries.get(t);if(s)for(const l of s.ba)l.onError(n);r.queries.delete(t)}function rp(a){a.Ca.forEach((t=>{t.next()}))}var Eg,c1;(c1=Eg||(Eg={})).Ma="default",c1.Cache="cache";class BT{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Yo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Eg.Cache}}class kT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class $R{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=UE(t),this.tu=new Vo(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new l1,s=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((y,_)=>{const E=s.get(y),w=qu(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;E&&w?E.data.isEqual(w.data)?P!==z&&(r.track({type:3,doc:w}),j=!0):this.su(E,w)||(r.track({type:2,doc:w}),j=!0,(g&&this.eu(w,g)>0||p&&this.eu(w,p)<0)&&(d=!0)):!E&&w?(r.track({type:0,doc:w}),j=!0):E&&!w&&(r.track({type:1,doc:E}),j=!0,(g||p)&&(d=!0)),j&&(w?(c=c.add(w),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(w,P){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:j})}};return z(w)-z(P)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),s=s??!1;const d=n&&!s?this._u():[],g=this.Ya.size===0&&this.current&&!s?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new Yo(this.query,t.tu,l,c,t.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new jT(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new kT(r))})),n}cu(t){this.Za=t.ks,this.Ya=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ap="SyncEngine";class tD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class eD{constructor(t){this.key=t,this.hu=!1}}class nD{constructor(t,n,r,s,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Mr((d=>PE(d)),vf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ce(yt.comparator),this.Au=new Map,this.Vu=new Yg,this.du={},this.mu=new Map,this.fu=bs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iD(a,t,n=!0){const r=YT(a);let s;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await qT(r,t,n,!0),s}async function rD(a,t){const n=YT(a);await qT(n,t,!0,!1)}async function qT(a,t,n,r){const s=await AR(a.localStore,_i(t)),l=s.targetId,c=a.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await aD(a,t,l,c==="current",s.resumeToken)),a.isPrimaryClient&&n&&VT(a.remoteStore,s),d}async function aD(a,t,n,r,s){a.pu=(_,E,w)=>(async function(z,j,k,at){let Y=j.view.ru(k);Y.Ss&&(Y=await n1(z.localStore,j.query,!1).then((({documents:M})=>j.view.ru(M,Y))));const K=at&&at.targetChanges.get(j.targetId),ut=at&&at.targetMismatches.get(j.targetId)!=null,L=j.view.applyChanges(Y,z.isPrimaryClient,K,ut);return f1(z,j.targetId,L.au),L.snapshot})(a,_,E,w);const l=await n1(a.localStore,t,!0),c=new $R(t,l.ks),d=c.ru(l.documents),g=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",s),p=c.applyChanges(d,a.isPrimaryClient,g);f1(a,n,p.au);const y=new tD(t,n,c);return a.Tu.set(t,y),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),p.snapshot}async function sD(a,t,n){const r=Vt(a),s=r.Tu.get(t),l=r.Iu.get(s.targetId);if(l.length>1)return r.Iu.set(s.targetId,l.filter((c=>!vf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _g(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jg(r.remoteStore,s.targetId),Tg(r,s.targetId)})).catch(Ss)):(Tg(r,s.targetId),await _g(r.localStore,s.targetId,!0))}async function oD(a,t){const n=Vt(a),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function lD(a,t,n){const r=KT(a);try{const s=await(function(c,d){const g=Vt(c),p=le.now(),y=d.reduce(((w,P)=>w.add(P.key)),zt());let _,E;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let P=ti(),z=zt();return g.xs.getEntries(w,y).next((j=>{P=j,P.forEach(((k,at)=>{at.isValidDocument()||(z=z.add(k))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,P))).next((j=>{_=j;const k=[];for(const at of d){const Y=AI(at,_.get(at.key).overlayedDocument);Y!=null&&k.push(new Ia(at.key,Y,RE(Y.value.mapValue),Vn.exists(!0)))}return g.mutationQueue.addMutationBatch(w,p,k,d)})).next((j=>{E=j;const k=j.applyToLocalDocumentSet(_,z);return g.documentOverlayCache.saveOverlays(w,j.batchId,k)}))})).then((()=>({batchId:E.batchId,changes:LE(_)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(c,d,g){let p=c.du[c.currentUser.toKey()];p||(p=new Ce(xt)),p=p.insert(d,g),c.du[c.currentUser.toKey()]=p})(r,s.batchId,n),await Qu(r,s.changes),await Gu(r.remoteStore)}catch(s){const l=ip(s,"Failed to persist write");n.reject(l)}}async function FT(a,t){const n=Vt(a);try{const r=await ER(n.localStore,t);t.targetChanges.forEach(((s,l)=>{const c=n.Au.get(l);c&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?St(c.hu,14607):s.removedDocuments.size>0&&(St(c.hu,42227),c.hu=!1))})),await Qu(n,r,t)}catch(r){await Ss(r)}}function h1(a,t,n){const r=Vt(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const g=Vt(c);g.onlineState=d;let p=!1;g.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(d)&&(p=!0)})),p&&rp(g)})(r.eventManager,t),s.length&&r.Pu.J_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function uD(a,t,n){const r=Vt(a);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),l=s&&s.key;if(l){let c=new Ce(yt.comparator);c=c.insert(l,Ne.newNoDocument(l,Rt.min()));const d=zt().add(l),g=new Af(Rt.min(),new Map,new Ce(xt),c,d);await FT(r,g),r.Ru=r.Ru.remove(l),r.Au.delete(t),sp(r)}else await _g(r.localStore,t,!1).then((()=>Tg(r,t,n))).catch(Ss)}async function cD(a,t){const n=Vt(a),r=t.batch.batchId;try{const s=await vR(n.localStore,t);GT(n,r,null),HT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(n,s)}catch(s){await Ss(s)}}async function hD(a,t,n){const r=Vt(a);try{const s=await(function(c,d){const g=Vt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return g.mutationQueue.lookupMutationBatch(p,d).next((_=>(St(_!==null,37113),y=_.keys(),g.mutationQueue.removeMutationBatch(p,_)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>g.localDocuments.getDocuments(p,y)))}))})(r.localStore,t);GT(r,t,n),HT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Qu(r,s)}catch(s){await Ss(s)}}function HT(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function GT(a,t,n){const r=Vt(a);let s=r.du[r.currentUser.toKey()];if(s){const l=s.get(t);l&&(n?l.reject(n):l.resolve(),s=s.remove(t)),r.du[r.currentUser.toKey()]=s}}function Tg(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),n&&a.Pu.yu(r,n);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||QT(a,r)}))}function QT(a,t){a.Eu.delete(t.path.canonicalString());const n=a.Ru.get(t);n!==null&&(Jg(a.remoteStore,n),a.Ru=a.Ru.remove(t),a.Au.delete(n),sp(a))}function f1(a,t,n){for(const r of n)r instanceof kT?(a.Vu.addReference(r.key,t),fD(a,r)):r instanceof jT?(mt(ap,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||QT(a,r.key)):Et(19791,{wu:r})}function fD(a,t){const n=t.key,r=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(r)||(mt(ap,"New document in limbo: "+n),a.Eu.add(r),sp(a))}function sp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new yt(ee.fromString(t)),r=a.fu.next();a.Au.set(r,new eD(n)),a.Ru=a.Ru.insert(n,r),VT(a.remoteStore,new Rr(_i(_f(n.path)),r,"TargetPurposeLimboResolution",pi.ce))}}async function Qu(a,t,n){const r=Vt(a),s=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,g)=>{c.push(r.pu(g,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(p){s.push(p);const y=Zg.Es(g.targetId,p);l.push(y)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(g,p){const y=Vt(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>X.forEach(p,(E=>X.forEach(E.Ts,(w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w))).next((()=>X.forEach(E.Is,(w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))))))}catch(_){if(!wa(_))throw _;mt(Wg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=y.vs.get(E),P=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(P);y.vs=y.vs.insert(E,z)}}})(r.localStore,l))}async function dD(a,t){const n=Vt(a);if(!n.currentUser.isEqual(t)){mt(ap,"User change. New user:",t.toKey());const r=await IT(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new _t(dt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Qu(n,r.Ns)}}function mD(a,t){const n=Vt(a),r=n.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let s=zt();const l=n.Iu.get(t);if(!l)return s;for(const c of l){const d=n.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function YT(a){const t=Vt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uD.bind(null,t),t.Pu.J_=WR.bind(null,t.eventManager),t.Pu.yu=JR.bind(null,t.eventManager),t}function KT(a){const t=Vt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,t),t}class Uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return wT(this.persistence,new ST,t.initialUser,this.serializer)}Cu(t){return new Kg(If.Vi,this.serializer)}Du(t){return new DT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uu.provider={build:()=>new Uu};class gD extends Uu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){St(this.persistence.referenceDelegate instanceof tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vT(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Kg((r=>tf.Vi(r,n)),this.serializer)}}class pD extends Uu{constructor(t,n,r){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await KT(this.xu.syncEngine),await Gu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return wT(this.persistence,new ST,t.initialUser,this.serializer)}Fu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new vT(r,t.asyncQueue,n)}Mu(t,n){const r=new _w(n,this.persistence);return new yw(t.asyncQueue,r)}Cu(t){const n=gR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Xg(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,xR(),Ph(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new DT}}class nf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,this.syncEngine),await KR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ZR})()}createDatastore(t){const n=Rf(t.databaseInfo.databaseId),r=CR(t.databaseInfo);return PR(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,l,c,d){return new zR(r,s,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>h1(this.syncEngine,n,0)),(function(){return a1.v()?new a1:new wR})())}createSyncEngine(t,n){return(function(s,l,c,d,g,p,y){const _=new nD(s,l,c,d,g,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Vt(n);mt(As,"RemoteStore shutting down."),r.Ea.add(5),await Hu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nf.provider={build:()=>new nf};class XT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Sa="FirestoreClient";class yD{constructor(t,n,r,s,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=Ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{mt(Sa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(mt(Sa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ip(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Hm(a,t){a.asyncQueue.verifyOperationInProgress(),mt(Sa,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let r=n.initialUser;a.setCredentialChangeListener((async s=>{r.isEqual(s)||(await IT(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function d1(a,t){a.asyncQueue.verifyOperationInProgress();const n=await _D(a);mt(Sa,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((r=>o1(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,s)=>o1(t.remoteStore,s))),a._onlineComponents=t}async function _D(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){mt(Sa,"Using user provided OfflineComponentProvider");try{await Hm(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===dt.FAILED_PRECONDITION||s.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Su("Error using user provided cache. Falling back to memory cache: "+n),await Hm(a,new Uu)}}else mt(Sa,"Using default OfflineComponentProvider"),await Hm(a,new gD(void 0));return a._offlineComponents}async function ZT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(mt(Sa,"Using user provided OnlineComponentProvider"),await d1(a,a._uninitializedComponentsProvider._online)):(mt(Sa,"Using default OnlineComponentProvider"),await d1(a,new nf))),a._onlineComponents}function vD(a){return ZT(a).then((t=>t.syncEngine))}async function WT(a){const t=await ZT(a),n=t.eventManager;return n.onListen=iD.bind(null,t.syncEngine),n.onUnlisten=sD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=rD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oD.bind(null,t.syncEngine),n}function ED(a,t,n={}){const r=new rr;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const y=new XT({next:E=>{y.Nu(),c.enqueueAndForget((()=>LT(l,_)));const w=E.docs.has(d);!w&&E.fromCache?p.reject(new _t(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&g&&g.source==="server"?p.reject(new _t(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new BT(_f(d.path),y,{includeMetadataChanges:!0,Ka:!0});return zT(l,_)})(await WT(a),a.asyncQueue,t,n,r))),r.promise}function TD(a,t,n={}){const r=new rr;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const y=new XT({next:E=>{y.Nu(),c.enqueueAndForget((()=>LT(l,_))),E.fromCache&&g.source==="server"?p.reject(new _t(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new BT(d,y,{includeMetadataChanges:!0,Ka:!0});return zT(l,_)})(await WT(a),a.asyncQueue,t,n,r))),r.promise}function bD(a,t){const n=new rr;return a.asyncQueue.enqueueAndForget((async()=>lD(await vD(a),t,n))),n.promise}function JT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const AD="ComponentProvider",m1=new Map;function SD(a,t,n,r,s){return new Yw(a,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,JT(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const wD="firestore.googleapis.com",g1=!0;class p1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wD,this.ssl=g1}else this.host=t.host,this.ssl=t.ssl??g1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_T)throw new _t(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _t(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _t(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _t(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class op{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rw;switch(r.type){case"firstParty":return new ow(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=m1.get(n);r&&(mt(AD,"Removing Datastore"),m1.delete(n),r.terminate())})(this),Promise.resolve()}}class Cf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Cf(this.firestore,t,this._query)}}class tn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Bu(n,tn._jsonSchema))return new tn(t,r||null,new yt(ee.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Ze("string",tn._jsonSchemaVersion),referencePath:Ze("string")};class va extends Cf{constructor(t,n,r){super(t,n,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new yt(t))}withConverter(t){return new va(this.firestore,t,this._path)}}function y1(a,t,...n){if(a=Tu(a),nE("collection","path",t),a instanceof op){const r=ee.fromString(t,...n);return sv(r),new va(a,null,r)}{if(!(a instanceof tn||a instanceof va))throw new _t(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...n));return sv(r),new va(a.firestore,null,r)}}function Yu(a,t,...n){if(a=Tu(a),arguments.length===1&&(t=Ig.newId()),nE("doc","path",t),a instanceof op){const r=ee.fromString(t,...n);return av(r),new tn(a,null,new yt(r))}{if(!(a instanceof tn||a instanceof va))throw new _t(dt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...n));return av(r),new tn(a.firestore,a instanceof va?a.converter:null,new yt(r))}}const _1="AsyncQueue";class v1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CT(this,"async_queue_retry"),this._c=()=>{const r=Ph();r&&mt(_1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wa(t))throw t;mt(_1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,xn("INTERNAL UNHANDLED ERROR: ",E1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=np.createAndSchedule(this,t,n,r,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Et(47125,{Pc:E1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function E1(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Jo extends op{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new v1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new v1(t),this._firestoreClient=void 0,await t}}}function ID(a,t,n){n||(n=Gh);const r=LS(a,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),l=r.getOptions(n);if(Bh(l,t))return s;throw new _t(dt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new _t(dt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_T)throw new _t(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&z1(t.host)&&UA(t.host),r.initialize({options:t,instanceIdentifier:n})}function lp(a){if(a._terminated)throw new _t(dt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||RD(a),a._firestoreClient}function RD(a){const t=a._freezeSettings(),n=SD(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new yD(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(a._componentsProvider))}class gi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gi(We.fromBase64String(t))}catch(n){throw new _t(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new gi(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bu(t,gi._jsonSchema))return gi.fromBase64String(t.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Ze("string",gi._jsonSchemaVersion),bytes:Ze("string")};class $T{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class tb{constructor(t){this._methodName=t}}class ar{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(t){if(Bu(t,ar._jsonSchema))return new ar(t.latitude,t.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Ze("string",ar._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bu(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new _t(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ze("string",Mi._jsonSchemaVersion),vectorValues:Ze("object")};const DD=/^__.*__$/;class CD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ia(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zo(t,this.data,n,this.fieldTransforms)}}function eb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:a})}}class up{constructor(t,n,r,s,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return rf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(eb(this.dataSource)&&DD.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class xD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Rf(t)}createContext(t,n,r,s=!1){return new up({dataSource:t,methodName:n,targetDoc:r,path:xe.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nb(a){const t=a._freezeSettings(),n=Rf(a._databaseId);return new xD(a._databaseId,!!t.ignoreUndefinedProperties,n)}function ib(a,t,n,r,s,l={}){const c=a.createContext(l.merge||l.mergeFields?2:0,t,n,s);ob("Data must be an object, but it was:",c,r);const d=ab(r,c);let g,p;if(l.merge)g=new yi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=cp(t,_,n);if(!c.contains(E))throw new _t(dt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);ND(y,E)||y.push(E)}g=new yi(y),p=c.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,p=c.fieldTransforms;return new CD(new Fn(d),g,p)}function rb(a,t){if(sb(a=Tu(a)))return ob("Unsupported field value:",t,a),ab(a,t);if(a instanceof tb)return(function(r,s){if(!eb(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,s){const l=[];let c=0;for(const d of r){let g=rb(d,s.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(a,t)}return(function(r,s){if((r=Tu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=le.fromDate(r);return{timestampValue:Qo(s.serializer,l)}}if(r instanceof le){const l=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qo(s.serializer,l)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:WE(s.serializer,r._byteString)};if(r instanceof tn){const l=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mi)return(function(c,d){const g=c instanceof Mi?c.toArray():c;return{mapValue:{fields:{[Pg]:{stringValue:Ug},[ko]:{arrayValue:{values:g.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return Bg(d.serializer,y)}))}}}}}})(r,s);if(lT(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Rg(r)}`)})(a,t)}function ab(a,t){const n={};return _E(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(a,((r,s)=>{const l=rb(s,t.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function sb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof le||a instanceof ar||a instanceof gi||a instanceof tn||a instanceof tb||a instanceof Mi||lT(a))}function ob(a,t,n){if(!sb(n)||!iE(n)){const r=Rg(n);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function cp(a,t,n){if((t=Tu(t))instanceof $T)return t._internalPath;if(typeof t=="string")return MD(a,t);throw rf("Field path arguments must be of type string or ",a,!1,void 0,n)}const VD=new RegExp("[~\\*/\\[\\]]");function MD(a,t,n){if(t.search(VD)>=0)throw rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new $T(...t.split("."))._internalPath}catch{throw rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function rf(a,t,n,r,s){const l=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${r}`),c&&(g+=` in document ${s}`),g+=")"),new _t(dt.INVALID_ARGUMENT,d+a+g)}function ND(a,t){return a.some((n=>n.isEqual(t)))}class OD{convertValue(t,n="none"){switch(Ta(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ws(t,((s,l)=>{r[s]=this.convertValue(l,n)})),r}convertVectorValue(t){const n=t.fields?.[ko].arrayValue?.values?.map((r=>De(r.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new ar(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=gf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(t));default:return null}}convertTimestamp(t){const n=Cr(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);St(oT(r),9688,{name:t});const s=new _s(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return s.isEqual(n)||xn(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class lb extends OD{constructor(t){super(),this.firestore=t}convertBytes(t){return new gi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}const T1="@firebase/firestore",b1="4.10.0";class ub{constructor(t,n,r,s,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(cp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends ub{data(){return super.data()}}function UD(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new _t(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function cb(a,t,n){let r;return r=a?a.toFirestore(t):t,r}class zD{constructor(t){let n;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),n=t.tabManager):(n=kD(void 0),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function LD(a){return new zD(a)}class BD{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=nf.provider,this._offlineComponentProvider={build:n=>new pD(n,t?.cacheSizeBytes,this.forceOwnership)}}}function kD(a){return new BD(a?.forceOwnership)}class fu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ps extends ub{constructor(t,n,r,s,l,c){super(t,n,r,s,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:Ze("string",ps._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Uh extends ps{data(t={}){return super.data(t)}}class Mo{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new fu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Uh(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const g=new Uh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new Uh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:jD(d.type),doc:g,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jD(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Ze("string",Mo._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};function qD(a){a=Ea(a,tn);const t=Ea(a.firestore,Jo),n=lp(t);return ED(n,a._key).then((r=>QD(t,a,r)))}function FD(a){a=Ea(a,Cf);const t=Ea(a.firestore,Jo),n=lp(t),r=new lb(t);return UD(a._query),TD(n,a._query).then((s=>new Mo(t,r,a,s)))}function HD(a,t,n){a=Ea(a,tn);const r=Ea(a.firestore,Jo),s=cb(a.converter,t),l=nb(r);return hp(r,[ib(l,"setDoc",a._key,s,a.converter!==null,n).toMutation(a._key,Vn.none())])}function hb(a){return hp(Ea(a.firestore,Jo),[new bf(a._key,Vn.none())])}function GD(a,t){const n=Ea(a.firestore,Jo),r=Yu(a),s=cb(a.converter,t),l=nb(a.firestore);return hp(n,[ib(l,"addDoc",r._key,s,a.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then((()=>r))}function hp(a,t){const n=lp(a);return bD(n,t)}function QD(a,t,n){const r=n.docs.get(t._key),s=new lb(a);return new ps(a,s,t._key,r,new fu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){nw(qS),kh(new bu("firestore",((r,{instanceIdentifier:s,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Jo(new aw(r.getProvider("auth-internal")),new lw(c,r.getProvider("app-check-internal")),Kw(c,s),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Co(T1,b1,t),Co(T1,b1,"esm2020")})();const fb={apiKey:"AIzaSyDm53ojMBFXyUdQyf_-p2y4vr6iF7hZkNA",authDomain:"gastosabuelo.firebaseapp.com",projectId:"gastosabuelo",storageBucket:"gastosabuelo.firebasestorage.app",messagingSenderId:"856217062498",appId:"1:856217062498:web:d80e9d2af5516d4bcf153b",measurementId:"G-9E2TC7DBE4"};fb.projectId||console.error("Firebase Auth Config Missing! Check your .env file or GitHub Secrets.");const YD=FS(fb),No=ID(YD,{localCache:LD({tabManager:void 0})});function KD(a,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(r){if(r!=="default"&&!(r in a)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(a,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}}))})),Object.freeze(a)}function db(a,t){return new Promise((function(n,r){let s;return XD(a).then((function(l){try{return s=l,n(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(c){return r(c)}}),r)}))}const XD=a=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(({target:{result:s}})=>{const l=new DataView(s);let c=0;if(l.getUint16(c)!==65496)return n("not a valid JPEG");for(c+=2;;){const d=l.getUint16(c);if(d===65498)break;const g=l.getUint16(c+2);if(d===65505&&l.getUint32(c+4)===1165519206){const p=c+10;let y;switch(l.getUint16(p)){case 18761:y=!0;break;case 19789:y=!1;break;default:return n("TIFF header contains invalid endian")}if(l.getUint16(p+2,y)!==42)return n("TIFF header contains invalid version");const _=l.getUint32(p+4,y),E=p+_+2+12*l.getUint16(p+_,y);for(let w=p+_+2;w<E;w+=12)if(l.getUint16(w,y)==274){if(l.getUint16(w+2,y)!==3)return n("Orientation data type is invalid");if(l.getUint32(w+4,y)!==1)return n("Orientation data count is invalid");l.setUint16(w+8,1,y);break}return t(s.slice(c,c+2+g))}c+=2+g}return t(new Blob)})),r.readAsArrayBuffer(a)}));var af={},ZD={get exports(){return af},set exports(a){af=a}};(function(a){var t,n,r={};ZD.exports=r,r.parse=function(s,l){for(var c=r.bin.readUshort,d=r.bin.readUint,g=0,p={},y=new Uint8Array(s),_=y.length-4;d(y,_)!=101010256;)_--;g=_,g+=4;var E=c(y,g+=4);c(y,g+=2);var w=d(y,g+=2),P=d(y,g+=4);g+=4,g=P;for(var z=0;z<E;z++){d(y,g),g+=4,g+=4,g+=4,d(y,g+=4),w=d(y,g+=4);var j=d(y,g+=4),k=c(y,g+=4),at=c(y,g+2),Y=c(y,g+4);g+=6;var K=d(y,g+=8);g+=4,g+=k+at+Y,r._readLocal(y,K,p,w,j,l)}return p},r._readLocal=function(s,l,c,d,g,p){var y=r.bin.readUshort,_=r.bin.readUint;_(s,l),y(s,l+=4),y(s,l+=2);var E=y(s,l+=2);_(s,l+=2),_(s,l+=4),l+=4;var w=y(s,l+=8),P=y(s,l+=2);l+=2;var z=r.bin.readUTF8(s,l,w);if(l+=w,l+=P,p)c[z]={size:g,csize:d};else{var j=new Uint8Array(s.buffer,l);if(E==0)c[z]=new Uint8Array(j.buffer.slice(l,l+d));else{if(E!=8)throw"unknown compression method: "+E;var k=new Uint8Array(g);r.inflateRaw(j,k),c[z]=k}}},r.inflateRaw=function(s,l){return r.F.inflate(s,l)},r.inflate=function(s,l){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),l)},r.deflate=function(s,l){l==null&&(l={level:6});var c=0,d=new Uint8Array(50+Math.floor(1.1*s.length));d[c]=120,d[c+1]=156,c+=2,c=r.F.deflateRaw(s,d,c,l.level);var g=r.adler(s,0,s.length);return d[c+0]=g>>>24&255,d[c+1]=g>>>16&255,d[c+2]=g>>>8&255,d[c+3]=g>>>0&255,new Uint8Array(d.buffer,0,c+4)},r.deflateRaw=function(s,l){l==null&&(l={level:6});var c=new Uint8Array(50+Math.floor(1.1*s.length)),d=r.F.deflateRaw(s,c,d,l.level);return new Uint8Array(c.buffer,0,d)},r.encode=function(s,l){l==null&&(l=!1);var c=0,d=r.bin.writeUint,g=r.bin.writeUshort,p={};for(var y in s){var _=!r._noNeed(y)&&!l,E=s[y],w=r.crc.crc(E,0,E.length);p[y]={cpr:_,usize:E.length,crc:w,file:_?r.deflateRaw(E):E}}for(var y in p)c+=p[y].file.length+30+46+2*r.bin.sizeUTF8(y);c+=22;var P=new Uint8Array(c),z=0,j=[];for(var y in p){var k=p[y];j.push(z),z=r._writeHeader(P,z,y,k,0)}var at=0,Y=z;for(var y in p)k=p[y],j.push(z),z=r._writeHeader(P,z,y,k,1,j[at++]);var K=z-Y;return d(P,z,101010256),z+=4,g(P,z+=4,at),g(P,z+=2,at),d(P,z+=2,K),d(P,z+=4,Y),z+=4,z+=2,P.buffer},r._noNeed=function(s){var l=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},r._writeHeader=function(s,l,c,d,g,p){var y=r.bin.writeUint,_=r.bin.writeUshort,E=d.file;return y(s,l,g==0?67324752:33639248),l+=4,g==1&&(l+=2),_(s,l,20),_(s,l+=2,0),_(s,l+=2,d.cpr?8:0),y(s,l+=2,0),y(s,l+=4,d.crc),y(s,l+=4,E.length),y(s,l+=4,d.usize),_(s,l+=4,r.bin.sizeUTF8(c)),_(s,l+=2,0),l+=2,g==1&&(l+=2,l+=2,y(s,l+=6,p),l+=4),l+=r.bin.writeUTF8(s,l,c),g==0&&(s.set(E,l),l+=E.length),l},r.crc={table:(function(){for(var s=new Uint32Array(256),l=0;l<256;l++){for(var c=l,d=0;d<8;d++)1&c?c=3988292384^c>>>1:c>>>=1;s[l]=c}return s})(),update:function(s,l,c,d){for(var g=0;g<d;g++)s=r.crc.table[255&(s^l[c+g])]^s>>>8;return s},crc:function(s,l,c){return 4294967295^r.crc.update(4294967295,s,l,c)}},r.adler=function(s,l,c){for(var d=1,g=0,p=l,y=l+c;p<y;){for(var _=Math.min(p+5552,y);p<_;)g+=d+=s[p++];d%=65521,g%=65521}return g<<16|d},r.bin={readUshort:function(s,l){return s[l]|s[l+1]<<8},writeUshort:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255},readUint:function(s,l){return 16777216*s[l+3]+(s[l+2]<<16|s[l+1]<<8|s[l])},writeUint:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255,s[l+2]=c>>16&255,s[l+3]=c>>24&255},readASCII:function(s,l,c){for(var d="",g=0;g<c;g++)d+=String.fromCharCode(s[l+g]);return d},writeASCII:function(s,l,c){for(var d=0;d<c.length;d++)s[l+d]=c.charCodeAt(d)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,l,c){for(var d,g="",p=0;p<c;p++)g+="%"+r.bin.pad(s[l+p].toString(16));try{d=decodeURIComponent(g)}catch{return r.bin.readASCII(s,l,c)}return d},writeUTF8:function(s,l,c){for(var d=c.length,g=0,p=0;p<d;p++){var y=c.charCodeAt(p);if((4294967168&y)==0)s[l+g]=y,g++;else if((4294965248&y)==0)s[l+g]=192|y>>6,s[l+g+1]=128|y>>0&63,g+=2;else if((4294901760&y)==0)s[l+g]=224|y>>12,s[l+g+1]=128|y>>6&63,s[l+g+2]=128|y>>0&63,g+=3;else{if((4292870144&y)!=0)throw"e";s[l+g]=240|y>>18,s[l+g+1]=128|y>>12&63,s[l+g+2]=128|y>>6&63,s[l+g+3]=128|y>>0&63,g+=4}}return g},sizeUTF8:function(s){for(var l=s.length,c=0,d=0;d<l;d++){var g=s.charCodeAt(d);if((4294967168&g)==0)c++;else if((4294965248&g)==0)c+=2;else if((4294901760&g)==0)c+=3;else{if((4292870144&g)!=0)throw"e";c+=4}}return c}},r.F={},r.F.deflateRaw=function(s,l,c,d){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],p=r.F.U,y=r.F._goodIndex;r.F._hash;var _=r.F._putsE,E=0,w=c<<3,P=0,z=s.length;if(d==0){for(;E<z;)_(l,w,E+(D=Math.min(65535,z-E))==z?1:0),w=r.F._copyExact(s,E,D,l,w+8),E+=D;return w>>>3}var j=p.lits,k=p.strt,at=p.prev,Y=0,K=0,ut=0,L=0,M=0,b=0;for(z>2&&(k[b=r.F._hash(s,0)]=0),E=0;E<z;E++){if(M=b,E+1<z-2){b=r.F._hash(s,E+1);var A=E+1&32767;at[A]=k[b],k[b]=A}if(P<=E){(Y>14e3||K>26697)&&z-E>100&&(P<E&&(j[Y]=E-P,Y+=2,P=E),w=r.F._writeBlock(E==z-1||P==z?1:0,j,Y,L,s,ut,E-ut,l,w),Y=K=L=0,ut=E);var C=0;E<z-2&&(C=r.F._bestMatch(s,E,at,M,Math.min(g[2],z-E),g[3]));var D=C>>>16,N=65535&C;if(C!=0){N=65535&C;var I=y(D=C>>>16,p.of0);p.lhst[257+I]++;var q=y(N,p.df0);p.dhst[q]++,L+=p.exb[I]+p.dxb[q],j[Y]=D<<23|E-P,j[Y+1]=N<<16|I<<8|q,Y+=2,P=E+D}else p.lhst[s[E]]++;K++}}for(ut==E&&s.length!=0||(P<E&&(j[Y]=E-P,Y+=2,P=E),w=r.F._writeBlock(1,j,Y,L,s,ut,E-ut,l,w),Y=0,K=0,Y=K=L=0,ut=E);(7&w)!=0;)w++;return w>>>3},r.F._bestMatch=function(s,l,c,d,g,p){var y=32767&l,_=c[y],E=y-_+32768&32767;if(_==y||d!=r.F._hash(s,l-E))return 0;for(var w=0,P=0,z=Math.min(32767,l);E<=z&&--p!=0&&_!=y;){if(w==0||s[l+w]==s[l+w-E]){var j=r.F._howLong(s,l,E);if(j>w){if(P=E,(w=j)>=g)break;E+2<j&&(j=E+2);for(var k=0,at=0;at<j-2;at++){var Y=l-E+at+32768&32767,K=Y-c[Y]+32768&32767;K>k&&(k=K,_=Y)}}}E+=(y=_)-(_=c[y])+32768&32767}return w<<16|P},r.F._howLong=function(s,l,c){if(s[l]!=s[l-c]||s[l+1]!=s[l+1-c]||s[l+2]!=s[l+2-c])return 0;var d=l,g=Math.min(s.length,l+258);for(l+=3;l<g&&s[l]==s[l-c];)l++;return l-d},r.F._hash=function(s,l){return(s[l]<<8|s[l+1])+(s[l+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,l,c,d,g,p,y,_,E){var w,P,z,j,k,at,Y,K,ut,L=r.F.U,M=r.F._putsF,b=r.F._putsE;L.lhst[256]++,P=(w=r.F.getTrees())[0],z=w[1],j=w[2],k=w[3],at=w[4],Y=w[5],K=w[6],ut=w[7];var A=32+((E+3&7)==0?0:8-(E+3&7))+(y<<3),C=d+r.F.contSize(L.fltree,L.lhst)+r.F.contSize(L.fdtree,L.dhst),D=d+r.F.contSize(L.ltree,L.lhst)+r.F.contSize(L.dtree,L.dhst);D+=14+3*Y+r.F.contSize(L.itree,L.ihst)+(2*L.ihst[16]+3*L.ihst[17]+7*L.ihst[18]);for(var N=0;N<286;N++)L.lhst[N]=0;for(N=0;N<30;N++)L.dhst[N]=0;for(N=0;N<19;N++)L.ihst[N]=0;var I=A<C&&A<D?0:C<D?1:2;if(M(_,E,s),M(_,E+1,I),E+=3,I==0){for(;(7&E)!=0;)E++;E=r.F._copyExact(g,p,y,_,E)}else{var q,J;if(I==1&&(q=L.fltree,J=L.fdtree),I==2){r.F.makeCodes(L.ltree,P),r.F.revCodes(L.ltree,P),r.F.makeCodes(L.dtree,z),r.F.revCodes(L.dtree,z),r.F.makeCodes(L.itree,j),r.F.revCodes(L.itree,j),q=L.ltree,J=L.dtree,b(_,E,k-257),b(_,E+=5,at-1),b(_,E+=5,Y-4),E+=4;for(var R=0;R<Y;R++)b(_,E+3*R,L.itree[1+(L.ordr[R]<<1)]);E+=3*Y,E=r.F._codeTiny(K,L.itree,_,E),E=r.F._codeTiny(ut,L.itree,_,E)}for(var x=p,nt=0;nt<c;nt+=2){for(var Q=l[nt],rt=Q>>>23,U=x+(8388607&Q);x<U;)E=r.F._writeLit(g[x++],q,_,E);if(rt!=0){var H=l[nt+1],ot=H>>16,et=H>>8&255,Z=255&H;b(_,E=r.F._writeLit(257+et,q,_,E),rt-L.of0[et]),E+=L.exb[et],M(_,E=r.F._writeLit(Z,J,_,E),ot-L.df0[Z]),E+=L.dxb[Z],x+=rt}}E=r.F._writeLit(256,q,_,E)}return E},r.F._copyExact=function(s,l,c,d,g){var p=g>>>3;return d[p]=c,d[p+1]=c>>>8,d[p+2]=255-d[p],d[p+3]=255-d[p+1],p+=4,d.set(new Uint8Array(s.buffer,l,c),p),g+(c+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,l=r.F._hufTree(s.lhst,s.ltree,15),c=r.F._hufTree(s.dhst,s.dtree,15),d=[],g=r.F._lenCodes(s.ltree,d),p=[],y=r.F._lenCodes(s.dtree,p),_=0;_<d.length;_+=2)s.ihst[d[_]]++;for(_=0;_<p.length;_+=2)s.ihst[p[_]]++;for(var E=r.F._hufTree(s.ihst,s.itree,7),w=19;w>4&&s.itree[1+(s.ordr[w-1]<<1)]==0;)w--;return[l,c,E,g,y,w,d,p]},r.F.getSecond=function(s){for(var l=[],c=0;c<s.length;c+=2)l.push(s[c+1]);return l},r.F.nonZero=function(s){for(var l="",c=0;c<s.length;c+=2)s[c+1]!=0&&(l+=(c>>1)+",");return l},r.F.contSize=function(s,l){for(var c=0,d=0;d<l.length;d++)c+=l[d]*s[1+(d<<1)];return c},r.F._codeTiny=function(s,l,c,d){for(var g=0;g<s.length;g+=2){var p=s[g],y=s[g+1];d=r.F._writeLit(p,l,c,d);var _=p==16?2:p==17?3:7;p>15&&(r.F._putsE(c,d,y,_),d+=_)}return d},r.F._lenCodes=function(s,l){for(var c=s.length;c!=2&&s[c-1]==0;)c-=2;for(var d=0;d<c;d+=2){var g=s[d+1],p=d+3<c?s[d+3]:-1,y=d+5<c?s[d+5]:-1,_=d==0?-1:s[d-1];if(g==0&&p==g&&y==g){for(var E=d+5;E+2<c&&s[E+2]==g;)E+=2;(w=Math.min(E+1-d>>>1,138))<11?l.push(17,w-3):l.push(18,w-11),d+=2*w-2}else if(g==_&&p==g&&y==g){for(E=d+5;E+2<c&&s[E+2]==g;)E+=2;var w=Math.min(E+1-d>>>1,6);l.push(16,w-3),d+=2*w-2}else l.push(g,0)}return c>>>1},r.F._hufTree=function(s,l,c){var d=[],g=s.length,p=l.length,y=0;for(y=0;y<p;y+=2)l[y]=0,l[y+1]=0;for(y=0;y<g;y++)s[y]!=0&&d.push({lit:y,f:s[y]});var _=d.length,E=d.slice(0);if(_==0)return 0;if(_==1){var w=d[0].lit;return E=w==0?1:0,l[1+(w<<1)]=1,l[1+(E<<1)]=1,1}d.sort((function(K,ut){return K.f-ut.f}));var P=d[0],z=d[1],j=0,k=1,at=2;for(d[0]={lit:-1,f:P.f+z.f,l:P,r:z,d:0};k!=_-1;)P=j!=k&&(at==_||d[j].f<d[at].f)?d[j++]:d[at++],z=j!=k&&(at==_||d[j].f<d[at].f)?d[j++]:d[at++],d[k++]={lit:-1,f:P.f+z.f,l:P,r:z};var Y=r.F.setDepth(d[k-1],0);for(Y>c&&(r.F.restrictDepth(E,c,Y),Y=c),y=0;y<_;y++)l[1+(E[y].lit<<1)]=E[y].d;return Y},r.F.setDepth=function(s,l){return s.lit!=-1?(s.d=l,l):Math.max(r.F.setDepth(s.l,l+1),r.F.setDepth(s.r,l+1))},r.F.restrictDepth=function(s,l,c){var d=0,g=1<<c-l,p=0;for(s.sort((function(_,E){return E.d==_.d?_.f-E.f:E.d-_.d})),d=0;d<s.length&&s[d].d>l;d++){var y=s[d].d;s[d].d=l,p+=g-(1<<c-y)}for(p>>>=c-l;p>0;)(y=s[d].d)<l?(s[d].d++,p-=1<<l-y-1):d++;for(;d>=0;d--)s[d].d==l&&p<0&&(s[d].d--,p++);p!=0&&console.log("debt left")},r.F._goodIndex=function(s,l){var c=0;return l[16|c]<=s&&(c|=16),l[8|c]<=s&&(c|=8),l[4|c]<=s&&(c|=4),l[2|c]<=s&&(c|=2),l[1|c]<=s&&(c|=1),c},r.F._writeLit=function(s,l,c,d){return r.F._putsF(c,d,l[s<<1]),d+l[1+(s<<1)]},r.F.inflate=function(s,l){var c=Uint8Array;if(s[0]==3&&s[1]==0)return l||new c(0);var d=r.F,g=d._bitsF,p=d._bitsE,y=d._decodeTiny,_=d.makeCodes,E=d.codes2map,w=d._get17,P=d.U,z=l==null;z&&(l=new c(s.length>>>2<<3));for(var j,k,at=0,Y=0,K=0,ut=0,L=0,M=0,b=0,A=0,C=0;at==0;)if(at=g(s,C,1),Y=g(s,C+1,2),C+=3,Y!=0){if(z&&(l=r.F._check(l,A+(1<<17))),Y==1&&(j=P.flmap,k=P.fdmap,M=511,b=31),Y==2){K=p(s,C,5)+257,ut=p(s,C+5,5)+1,L=p(s,C+10,4)+4,C+=14;for(var D=0;D<38;D+=2)P.itree[D]=0,P.itree[D+1]=0;var N=1;for(D=0;D<L;D++){var I=p(s,C+3*D,3);P.itree[1+(P.ordr[D]<<1)]=I,I>N&&(N=I)}C+=3*L,_(P.itree,N),E(P.itree,N,P.imap),j=P.lmap,k=P.dmap,C=y(P.imap,(1<<N)-1,K+ut,s,C,P.ttree);var q=d._copyOut(P.ttree,0,K,P.ltree);M=(1<<q)-1;var J=d._copyOut(P.ttree,K,ut,P.dtree);b=(1<<J)-1,_(P.ltree,q),E(P.ltree,q,j),_(P.dtree,J),E(P.dtree,J,k)}for(;;){var R=j[w(s,C)&M];C+=15&R;var x=R>>>4;if(!(x>>>8))l[A++]=x;else{if(x==256)break;var nt=A+x-254;if(x>264){var Q=P.ldef[x-257];nt=A+(Q>>>3)+p(s,C,7&Q),C+=7&Q}var rt=k[w(s,C)&b];C+=15&rt;var U=rt>>>4,H=P.ddef[U],ot=(H>>>4)+g(s,C,15&H);for(C+=15&H,z&&(l=r.F._check(l,A+(1<<17)));A<nt;)l[A]=l[A++-ot],l[A]=l[A++-ot],l[A]=l[A++-ot],l[A]=l[A++-ot];A=nt}}}else{(7&C)!=0&&(C+=8-(7&C));var et=4+(C>>>3),Z=s[et-4]|s[et-3]<<8;z&&(l=r.F._check(l,A+Z)),l.set(new c(s.buffer,s.byteOffset+et,Z),A),C=et+Z<<3,A+=Z}return l.length==A?l:l.slice(0,A)},r.F._check=function(s,l){var c=s.length;if(l<=c)return s;var d=new Uint8Array(Math.max(c<<1,l));return d.set(s,0),d},r.F._decodeTiny=function(s,l,c,d,g,p){for(var y=r.F._bitsE,_=r.F._get17,E=0;E<c;){var w=s[_(d,g)&l];g+=15&w;var P=w>>>4;if(P<=15)p[E]=P,E++;else{var z=0,j=0;P==16?(j=3+y(d,g,2),g+=2,z=p[E-1]):P==17?(j=3+y(d,g,3),g+=3):P==18&&(j=11+y(d,g,7),g+=7);for(var k=E+j;E<k;)p[E]=z,E++}}return g},r.F._copyOut=function(s,l,c,d){for(var g=0,p=0,y=d.length>>>1;p<c;){var _=s[p+l];d[p<<1]=0,d[1+(p<<1)]=_,_>g&&(g=_),p++}for(;p<y;)d[p<<1]=0,d[1+(p<<1)]=0,p++;return g},r.F.makeCodes=function(s,l){for(var c,d,g,p,y=r.F.U,_=s.length,E=y.bl_count,w=0;w<=l;w++)E[w]=0;for(w=1;w<_;w+=2)E[s[w]]++;var P=y.next_code;for(c=0,E[0]=0,d=1;d<=l;d++)c=c+E[d-1]<<1,P[d]=c;for(g=0;g<_;g+=2)(p=s[g+1])!=0&&(s[g]=P[p],P[p]++)},r.F.codes2map=function(s,l,c){for(var d=s.length,g=r.F.U.rev15,p=0;p<d;p+=2)if(s[p+1]!=0)for(var y=p>>1,_=s[p+1],E=y<<4|_,w=l-_,P=s[p]<<w,z=P+(1<<w);P!=z;)c[g[P]>>>15-l]=E,P++},r.F.revCodes=function(s,l){for(var c=r.F.U.rev15,d=15-l,g=0;g<s.length;g+=2){var p=s[g]<<l-s[g+1];s[g]=c[p]>>>d}},r.F._putsE=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8},r.F._putsF=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8,s[d+2]|=c>>>16},r.F._bitsE=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8)>>>(7&l)&(1<<c)-1},r.F._bitsF=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)&(1<<c)-1},r.F._get17=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)},r.F._get25=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16|s[3+(l>>>3)]<<24)>>>(7&l)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var s=r.F.U,l=0;l<32768;l++){var c=l;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,s.rev15[l]=(c>>>16|c<<16)>>>17}function d(g,p,y){for(;p--!=0;)g.push(0,y)}for(l=0;l<32;l++)s.ldef[l]=s.of0[l]<<3|s.exb[l],s.ddef[l]=s.df0[l]<<4|s.dxb[l];d(s.fltree,144,8),d(s.fltree,112,9),d(s.fltree,24,7),d(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),d(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),d(s.itree,19,0),d(s.ltree,286,0),d(s.dtree,30,0),d(s.ttree,320,0)})()})();var WD=KD({__proto__:null,default:af},[af]);const xi=(function(){var a={nextZero(y,_){for(;y[_]!=0;)_++;return _},readUshort:(y,_)=>y[_]<<8|y[_+1],writeUshort(y,_,E){y[_]=E>>8&255,y[_+1]=255&E},readUint:(y,_)=>16777216*y[_]+(y[_+1]<<16|y[_+2]<<8|y[_+3]),writeUint(y,_,E){y[_]=E>>24&255,y[_+1]=E>>16&255,y[_+2]=E>>8&255,y[_+3]=255&E},readASCII(y,_,E){let w="";for(let P=0;P<E;P++)w+=String.fromCharCode(y[_+P]);return w},writeASCII(y,_,E){for(let w=0;w<E.length;w++)y[_+w]=E.charCodeAt(w)},readBytes(y,_,E){const w=[];for(let P=0;P<E;P++)w.push(y[_+P]);return w},pad:y=>y.length<2?`0${y}`:y,readUTF8(y,_,E){let w,P="";for(let z=0;z<E;z++)P+=`%${a.pad(y[_+z].toString(16))}`;try{w=decodeURIComponent(P)}catch{return a.readASCII(y,_,E)}return w}};function t(y,_,E,w){const P=_*E,z=l(w),j=Math.ceil(_*z/8),k=new Uint8Array(4*P),at=new Uint32Array(k.buffer),{ctype:Y}=w,{depth:K}=w,ut=a.readUshort;if(Y==6){const Q=P<<2;if(K==8)for(var L=0;L<Q;L+=4)k[L]=y[L],k[L+1]=y[L+1],k[L+2]=y[L+2],k[L+3]=y[L+3];if(K==16)for(L=0;L<Q;L++)k[L]=y[L<<1]}else if(Y==2){const Q=w.tabs.tRNS;if(Q==null){if(K==8)for(L=0;L<P;L++){var M=3*L;at[L]=255<<24|y[M+2]<<16|y[M+1]<<8|y[M]}if(K==16)for(L=0;L<P;L++)M=6*L,at[L]=255<<24|y[M+4]<<16|y[M+2]<<8|y[M]}else{var b=Q[0];const rt=Q[1],U=Q[2];if(K==8)for(L=0;L<P;L++){var A=L<<2;M=3*L,at[L]=255<<24|y[M+2]<<16|y[M+1]<<8|y[M],y[M]==b&&y[M+1]==rt&&y[M+2]==U&&(k[A+3]=0)}if(K==16)for(L=0;L<P;L++)A=L<<2,M=6*L,at[L]=255<<24|y[M+4]<<16|y[M+2]<<8|y[M],ut(y,M)==b&&ut(y,M+2)==rt&&ut(y,M+4)==U&&(k[A+3]=0)}}else if(Y==3){const Q=w.tabs.PLTE,rt=w.tabs.tRNS,U=rt?rt.length:0;if(K==1)for(var C=0;C<E;C++){var D=C*j,N=C*_;for(L=0;L<_;L++){A=N+L<<2;var I=3*(q=y[D+(L>>3)]>>7-((7&L)<<0)&1);k[A]=Q[I],k[A+1]=Q[I+1],k[A+2]=Q[I+2],k[A+3]=q<U?rt[q]:255}}if(K==2)for(C=0;C<E;C++)for(D=C*j,N=C*_,L=0;L<_;L++)A=N+L<<2,I=3*(q=y[D+(L>>2)]>>6-((3&L)<<1)&3),k[A]=Q[I],k[A+1]=Q[I+1],k[A+2]=Q[I+2],k[A+3]=q<U?rt[q]:255;if(K==4)for(C=0;C<E;C++)for(D=C*j,N=C*_,L=0;L<_;L++)A=N+L<<2,I=3*(q=y[D+(L>>1)]>>4-((1&L)<<2)&15),k[A]=Q[I],k[A+1]=Q[I+1],k[A+2]=Q[I+2],k[A+3]=q<U?rt[q]:255;if(K==8)for(L=0;L<P;L++){var q;A=L<<2,I=3*(q=y[L]),k[A]=Q[I],k[A+1]=Q[I+1],k[A+2]=Q[I+2],k[A+3]=q<U?rt[q]:255}}else if(Y==4){if(K==8)for(L=0;L<P;L++){A=L<<2;var J=y[R=L<<1];k[A]=J,k[A+1]=J,k[A+2]=J,k[A+3]=y[R+1]}if(K==16)for(L=0;L<P;L++){var R;A=L<<2,J=y[R=L<<2],k[A]=J,k[A+1]=J,k[A+2]=J,k[A+3]=y[R+2]}}else if(Y==0)for(b=w.tabs.tRNS?w.tabs.tRNS:-1,C=0;C<E;C++){const Q=C*j,rt=C*_;if(K==1)for(var x=0;x<_;x++){var nt=(J=255*(y[Q+(x>>>3)]>>>7-(7&x)&1))==255*b?0:255;at[rt+x]=nt<<24|J<<16|J<<8|J}else if(K==2)for(x=0;x<_;x++)nt=(J=85*(y[Q+(x>>>2)]>>>6-((3&x)<<1)&3))==85*b?0:255,at[rt+x]=nt<<24|J<<16|J<<8|J;else if(K==4)for(x=0;x<_;x++)nt=(J=17*(y[Q+(x>>>1)]>>>4-((1&x)<<2)&15))==17*b?0:255,at[rt+x]=nt<<24|J<<16|J<<8|J;else if(K==8)for(x=0;x<_;x++)nt=(J=y[Q+x])==b?0:255,at[rt+x]=nt<<24|J<<16|J<<8|J;else if(K==16)for(x=0;x<_;x++)J=y[Q+(x<<1)],nt=ut(y,Q+(x<<1))==b?0:255,at[rt+x]=nt<<24|J<<16|J<<8|J}return k}function n(y,_,E,w){const P=l(y),z=Math.ceil(E*P/8),j=new Uint8Array((z+1+y.interlace)*w);return _=y.tabs.CgBI?s(_,j):r(_,j),y.interlace==0?_=c(_,y,0,E,w):y.interlace==1&&(_=(function(at,Y){const K=Y.width,ut=Y.height,L=l(Y),M=L>>3,b=Math.ceil(K*L/8),A=new Uint8Array(ut*b);let C=0;const D=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],q=[8,8,4,4,2,2,1];let J=0;for(;J<7;){const x=I[J],nt=q[J];let Q=0,rt=0,U=D[J];for(;U<ut;)U+=x,rt++;let H=N[J];for(;H<K;)H+=nt,Q++;const ot=Math.ceil(Q*L/8);c(at,Y,C,Q,rt);let et=0,Z=D[J];for(;Z<ut;){let gt=N[J],At=C+et*ot<<3;for(;gt<K;){var R;if(L==1&&(R=(R=at[At>>3])>>7-(7&At)&1,A[Z*b+(gt>>3)]|=R<<7-((7&gt)<<0)),L==2&&(R=(R=at[At>>3])>>6-(7&At)&3,A[Z*b+(gt>>2)]|=R<<6-((3&gt)<<1)),L==4&&(R=(R=at[At>>3])>>4-(7&At)&15,A[Z*b+(gt>>1)]|=R<<4-((1&gt)<<2)),L>=8){const Ct=Z*b+gt*M;for(let wt=0;wt<M;wt++)A[Ct+wt]=at[(At>>3)+wt]}At+=L,gt+=nt}et++,Z+=x}Q*rt!=0&&(C+=rt*(1+ot)),J+=1}return A})(_,y)),_}function r(y,_){return s(new Uint8Array(y.buffer,2,y.length-6),_)}var s=(function(){const y={H:{}};return y.H.N=function(_,E){const w=Uint8Array;let P,z,j=0,k=0,at=0,Y=0,K=0,ut=0,L=0,M=0,b=0;if(_[0]==3&&_[1]==0)return E||new w(0);const A=y.H,C=A.b,D=A.e,N=A.R,I=A.n,q=A.A,J=A.Z,R=A.m,x=E==null;for(x&&(E=new w(_.length>>>2<<5));j==0;)if(j=C(_,b,1),k=C(_,b+1,2),b+=3,k!=0){if(x&&(E=y.H.W(E,M+(1<<17))),k==1&&(P=R.J,z=R.h,ut=511,L=31),k==2){at=D(_,b,5)+257,Y=D(_,b+5,5)+1,K=D(_,b+10,4)+4,b+=14;let Q=1;for(var nt=0;nt<38;nt+=2)R.Q[nt]=0,R.Q[nt+1]=0;for(nt=0;nt<K;nt++){const H=D(_,b+3*nt,3);R.Q[1+(R.X[nt]<<1)]=H,H>Q&&(Q=H)}b+=3*K,I(R.Q,Q),q(R.Q,Q,R.u),P=R.w,z=R.d,b=N(R.u,(1<<Q)-1,at+Y,_,b,R.v);const rt=A.V(R.v,0,at,R.C);ut=(1<<rt)-1;const U=A.V(R.v,at,Y,R.D);L=(1<<U)-1,I(R.C,rt),q(R.C,rt,P),I(R.D,U),q(R.D,U,z)}for(;;){const Q=P[J(_,b)&ut];b+=15&Q;const rt=Q>>>4;if(!(rt>>>8))E[M++]=rt;else{if(rt==256)break;{let U=M+rt-254;if(rt>264){const gt=R.q[rt-257];U=M+(gt>>>3)+D(_,b,7&gt),b+=7&gt}const H=z[J(_,b)&L];b+=15&H;const ot=H>>>4,et=R.c[ot],Z=(et>>>4)+C(_,b,15&et);for(b+=15&et;M<U;)E[M]=E[M++-Z],E[M]=E[M++-Z],E[M]=E[M++-Z],E[M]=E[M++-Z];M=U}}}}else{(7&b)!=0&&(b+=8-(7&b));const Q=4+(b>>>3),rt=_[Q-4]|_[Q-3]<<8;x&&(E=y.H.W(E,M+rt)),E.set(new w(_.buffer,_.byteOffset+Q,rt),M),b=Q+rt<<3,M+=rt}return E.length==M?E:E.slice(0,M)},y.H.W=function(_,E){const w=_.length;if(E<=w)return _;const P=new Uint8Array(w<<1);return P.set(_,0),P},y.H.R=function(_,E,w,P,z,j){const k=y.H.e,at=y.H.Z;let Y=0;for(;Y<w;){const K=_[at(P,z)&E];z+=15&K;const ut=K>>>4;if(ut<=15)j[Y]=ut,Y++;else{let L=0,M=0;ut==16?(M=3+k(P,z,2),z+=2,L=j[Y-1]):ut==17?(M=3+k(P,z,3),z+=3):ut==18&&(M=11+k(P,z,7),z+=7);const b=Y+M;for(;Y<b;)j[Y]=L,Y++}}return z},y.H.V=function(_,E,w,P){let z=0,j=0;const k=P.length>>>1;for(;j<w;){const at=_[j+E];P[j<<1]=0,P[1+(j<<1)]=at,at>z&&(z=at),j++}for(;j<k;)P[j<<1]=0,P[1+(j<<1)]=0,j++;return z},y.H.n=function(_,E){const w=y.H.m,P=_.length;let z,j,k,at;const Y=w.j;for(var K=0;K<=E;K++)Y[K]=0;for(K=1;K<P;K+=2)Y[_[K]]++;const ut=w.K;for(z=0,Y[0]=0,j=1;j<=E;j++)z=z+Y[j-1]<<1,ut[j]=z;for(k=0;k<P;k+=2)at=_[k+1],at!=0&&(_[k]=ut[at],ut[at]++)},y.H.A=function(_,E,w){const P=_.length,z=y.H.m.r;for(let j=0;j<P;j+=2)if(_[j+1]!=0){const k=j>>1,at=_[j+1],Y=k<<4|at,K=E-at;let ut=_[j]<<K;const L=ut+(1<<K);for(;ut!=L;)w[z[ut]>>>15-E]=Y,ut++}},y.H.l=function(_,E){const w=y.H.m.r,P=15-E;for(let z=0;z<_.length;z+=2){const j=_[z]<<E-_[z+1];_[z]=w[j]>>>P}},y.H.M=function(_,E,w){w<<=7&E;const P=E>>>3;_[P]|=w,_[P+1]|=w>>>8},y.H.I=function(_,E,w){w<<=7&E;const P=E>>>3;_[P]|=w,_[P+1]|=w>>>8,_[P+2]|=w>>>16},y.H.e=function(_,E,w){return(_[E>>>3]|_[1+(E>>>3)]<<8)>>>(7&E)&(1<<w)-1},y.H.b=function(_,E,w){return(_[E>>>3]|_[1+(E>>>3)]<<8|_[2+(E>>>3)]<<16)>>>(7&E)&(1<<w)-1},y.H.Z=function(_,E){return(_[E>>>3]|_[1+(E>>>3)]<<8|_[2+(E>>>3)]<<16)>>>(7&E)},y.H.i=function(_,E){return(_[E>>>3]|_[1+(E>>>3)]<<8|_[2+(E>>>3)]<<16|_[3+(E>>>3)]<<24)>>>(7&E)},y.H.m=(function(){const _=Uint16Array,E=Uint32Array;return{K:new _(16),j:new _(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new _(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new E(32),J:new _(512),_:[],h:new _(32),$:[],w:new _(32768),C:[],v:[],d:new _(32768),D:[],u:new _(512),Q:[],r:new _(32768),s:new E(286),Y:new E(30),a:new E(19),t:new E(15e3),k:new _(65536),g:new _(32768)}})(),(function(){const _=y.H.m;for(var E=0;E<32768;E++){let P=E;P=(2863311530&P)>>>1|(1431655765&P)<<1,P=(3435973836&P)>>>2|(858993459&P)<<2,P=(4042322160&P)>>>4|(252645135&P)<<4,P=(4278255360&P)>>>8|(16711935&P)<<8,_.r[E]=(P>>>16|P<<16)>>>17}function w(P,z,j){for(;z--!=0;)P.push(0,j)}for(E=0;E<32;E++)_.q[E]=_.S[E]<<3|_.T[E],_.c[E]=_.p[E]<<4|_.z[E];w(_._,144,8),w(_._,112,9),w(_._,24,7),w(_._,8,8),y.H.n(_._,9),y.H.A(_._,9,_.J),y.H.l(_._,9),w(_.$,32,5),y.H.n(_.$,5),y.H.A(_.$,5,_.h),y.H.l(_.$,5),w(_.Q,19,0),w(_.C,286,0),w(_.D,30,0),w(_.v,320,0)})(),y.H.N})();function l(y){return[1,null,3,1,2,null,4][y.ctype]*y.depth}function c(y,_,E,w,P){let z=l(_);const j=Math.ceil(w*z/8);let k,at;z=Math.ceil(z/8);let Y=y[E],K=0;if(Y>1&&(y[E]=[0,0,1][Y-2]),Y==3)for(K=z;K<j;K++)y[K+1]=y[K+1]+(y[K+1-z]>>>1)&255;for(let ut=0;ut<P;ut++)if(k=E+ut*j,at=k+ut+1,Y=y[at-1],K=0,Y==0)for(;K<j;K++)y[k+K]=y[at+K];else if(Y==1){for(;K<z;K++)y[k+K]=y[at+K];for(;K<j;K++)y[k+K]=y[at+K]+y[k+K-z]}else if(Y==2)for(;K<j;K++)y[k+K]=y[at+K]+y[k+K-j];else if(Y==3){for(;K<z;K++)y[k+K]=y[at+K]+(y[k+K-j]>>>1);for(;K<j;K++)y[k+K]=y[at+K]+(y[k+K-j]+y[k+K-z]>>>1)}else{for(;K<z;K++)y[k+K]=y[at+K]+d(0,y[k+K-j],0);for(;K<j;K++)y[k+K]=y[at+K]+d(y[k+K-z],y[k+K-j],y[k+K-z-j])}return y}function d(y,_,E){const w=y+_-E,P=w-y,z=w-_,j=w-E;return P*P<=z*z&&P*P<=j*j?y:z*z<=j*j?_:E}function g(y,_,E){E.width=a.readUint(y,_),_+=4,E.height=a.readUint(y,_),_+=4,E.depth=y[_],_++,E.ctype=y[_],_++,E.compress=y[_],_++,E.filter=y[_],_++,E.interlace=y[_],_++}function p(y,_,E,w,P,z,j,k,at){const Y=Math.min(_,P),K=Math.min(E,z);let ut=0,L=0;for(let J=0;J<K;J++)for(let R=0;R<Y;R++)if(j>=0&&k>=0?(ut=J*_+R<<2,L=(k+J)*P+j+R<<2):(ut=(-k+J)*_-j+R<<2,L=J*P+R<<2),at==0)w[L]=y[ut],w[L+1]=y[ut+1],w[L+2]=y[ut+2],w[L+3]=y[ut+3];else if(at==1){var M=y[ut+3]*.00392156862745098,b=y[ut]*M,A=y[ut+1]*M,C=y[ut+2]*M,D=w[L+3]*(1/255),N=w[L]*D,I=w[L+1]*D,q=w[L+2]*D;const x=1-M,nt=M+D*x,Q=nt==0?0:1/nt;w[L+3]=255*nt,w[L+0]=(b+N*x)*Q,w[L+1]=(A+I*x)*Q,w[L+2]=(C+q*x)*Q}else if(at==2)M=y[ut+3],b=y[ut],A=y[ut+1],C=y[ut+2],D=w[L+3],N=w[L],I=w[L+1],q=w[L+2],M==D&&b==N&&A==I&&C==q?(w[L]=0,w[L+1]=0,w[L+2]=0,w[L+3]=0):(w[L]=b,w[L+1]=A,w[L+2]=C,w[L+3]=M);else if(at==3){if(M=y[ut+3],b=y[ut],A=y[ut+1],C=y[ut+2],D=w[L+3],N=w[L],I=w[L+1],q=w[L+2],M==D&&b==N&&A==I&&C==q)continue;if(M<220&&D>20)return!1}return!0}return{decode:function(_){const E=new Uint8Array(_);let w=8;const P=a,z=P.readUshort,j=P.readUint,k={tabs:{},frames:[]},at=new Uint8Array(E.length);let Y,K=0,ut=0;const L=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(E[M]!=L[M])throw"The input is not a PNG file!";for(;w<E.length;){const J=P.readUint(E,w);w+=4;const R=P.readASCII(E,w,4);if(w+=4,R=="IHDR")g(E,w,k);else if(R=="iCCP"){for(var b=w;E[b]!=0;)b++;P.readASCII(E,w,b-w),E[b+1];const x=E.slice(b+2,w+J);let nt=null;try{nt=r(x)}catch{nt=s(x)}k.tabs[R]=nt}else if(R=="CgBI")k.tabs[R]=E.slice(w,w+4);else if(R=="IDAT"){for(M=0;M<J;M++)at[K+M]=E[w+M];K+=J}else if(R=="acTL")k.tabs[R]={num_frames:j(E,w),num_plays:j(E,w+4)},Y=new Uint8Array(E.length);else if(R=="fcTL"){ut!=0&&((q=k.frames[k.frames.length-1]).data=n(k,Y.slice(0,ut),q.rect.width,q.rect.height),ut=0);const x={x:j(E,w+12),y:j(E,w+16),width:j(E,w+4),height:j(E,w+8)};let nt=z(E,w+22);nt=z(E,w+20)/(nt==0?100:nt);const Q={rect:x,delay:Math.round(1e3*nt),dispose:E[w+24],blend:E[w+25]};k.frames.push(Q)}else if(R=="fdAT"){for(M=0;M<J-4;M++)Y[ut+M]=E[w+M+4];ut+=J-4}else if(R=="pHYs")k.tabs[R]=[P.readUint(E,w),P.readUint(E,w+4),E[w+8]];else if(R=="cHRM")for(k.tabs[R]=[],M=0;M<8;M++)k.tabs[R].push(P.readUint(E,w+4*M));else if(R=="tEXt"||R=="zTXt"){k.tabs[R]==null&&(k.tabs[R]={});var A=P.nextZero(E,w),C=P.readASCII(E,w,A-w),D=w+J-A-1;if(R=="tEXt")I=P.readASCII(E,A+1,D);else{var N=r(E.slice(A+2,A+2+D));I=P.readUTF8(N,0,N.length)}k.tabs[R][C]=I}else if(R=="iTXt"){k.tabs[R]==null&&(k.tabs[R]={}),A=0,b=w,A=P.nextZero(E,b),C=P.readASCII(E,b,A-b);const x=E[b=A+1];var I;E[b+1],b+=2,A=P.nextZero(E,b),P.readASCII(E,b,A-b),b=A+1,A=P.nextZero(E,b),P.readUTF8(E,b,A-b),D=J-((b=A+1)-w),x==0?I=P.readUTF8(E,b,D):(N=r(E.slice(b,b+D)),I=P.readUTF8(N,0,N.length)),k.tabs[R][C]=I}else if(R=="PLTE")k.tabs[R]=P.readBytes(E,w,J);else if(R=="hIST"){const x=k.tabs.PLTE.length/3;for(k.tabs[R]=[],M=0;M<x;M++)k.tabs[R].push(z(E,w+2*M))}else if(R=="tRNS")k.ctype==3?k.tabs[R]=P.readBytes(E,w,J):k.ctype==0?k.tabs[R]=z(E,w):k.ctype==2&&(k.tabs[R]=[z(E,w),z(E,w+2),z(E,w+4)]);else if(R=="gAMA")k.tabs[R]=P.readUint(E,w)/1e5;else if(R=="sRGB")k.tabs[R]=E[w];else if(R=="bKGD")k.ctype==0||k.ctype==4?k.tabs[R]=[z(E,w)]:k.ctype==2||k.ctype==6?k.tabs[R]=[z(E,w),z(E,w+2),z(E,w+4)]:k.ctype==3&&(k.tabs[R]=E[w]);else if(R=="IEND")break;w+=J,P.readUint(E,w),w+=4}var q;return ut!=0&&((q=k.frames[k.frames.length-1]).data=n(k,Y.slice(0,ut),q.rect.width,q.rect.height)),k.data=n(k,at,k.width,k.height),delete k.compress,delete k.interlace,delete k.filter,k},toRGBA8:function(_){const E=_.width,w=_.height;if(_.tabs.acTL==null)return[t(_.data,E,w,_).buffer];const P=[];_.frames[0].data==null&&(_.frames[0].data=_.data);const z=E*w*4,j=new Uint8Array(z),k=new Uint8Array(z),at=new Uint8Array(z);for(let K=0;K<_.frames.length;K++){const ut=_.frames[K],L=ut.rect.x,M=ut.rect.y,b=ut.rect.width,A=ut.rect.height,C=t(ut.data,b,A,_);if(K!=0)for(var Y=0;Y<z;Y++)at[Y]=j[Y];if(ut.blend==0?p(C,b,A,j,E,w,L,M,0):ut.blend==1&&p(C,b,A,j,E,w,L,M,1),P.push(j.buffer.slice(0)),ut.dispose!=0){if(ut.dispose==1)p(k,b,A,j,E,w,L,M,0);else if(ut.dispose==2)for(Y=0;Y<z;Y++)j[Y]=at[Y]}}return P},_paeth:d,_copyTile:p,_bin:a}})();(function(){const{_copyTile:a}=xi,{_bin:t}=xi,n=xi._paeth;var r={table:(function(){const b=new Uint32Array(256);for(let A=0;A<256;A++){let C=A;for(let D=0;D<8;D++)1&C?C=3988292384^C>>>1:C>>>=1;b[A]=C}return b})(),update(b,A,C,D){for(let N=0;N<D;N++)b=r.table[255&(b^A[C+N])]^b>>>8;return b},crc:(b,A,C)=>4294967295^r.update(4294967295,b,A,C)};function s(b,A,C,D){A[C]+=b[0]*D>>4,A[C+1]+=b[1]*D>>4,A[C+2]+=b[2]*D>>4,A[C+3]+=b[3]*D>>4}function l(b){return Math.max(0,Math.min(255,b))}function c(b,A){const C=b[0]-A[0],D=b[1]-A[1],N=b[2]-A[2],I=b[3]-A[3];return C*C+D*D+N*N+I*I}function d(b,A,C,D,N,I,q){q==null&&(q=1);const J=D.length,R=[];for(var x=0;x<J;x++){const Z=D[x];R.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(x=0;x<J;x++){let Z=4294967295;for(var nt=0,Q=0;Q<J;Q++){var rt=c(R[x],R[Q]);Q!=x&&rt<Z&&(Z=rt,nt=Q)}}const U=new Uint32Array(N.buffer),H=new Int16Array(A*C*4),ot=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(x=0;x<ot.length;x++)ot[x]=255*((ot[x]+.5)/16-.5);for(let Z=0;Z<C;Z++)for(let gt=0;gt<A;gt++){var et;x=4*(Z*A+gt),q!=2?et=[l(b[x]+H[x]),l(b[x+1]+H[x+1]),l(b[x+2]+H[x+2]),l(b[x+3]+H[x+3])]:(rt=ot[4*(3&Z)+(3&gt)],et=[l(b[x]+rt),l(b[x+1]+rt),l(b[x+2]+rt),l(b[x+3]+rt)]),nt=0;let At=16777215;for(Q=0;Q<J;Q++){const Kt=c(et,R[Q]);Kt<At&&(At=Kt,nt=Q)}const Ct=R[nt],wt=[et[0]-Ct[0],et[1]-Ct[1],et[2]-Ct[2],et[3]-Ct[3]];q==1&&(gt!=A-1&&s(wt,H,x+4,7),Z!=C-1&&(gt!=0&&s(wt,H,x+4*A-4,3),s(wt,H,x+4*A,5),gt!=A-1&&s(wt,H,x+4*A+4,1))),I[x>>2]=nt,U[x>>2]=D[nt]}}function g(b,A,C,D,N){N==null&&(N={});const{crc:I}=r,q=t.writeUint,J=t.writeUshort,R=t.writeASCII;let x=8;const nt=b.frames.length>1;let Q,rt=!1,U=33+(nt?20:0);if(N.sRGB!=null&&(U+=13),N.pHYs!=null&&(U+=21),N.iCCP!=null&&(Q=pako.deflate(N.iCCP),U+=21+Q.length+4),b.ctype==3){for(var H=b.plte.length,ot=0;ot<H;ot++)b.plte[ot]>>>24!=255&&(rt=!0);U+=8+3*H+4+(rt?8+1*H+4:0)}for(var et=0;et<b.frames.length;et++)nt&&(U+=38),U+=(Ct=b.frames[et]).cimg.length+12,et!=0&&(U+=4);U+=12;const Z=new Uint8Array(U),gt=[137,80,78,71,13,10,26,10];for(ot=0;ot<8;ot++)Z[ot]=gt[ot];if(q(Z,x,13),x+=4,R(Z,x,"IHDR"),x+=4,q(Z,x,A),x+=4,q(Z,x,C),x+=4,Z[x]=b.depth,x++,Z[x]=b.ctype,x++,Z[x]=0,x++,Z[x]=0,x++,Z[x]=0,x++,q(Z,x,I(Z,x-17,17)),x+=4,N.sRGB!=null&&(q(Z,x,1),x+=4,R(Z,x,"sRGB"),x+=4,Z[x]=N.sRGB,x++,q(Z,x,I(Z,x-5,5)),x+=4),N.iCCP!=null){const wt=13+Q.length;q(Z,x,wt),x+=4,R(Z,x,"iCCP"),x+=4,R(Z,x,"ICC profile"),x+=11,x+=2,Z.set(Q,x),x+=Q.length,q(Z,x,I(Z,x-(wt+4),wt+4)),x+=4}if(N.pHYs!=null&&(q(Z,x,9),x+=4,R(Z,x,"pHYs"),x+=4,q(Z,x,N.pHYs[0]),x+=4,q(Z,x,N.pHYs[1]),x+=4,Z[x]=N.pHYs[2],x++,q(Z,x,I(Z,x-13,13)),x+=4),nt&&(q(Z,x,8),x+=4,R(Z,x,"acTL"),x+=4,q(Z,x,b.frames.length),x+=4,q(Z,x,N.loop!=null?N.loop:0),x+=4,q(Z,x,I(Z,x-12,12)),x+=4),b.ctype==3){for(q(Z,x,3*(H=b.plte.length)),x+=4,R(Z,x,"PLTE"),x+=4,ot=0;ot<H;ot++){const wt=3*ot,Kt=b.plte[ot],ce=255&Kt,ve=Kt>>>8&255,Nn=Kt>>>16&255;Z[x+wt+0]=ce,Z[x+wt+1]=ve,Z[x+wt+2]=Nn}if(x+=3*H,q(Z,x,I(Z,x-3*H-4,3*H+4)),x+=4,rt){for(q(Z,x,H),x+=4,R(Z,x,"tRNS"),x+=4,ot=0;ot<H;ot++)Z[x+ot]=b.plte[ot]>>>24&255;x+=H,q(Z,x,I(Z,x-H-4,H+4)),x+=4}}let At=0;for(et=0;et<b.frames.length;et++){var Ct=b.frames[et];nt&&(q(Z,x,26),x+=4,R(Z,x,"fcTL"),x+=4,q(Z,x,At++),x+=4,q(Z,x,Ct.rect.width),x+=4,q(Z,x,Ct.rect.height),x+=4,q(Z,x,Ct.rect.x),x+=4,q(Z,x,Ct.rect.y),x+=4,J(Z,x,D[et]),x+=2,J(Z,x,1e3),x+=2,Z[x]=Ct.dispose,x++,Z[x]=Ct.blend,x++,q(Z,x,I(Z,x-30,30)),x+=4);const wt=Ct.cimg;q(Z,x,(H=wt.length)+(et==0?0:4)),x+=4;const Kt=x;R(Z,x,et==0?"IDAT":"fdAT"),x+=4,et!=0&&(q(Z,x,At++),x+=4),Z.set(wt,x),x+=H,q(Z,x,I(Z,Kt,x-Kt)),x+=4}return q(Z,x,0),x+=4,R(Z,x,"IEND"),x+=4,q(Z,x,I(Z,x-4,4)),x+=4,Z.buffer}function p(b,A,C){for(let D=0;D<b.frames.length;D++){const N=b.frames[D];N.rect.width;const I=N.rect.height,q=new Uint8Array(I*N.bpl+I);N.cimg=w(N.img,I,N.bpp,N.bpl,q,A,C)}}function y(b,A,C,D,N){const I=N[0],q=N[1],J=N[2],R=N[3],x=N[4],nt=N[5];let Q=6,rt=8,U=255;for(var H=0;H<b.length;H++){const we=new Uint8Array(b[H]);for(var ot=we.length,et=0;et<ot;et+=4)U&=we[et+3]}const Z=U!=255,gt=(function(te,Wt,Lt,Ft,ne,un){const Ee=[];for(var Pt=0;Pt<te.length;Pt++){const ke=new Uint8Array(te[Pt]),vn=new Uint32Array(ke.buffer);var Pe;let cn=0,Ue=0,fe=Wt,je=Lt,be=Ft?1:0;if(Pt!=0){const Rs=un||Ft||Pt==1||Ee[Pt-2].dispose!=0?1:2;let Oi=0,Ra=1e9;for(let En=0;En<Rs;En++){var On=new Uint8Array(te[Pt-1-En]);const or=new Uint32Array(te[Pt-1-En]);let ie=Wt,Je=Lt,hn=-1,fn=-1;for(let ni=0;ni<Lt;ni++)for(let nn=0;nn<Wt;nn++)vn[Te=ni*Wt+nn]!=or[Te]&&(nn<ie&&(ie=nn),nn>hn&&(hn=nn),ni<Je&&(Je=ni),ni>fn&&(fn=ni));hn==-1&&(ie=Je=hn=fn=0),ne&&((1&ie)==1&&ie--,(1&Je)==1&&Je--);const Ds=(hn-ie+1)*(fn-Je+1);Ds<Ra&&(Ra=Ds,Oi=En,cn=ie,Ue=Je,fe=hn-ie+1,je=fn-Je+1)}On=new Uint8Array(te[Pt-1-Oi]),Oi==1&&(Ee[Pt-1].dispose=2),Pe=new Uint8Array(fe*je*4),a(On,Wt,Lt,Pe,fe,je,-cn,-Ue,0),be=a(ke,Wt,Lt,Pe,fe,je,-cn,-Ue,3)?1:0,be==1?E(ke,Wt,Lt,Pe,{x:cn,y:Ue,width:fe,height:je}):a(ke,Wt,Lt,Pe,fe,je,-cn,-Ue,0)}else Pe=ke.slice(0);Ee.push({rect:{x:cn,y:Ue,width:fe,height:je},img:Pe,blend:be,dispose:0})}if(Ft)for(Pt=0;Pt<Ee.length;Pt++){if((vi=Ee[Pt]).blend==1)continue;const ke=vi.rect,vn=Ee[Pt-1].rect,cn=Math.min(ke.x,vn.x),Ue=Math.min(ke.y,vn.y),fe={x:cn,y:Ue,width:Math.max(ke.x+ke.width,vn.x+vn.width)-cn,height:Math.max(ke.y+ke.height,vn.y+vn.height)-Ue};Ee[Pt-1].dispose=1,Pt-1!=0&&_(te,Wt,Lt,Ee,Pt-1,fe,ne),_(te,Wt,Lt,Ee,Pt,fe,ne)}let Ni=0;if(te.length!=1)for(var Te=0;Te<Ee.length;Te++){var vi;Ni+=(vi=Ee[Te]).rect.width*vi.rect.height}return Ee})(b,A,C,I,q,J),At={},Ct=[],wt=[];if(D!=0){const we=[];for(et=0;et<gt.length;et++)we.push(gt[et].img.buffer);const te=(function(ne){let un=0;for(var Ee=0;Ee<ne.length;Ee++)un+=ne[Ee].byteLength;const Pt=new Uint8Array(un);let Pe=0;for(Ee=0;Ee<ne.length;Ee++){const On=new Uint8Array(ne[Ee]),Ni=On.length;for(let Te=0;Te<Ni;Te+=4){let vi=On[Te],ke=On[Te+1],vn=On[Te+2];const cn=On[Te+3];cn==0&&(vi=ke=vn=0),Pt[Pe+Te]=vi,Pt[Pe+Te+1]=ke,Pt[Pe+Te+2]=vn,Pt[Pe+Te+3]=cn}Pe+=Ni}return Pt.buffer})(we),Wt=z(te,D);for(et=0;et<Wt.plte.length;et++)Ct.push(Wt.plte[et].est.rgba);let Lt=0;for(et=0;et<gt.length;et++){const Ft=(ce=gt[et]).img.length;var Kt=new Uint8Array(Wt.inds.buffer,Lt>>2,Ft>>2);wt.push(Kt);const ne=new Uint8Array(Wt.abuf,Lt,Ft);nt&&d(ce.img,ce.rect.width,ce.rect.height,Ct,ne,Kt),ce.img.set(ne),Lt+=Ft}}else for(H=0;H<gt.length;H++){var ce=gt[H];const we=new Uint32Array(ce.img.buffer);var ve=ce.rect.width;for(ot=we.length,Kt=new Uint8Array(ot),wt.push(Kt),et=0;et<ot;et++){const te=we[et];if(et!=0&&te==we[et-1])Kt[et]=Kt[et-1];else if(et>ve&&te==we[et-ve])Kt[et]=Kt[et-ve];else{let Wt=At[te];if(Wt==null&&(At[te]=Wt=Ct.length,Ct.push(te),Ct.length>=300))break;Kt[et]=Wt}}}const Nn=Ct.length;for(Nn<=256&&x==0&&(rt=Nn<=2?1:Nn<=4?2:Nn<=16?4:8,rt=Math.max(rt,R)),H=0;H<gt.length;H++){(ce=gt[H]).rect.x,ce.rect.y,ve=ce.rect.width;const we=ce.rect.height;let te=ce.img;new Uint32Array(te.buffer);let Wt=4*ve,Lt=4;if(Nn<=256&&x==0){Wt=Math.ceil(rt*ve/8);var Oe=new Uint8Array(Wt*we);const Ft=wt[H];for(let ne=0;ne<we;ne++){et=ne*Wt;const un=ne*ve;if(rt==8)for(var he=0;he<ve;he++)Oe[et+he]=Ft[un+he];else if(rt==4)for(he=0;he<ve;he++)Oe[et+(he>>1)]|=Ft[un+he]<<4-4*(1&he);else if(rt==2)for(he=0;he<ve;he++)Oe[et+(he>>2)]|=Ft[un+he]<<6-2*(3&he);else if(rt==1)for(he=0;he<ve;he++)Oe[et+(he>>3)]|=Ft[un+he]<<7-1*(7&he)}te=Oe,Q=3,Lt=1}else if(Z==0&&gt.length==1){Oe=new Uint8Array(ve*we*3);const Ft=ve*we;for(et=0;et<Ft;et++){const ne=3*et,un=4*et;Oe[ne]=te[un],Oe[ne+1]=te[un+1],Oe[ne+2]=te[un+2]}te=Oe,Q=2,Lt=3,Wt=3*ve}ce.img=te,ce.bpl=Wt,ce.bpp=Lt}return{ctype:Q,depth:rt,plte:Ct,frames:gt}}function _(b,A,C,D,N,I,q){const J=Uint8Array,R=Uint32Array,x=new J(b[N-1]),nt=new R(b[N-1]),Q=N+1<b.length?new J(b[N+1]):null,rt=new J(b[N]),U=new R(rt.buffer);let H=A,ot=C,et=-1,Z=-1;for(let At=0;At<I.height;At++)for(let Ct=0;Ct<I.width;Ct++){const wt=I.x+Ct,Kt=I.y+At,ce=Kt*A+wt,ve=U[ce];ve==0||D[N-1].dispose==0&&nt[ce]==ve&&(Q==null||Q[4*ce+3]!=0)||(wt<H&&(H=wt),wt>et&&(et=wt),Kt<ot&&(ot=Kt),Kt>Z&&(Z=Kt))}et==-1&&(H=ot=et=Z=0),q&&((1&H)==1&&H--,(1&ot)==1&&ot--),I={x:H,y:ot,width:et-H+1,height:Z-ot+1};const gt=D[N];gt.rect=I,gt.blend=1,gt.img=new Uint8Array(I.width*I.height*4),D[N-1].dispose==0?(a(x,A,C,gt.img,I.width,I.height,-I.x,-I.y,0),E(rt,A,C,gt.img,I)):a(rt,A,C,gt.img,I.width,I.height,-I.x,-I.y,0)}function E(b,A,C,D,N){a(b,A,C,D,N.width,N.height,-N.x,-N.y,2)}function w(b,A,C,D,N,I,q){const J=[];let R,x=[0,1,2,3,4];I!=-1?x=[I]:(A*D>5e5||C==1)&&(x=[0]),q&&(R={level:0});const nt=WD;for(var Q=0;Q<x.length;Q++){for(let H=0;H<A;H++)P(N,b,H,D,C,x[Q]);J.push(nt.deflate(N,R))}let rt,U=1e9;for(Q=0;Q<J.length;Q++)J[Q].length<U&&(rt=Q,U=J[Q].length);return J[rt]}function P(b,A,C,D,N,I){const q=C*D;let J=q+C;if(b[J]=I,J++,I==0)if(D<500)for(var R=0;R<D;R++)b[J+R]=A[q+R];else b.set(new Uint8Array(A.buffer,q,D),J);else if(I==1){for(R=0;R<N;R++)b[J+R]=A[q+R];for(R=N;R<D;R++)b[J+R]=A[q+R]-A[q+R-N]+256&255}else if(C==0){for(R=0;R<N;R++)b[J+R]=A[q+R];if(I==2)for(R=N;R<D;R++)b[J+R]=A[q+R];if(I==3)for(R=N;R<D;R++)b[J+R]=A[q+R]-(A[q+R-N]>>1)+256&255;if(I==4)for(R=N;R<D;R++)b[J+R]=A[q+R]-n(A[q+R-N],0,0)+256&255}else{if(I==2)for(R=0;R<D;R++)b[J+R]=A[q+R]+256-A[q+R-D]&255;if(I==3){for(R=0;R<N;R++)b[J+R]=A[q+R]+256-(A[q+R-D]>>1)&255;for(R=N;R<D;R++)b[J+R]=A[q+R]+256-(A[q+R-D]+A[q+R-N]>>1)&255}if(I==4){for(R=0;R<N;R++)b[J+R]=A[q+R]+256-n(0,A[q+R-D],0)&255;for(R=N;R<D;R++)b[J+R]=A[q+R]+256-n(A[q+R-N],A[q+R-D],A[q+R-N-D])&255}}}function z(b,A){const C=new Uint8Array(b),D=C.slice(0),N=new Uint32Array(D.buffer),I=j(D,A),q=I[0],J=I[1],R=C.length,x=new Uint8Array(R>>2);let nt;if(C.length<2e7)for(var Q=0;Q<R;Q+=4)nt=k(q,rt=C[Q]*(1/255),U=C[Q+1]*(1/255),H=C[Q+2]*(1/255),ot=C[Q+3]*(1/255)),x[Q>>2]=nt.ind,N[Q>>2]=nt.est.rgba;else for(Q=0;Q<R;Q+=4){var rt=C[Q]*.00392156862745098,U=C[Q+1]*(1/255),H=C[Q+2]*(1/255),ot=C[Q+3]*(1/255);for(nt=q;nt.left;)nt=at(nt.est,rt,U,H,ot)<=0?nt.left:nt.right;x[Q>>2]=nt.ind,N[Q>>2]=nt.est.rgba}return{abuf:D.buffer,inds:x,plte:J}}function j(b,A,C){C==null&&(C=1e-4);const D=new Uint32Array(b.buffer),N={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=ut(b,N.i0,N.i1),N.est=L(N.bst);const I=[N];for(;I.length<A;){let J=0,R=0;for(var q=0;q<I.length;q++)I[q].est.L>J&&(J=I[q].est.L,R=q);if(J<C)break;const x=I[R],nt=Y(b,D,x.i0,x.i1,x.est.e,x.est.eMq255);if(x.i0>=nt||x.i1<=nt){x.est.L=0;continue}const Q={i0:x.i0,i1:nt,bst:null,est:null,tdst:0,left:null,right:null};Q.bst=ut(b,Q.i0,Q.i1),Q.est=L(Q.bst);const rt={i0:nt,i1:x.i1,bst:null,est:null,tdst:0,left:null,right:null};for(rt.bst={R:[],m:[],N:x.bst.N-Q.bst.N},q=0;q<16;q++)rt.bst.R[q]=x.bst.R[q]-Q.bst.R[q];for(q=0;q<4;q++)rt.bst.m[q]=x.bst.m[q]-Q.bst.m[q];rt.est=L(rt.bst),x.left=Q,x.right=rt,I[R]=Q,I.push(rt)}for(I.sort(((J,R)=>R.bst.N-J.bst.N)),q=0;q<I.length;q++)I[q].ind=q;return[N,I]}function k(b,A,C,D,N){if(b.left==null)return b.tdst=(function(Q,rt,U,H,ot){const et=rt-Q[0],Z=U-Q[1],gt=H-Q[2],At=ot-Q[3];return et*et+Z*Z+gt*gt+At*At})(b.est.q,A,C,D,N),b;const I=at(b.est,A,C,D,N);let q=b.left,J=b.right;I>0&&(q=b.right,J=b.left);const R=k(q,A,C,D,N);if(R.tdst<=I*I)return R;const x=k(J,A,C,D,N);return x.tdst<R.tdst?x:R}function at(b,A,C,D,N){const{e:I}=b;return I[0]*A+I[1]*C+I[2]*D+I[3]*N-b.eMq}function Y(b,A,C,D,N,I){for(D-=4;C<D;){for(;K(b,C,N)<=I;)C+=4;for(;K(b,D,N)>I;)D-=4;if(C>=D)break;const q=A[C>>2];A[C>>2]=A[D>>2],A[D>>2]=q,C+=4,D-=4}for(;K(b,C,N)>I;)C-=4;return C+4}function K(b,A,C){return b[A]*C[0]+b[A+1]*C[1]+b[A+2]*C[2]+b[A+3]*C[3]}function ut(b,A,C){const D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],I=C-A>>2;for(let q=A;q<C;q+=4){const J=b[q]*.00392156862745098,R=b[q+1]*(1/255),x=b[q+2]*(1/255),nt=b[q+3]*(1/255);N[0]+=J,N[1]+=R,N[2]+=x,N[3]+=nt,D[0]+=J*J,D[1]+=J*R,D[2]+=J*x,D[3]+=J*nt,D[5]+=R*R,D[6]+=R*x,D[7]+=R*nt,D[10]+=x*x,D[11]+=x*nt,D[15]+=nt*nt}return D[4]=D[1],D[8]=D[2],D[9]=D[6],D[12]=D[3],D[13]=D[7],D[14]=D[11],{R:D,m:N,N:I}}function L(b){const{R:A}=b,{m:C}=b,{N:D}=b,N=C[0],I=C[1],q=C[2],J=C[3],R=D==0?0:1/D,x=[A[0]-N*N*R,A[1]-N*I*R,A[2]-N*q*R,A[3]-N*J*R,A[4]-I*N*R,A[5]-I*I*R,A[6]-I*q*R,A[7]-I*J*R,A[8]-q*N*R,A[9]-q*I*R,A[10]-q*q*R,A[11]-q*J*R,A[12]-J*N*R,A[13]-J*I*R,A[14]-J*q*R,A[15]-J*J*R],nt=x,Q=M;let rt=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,H=0;if(D!=0)for(let et=0;et<16&&(rt=Q.multVec(nt,rt),H=Math.sqrt(Q.dot(rt,rt)),rt=Q.sml(1/H,rt),!(et!=0&&Math.abs(H-U)<1e-9));et++)U=H;const ot=[N*R,I*R,q*R,J*R];return{Cov:x,q:ot,e:rt,L:U,eMq255:Q.dot(Q.sml(255,ot),rt),eMq:Q.dot(rt,ot),rgba:(Math.round(255*ot[3])<<24|Math.round(255*ot[2])<<16|Math.round(255*ot[1])<<8|Math.round(255*ot[0])<<0)>>>0}}var M={multVec:(b,A)=>[b[0]*A[0]+b[1]*A[1]+b[2]*A[2]+b[3]*A[3],b[4]*A[0]+b[5]*A[1]+b[6]*A[2]+b[7]*A[3],b[8]*A[0]+b[9]*A[1]+b[10]*A[2]+b[11]*A[3],b[12]*A[0]+b[13]*A[1]+b[14]*A[2]+b[15]*A[3]],dot:(b,A)=>b[0]*A[0]+b[1]*A[1]+b[2]*A[2]+b[3]*A[3],sml:(b,A)=>[b*A[0],b*A[1],b*A[2],b*A[3]]};xi.encode=function(A,C,D,N,I,q,J){N==null&&(N=0),J==null&&(J=!1);const R=y(A,C,D,N,[!1,!1,!1,0,J,!1]);return p(R,-1),g(R,C,D,I,q)},xi.encodeLL=function(A,C,D,N,I,q,J,R){const x={ctype:0+(N==1?0:2)+(I==0?0:4),depth:q,frames:[]},nt=(N+I)*q,Q=nt*C;for(let rt=0;rt<A.length;rt++)x.frames.push({rect:{x:0,y:0,width:C,height:D},img:new Uint8Array(A[rt]),blend:0,dispose:1,bpp:Math.ceil(nt/8),bpl:Math.ceil(Q/8)});return p(x,0,!0),g(x,C,D,J,R)},xi.encode.compress=y,xi.encode.dither=d,xi.quantize=z,xi.quantize.getKDtree=j,xi.quantize.getNearest=k})();const mb={toArrayBuffer(a,t){const n=a.width,r=a.height,s=n<<2,l=a.getContext("2d").getImageData(0,0,n,r),c=new Uint32Array(l.data.buffer),d=(32*n+31)/32<<2,g=d*r,p=122+g,y=new ArrayBuffer(p),_=new DataView(y),E=1<<20;let w,P,z,j,k=E,at=0,Y=0,K=0;function ut(b){_.setUint16(Y,b,!0),Y+=2}function L(b){_.setUint32(Y,b,!0),Y+=4}function M(b){Y+=b}ut(19778),L(p),M(4),L(122),L(108),L(n),L(-r>>>0),ut(1),ut(32),L(3),L(g),L(2835),L(2835),M(8),L(16711680),L(65280),L(255),L(4278190080),L(1466527264),(function b(){for(;at<r&&k>0;){for(j=122+at*d,w=0;w<s;)k--,P=c[K++],z=P>>>24,_.setUint32(j+w,P<<8|z),w+=4;at++}K<c.length?(k=E,setTimeout(b,mb._dly)):t(y)})()},toBlob(a,t){this.toArrayBuffer(a,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var qn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},JD={[qn.CHROME]:16384,[qn.FIREFOX]:11180,[qn.DESKTOP_SAFARI]:16384,[qn.IE]:8192,[qn.IOS]:4096,[qn.ETC]:8192};const fp=typeof window<"u",gb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,sf=fp&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),$D=(fp||gb)&&(sf&&sf.getOriginalSymbol(window,"File")||typeof File<"u"&&File),pb=(fp||gb)&&(sf&&sf.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function dp(a,t,n=Date.now()){return new Promise((r=>{const s=a.split(","),l=s[0].match(/:(.*?);/)[1],c=globalThis.atob(s[1]);let d=c.length;const g=new Uint8Array(d);for(;d--;)g[d]=c.charCodeAt(d);const p=new Blob([g],{type:l});p.name=t,p.lastModified=n,r(p)}))}function yb(a){return new Promise(((t,n)=>{const r=new pb;r.onload=()=>t(r.result),r.onerror=s=>n(s),r.readAsDataURL(a)}))}function _b(a){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=s=>n(s),r.src=a}))}function hs(){if(hs.cachedResult!==void 0)return hs.cachedResult;let a=qn.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?a=qn.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?a=qn.IOS:/Safari/i.test(t)?a=qn.DESKTOP_SAFARI:/Firefox/i.test(t)?a=qn.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(a=qn.IE),hs.cachedResult=a,hs.cachedResult}function vb(a,t){const n=hs(),r=JD[n];let s=a,l=t,c=s*l;const d=s>l?l/s:s/l;for(;c>r*r;){const g=(r+s)/2,p=(r+l)/2;g<p?(l=p,s=p*d):(l=g*d,s=g),c=s*l}return{width:s,height:l}}function xf(a,t){let n,r;try{if(n=new OffscreenCanvas(a,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=a,n.height=t,[n,r]}function Eb(a,t){const{width:n,height:r}=vb(a.width,a.height),[s,l]=xf(n,r);return t&&/jpe?g/.test(t)&&(l.fillStyle="white",l.fillRect(0,0,s.width,s.height)),l.drawImage(a,0,0,s.width,s.height),s}function zh(){return zh.cachedResult!==void 0||(zh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),zh.cachedResult}function of(a,t={}){return new Promise((function(n,r){let s,l;var c=function(){try{return l=Eb(s,t.fileType||a.type),n([s,l])}catch(g){return r(g)}},d=function(g){try{var p=function(y){try{throw y}catch(_){return r(_)}};try{let y;return yb(a).then((function(_){try{return y=_,_b(y).then((function(E){try{return s=E,(function(){try{return c()}catch(w){return r(w)}})()}catch(w){return p(w)}}),p)}catch(E){return p(E)}}),p)}catch(y){p(y)}}catch(y){return r(y)}};try{if(zh()||[qn.DESKTOP_SAFARI,qn.MOBILE_SAFARI].includes(hs()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(a).then((function(g){try{return s=g,c()}catch{return d()}}),d)}catch{d()}}))}function lf(a,t,n,r,s=1){return new Promise((function(l,c){let d;if(t==="image/png"){let _,E,w;return _=a.getContext("2d"),{data:E}=_.getImageData(0,0,a.width,a.height),w=xi.encode([E.buffer],a.width,a.height,4096*s),d=new Blob([w],{type:t}),d.name=n,d.lastModified=r,g.call(this)}{let _=function(){return g.call(this)};var p=_;if(t==="image/bmp")return new Promise((E=>mb.toBlob(a,E))).then((function(E){try{return d=E,d.name=n,d.lastModified=r,_.call(this)}catch(w){return c(w)}}).bind(this),c);{let E=function(){return _.call(this)};var y=E;if(typeof OffscreenCanvas=="function"&&a instanceof OffscreenCanvas)return a.convertToBlob({type:t,quality:s}).then((function(w){try{return d=w,d.name=n,d.lastModified=r,E.call(this)}catch(P){return c(P)}}).bind(this),c);{let w;return w=a.toDataURL(t,s),dp(w,n,r).then((function(P){try{return d=P,E.call(this)}catch(z){return c(z)}}).bind(this),c)}}}function g(){return l(d)}}))}function $i(a){a.width=0,a.height=0}function Do(){return new Promise((function(a,t){let n,r,s,l;return Do.cachedResult!==void 0?a(Do.cachedResult):dp("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(c){try{return n=c,of(n).then((function(d){try{return r=d[1],lf(r,n.type,n.name,n.lastModified).then((function(g){try{return s=g,$i(r),of(s).then((function(p){try{return l=p[0],Do.cachedResult=l.width===1&&l.height===2,a(Do.cachedResult)}catch(y){return t(y)}}),t)}catch(p){return t(p)}}),t)}catch(g){return t(g)}}),t)}catch(d){return t(d)}}),t)}))}function Tb(a){return new Promise(((t,n)=>{const r=new pb;r.onload=s=>{const l=new DataView(s.target.result);if(l.getUint16(0,!1)!=65496)return t(-2);const c=l.byteLength;let d=2;for(;d<c;){if(l.getUint16(d+2,!1)<=8)return t(-1);const g=l.getUint16(d,!1);if(d+=2,g==65505){if(l.getUint32(d+=2,!1)!=1165519206)return t(-1);const p=l.getUint16(d+=6,!1)==18761;d+=l.getUint32(d+4,p);const y=l.getUint16(d,p);d+=2;for(let _=0;_<y;_++)if(l.getUint16(d+12*_,p)==274)return t(l.getUint16(d+12*_+8,p))}else{if((65280&g)!=65280)break;d+=l.getUint16(d,!1)}}return t(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(a)}))}function bb(a,t){const{width:n}=a,{height:r}=a,{maxWidthOrHeight:s}=t;let l,c=a;return isFinite(s)&&(n>s||r>s)&&([c,l]=xf(n,r),n>r?(c.width=s,c.height=r/n*s):(c.width=n/r*s,c.height=s),l.drawImage(a,0,0,c.width,c.height),$i(a)),c}function Ab(a,t){const{width:n}=a,{height:r}=a,[s,l]=xf(n,r);switch(t>4&&t<9?(s.width=r,s.height=n):(s.width=n,s.height=r),t){case 2:l.transform(-1,0,0,1,n,0);break;case 3:l.transform(-1,0,0,-1,n,r);break;case 4:l.transform(1,0,0,-1,0,r);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,r,0);break;case 7:l.transform(0,-1,-1,0,r,n);break;case 8:l.transform(0,-1,1,0,0,n)}return l.drawImage(a,0,0,n,r),$i(a),s}function A1(a,t,n=0){return new Promise((function(r,s){let l,c,d,g,p,y,_,E,w,P,z,j,k,at,Y,K,ut,L,M,b;function A(D=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;l+=D,t.onProgress(Math.min(l,100))}function C(D){if(t.signal&&t.signal.aborted)throw t.signal.reason;l=Math.min(Math.max(D,l),100),t.onProgress(l)}return l=n,c=t.maxIteration||10,d=1024*t.maxSizeMB*1024,A(),of(a,t).then((function(D){try{return[,g]=D,A(),p=bb(g,t),A(),new Promise((function(N,I){var q;if(!(q=t.exifOrientation))return Tb(a).then((function(R){try{return q=R,J.call(this)}catch(x){return I(x)}}).bind(this),I);function J(){return N(q)}return J.call(this)})).then((function(N){try{return y=N,A(),Do().then((function(I){try{return _=I?p:Ab(p,y),A(),E=t.initialQuality||1,w=t.fileType||a.type,lf(_,w,a.name,a.lastModified,E).then((function(q){try{{let nt=function(){if(c--&&(Y>d||Y>k)){let rt,U;return rt=b?.95*M.width:M.width,U=b?.95*M.height:M.height,[ut,L]=xf(rt,U),L.drawImage(M,0,0,rt,U),E*=w==="image/png"?.85:.95,lf(ut,w,a.name,a.lastModified,E).then((function(H){try{return K=H,$i(M),M=ut,Y=K.size,C(Math.min(99,Math.floor((at-Y)/(at-d)*100))),nt}catch(ot){return s(ot)}}),s)}return[1]},Q=function(){return $i(M),$i(ut),$i(p),$i(_),$i(g),C(100),r(K)};var R=nt,x=Q;if(P=q,A(),z=P.size>d,j=P.size>a.size,!z&&!j)return C(100),r(P);var J;return k=a.size,at=P.size,Y=at,M=_,b=!t.alwaysKeepResolution&&z,(J=(function(rt){for(;rt;){if(rt.then)return void rt.then(J,s);try{if(rt.pop){if(rt.length)return rt.pop()?Q.call(this):rt;rt=nt}else rt=rt.call(this)}catch(U){return s(U)}}}).bind(this))(nt)}}catch(nt){return s(nt)}}).bind(this),s)}catch(q){return s(q)}}).bind(this),s)}catch(I){return s(I)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)}))}const tC=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Gm;function eC(a,t){return new Promise(((n,r)=>{Gm||(Gm=(function(c){const d=[];return d.push(c),URL.createObjectURL(new Blob(d))})(tC));const s=new Worker(Gm);s.addEventListener("message",(function(c){if(t.signal&&t.signal.aborted)s.terminate();else if(c.data.progress===void 0){if(c.data.error)return r(new Error(c.data.error)),void s.terminate();n(c.data.file),s.terminate()}else t.onProgress(c.data.progress)})),s.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),s.terminate()})),s.postMessage({file:a,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function An(a,t){return new Promise((function(n,r){let s,l,c,d,g,p;if(s={...t},c=0,{onProgress:d}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=w=>{c=w,typeof d=="function"&&d(c)},!(a instanceof Blob||a instanceof $D))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(a.type))return r(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||p)return A1(a,s).then((function(w){try{return l=w,E.call(this)}catch(P){return r(P)}}).bind(this),r);var y=(function(){try{return E.call(this)}catch(w){return r(w)}}).bind(this),_=function(w){try{return A1(a,s).then((function(P){try{return l=P,y()}catch(z){return r(z)}}),r)}catch(P){return r(P)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",eC(a,s).then((function(w){try{return l=w,y()}catch{return _()}}),_)}catch{_()}function E(){try{l.name=a.name,l.lastModified=a.lastModified}catch{}try{s.preserveExif&&a.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===a.type)&&(l=db(a,l))}catch{}return n(l)}}))}An.getDataUrlFromFile=yb,An.getFilefromDataUrl=dp,An.loadImage=_b,An.drawImageInCanvas=Eb,An.drawFileInCanvas=of,An.canvasToFile=lf,An.getExifOrientation=Tb,An.handleMaxWidthOrHeight=bb,An.followExifOrientation=Ab,An.cleanupCanvasMemory=$i,An.isAutoOrientationInBrowser=Do,An.approximateBelowMaximumCanvasSizeOfBrowser=vb,An.copyExifWithoutOrientation=db,An.getBrowserName=hs,An.version="2.0.2";const nC=async a=>{try{const n=await An(a,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),r=await new Promise((l,c)=>{const d=new FileReader;d.readAsDataURL(n),d.onload=()=>l(d.result),d.onerror=g=>c(g)}),s=crypto.randomUUID();return await HD(Yu(No,"receipts",s),{image:r,createdAt:new Date().toISOString()}),s}catch(t){return console.error("Error saving image:",t),null}},iC=async a=>{try{if(!a)return null;const t=Yu(No,"receipts",a),n=await qD(t);return n.exists()?n.data().image:(console.log("No such image document!"),null)}catch(t){return console.error("Error getting image:",t),null}},rC=async a=>{try{if(!a)return;await hb(Yu(No,"receipts",a))}catch(t){console.error("Error deleting image:",t)}},Vf=wA((a,t)=>({expenses:[],loading:!1,fetchExpenses:async()=>{a({loading:!0});try{const r=(await FD(y1(No,"expenses"))).docs.map(s=>({id:s.id,...s.data()}));a({expenses:r,loading:!1})}catch(n){console.error("Error fetching expenses:",n),a({loading:!1})}},addExpense:async n=>{try{const s={id:(await GD(y1(No,"expenses"),n)).id,...n};a(l=>({expenses:[s,...l.expenses]}))}catch(r){console.error("Error adding expense:",r)}},removeExpense:async n=>{try{const r=t().expenses.find(s=>s.id===n);await hb(Yu(No,"expenses",n)),r?.imageId&&await rC(r.imageId),a(s=>({expenses:s.expenses.filter(l=>l.id!==n)}))}catch(r){console.error("Error removing expense:",r)}}})),Sb=6048e5,aC=864e5,wb=6e4,Ib=36e5,S1=Symbol.for("constructDateFrom");function Vr(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&S1 in a?a[S1](t):a instanceof Date?new a.constructor(t):new Date(t)}function ln(a,t){return Vr(t||a,a)}let sC={};function Mf(){return sC}function zu(a,t){const n=Mf(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=ln(a,t?.in),l=s.getDay(),c=(l<r?7:0)+l-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function uf(a,t){return zu(a,{...t,weekStartsOn:1})}function Rb(a,t){const n=ln(a,t?.in),r=n.getFullYear(),s=Vr(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=uf(s),c=Vr(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=uf(c);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function w1(a){const t=ln(a),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+a-+n}function oC(a,...t){const n=Vr.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function I1(a,t){const n=ln(a,t?.in);return n.setHours(0,0,0,0),n}function lC(a,t,n){const[r,s]=oC(n?.in,a,t),l=I1(r),c=I1(s),d=+l-w1(l),g=+c-w1(c);return Math.round((d-g)/aC)}function uC(a,t){const n=Rb(a,t),r=Vr(a,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),uf(r)}function cC(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function hC(a){return!(!cC(a)&&typeof a!="number"||isNaN(+ln(a)))}function fC(a,t){const n=ln(a,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function dC(a,t){const n=ln(a,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function mC(a,t){const n=ln(a,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pC=(a,t,n)=>{let r;const s=gC[a];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Oo(a){return(t={})=>{const n=t.width?String(t.width):a.defaultWidth;return a.formats[n]||a.formats[a.defaultWidth]}}const yC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_C={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EC={date:Oo({formats:yC,defaultWidth:"full"}),time:Oo({formats:_C,defaultWidth:"full"}),dateTime:Oo({formats:vC,defaultWidth:"full"})},TC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bC=(a,t,n,r)=>TC[a];function tr(a){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&a.formattingValues){const c=a.defaultFormattingWidth||a.defaultWidth,d=n?.width?String(n.width):c;s=a.formattingValues[d]||a.formattingValues[c]}else{const c=a.defaultWidth,d=n?.width?String(n.width):a.defaultWidth;s=a.values[d]||a.values[c]}const l=a.argumentCallback?a.argumentCallback(t):t;return s[l]}}const AC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CC=(a,t)=>{const n=Number(a),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xC={ordinalNumber:CC,era:tr({values:AC,defaultWidth:"wide"}),quarter:tr({values:SC,defaultWidth:"wide",argumentCallback:a=>a-1}),month:tr({values:wC,defaultWidth:"wide"}),day:tr({values:IC,defaultWidth:"wide"}),dayPeriod:tr({values:RC,defaultWidth:"wide",formattingValues:DC,defaultFormattingWidth:"wide"})};function er(a){return(t,n={})=>{const r=n.width,s=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],l=t.match(s);if(!l)return null;const c=l[0],d=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],g=Array.isArray(d)?MC(d,_=>_.test(c)):VC(d,_=>_.test(c));let p;p=a.valueCallback?a.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const y=t.slice(c.length);return{value:p,rest:y}}}function VC(a,t){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)&&t(a[n]))return n}function MC(a,t){for(let n=0;n<a.length;n++)if(t(a[n]))return n}function Db(a){return(t,n={})=>{const r=t.match(a.matchPattern);if(!r)return null;const s=r[0],l=t.match(a.parsePattern);if(!l)return null;let c=a.valueCallback?a.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}const NC=/^(\d+)(th|st|nd|rd)?/i,OC=/\d+/i,PC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UC={any:[/^b/i,/^(a|c)/i]},zC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LC={any:[/1/i,/2/i,/3/i,/4/i]},BC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GC={ordinalNumber:Db({matchPattern:NC,parsePattern:OC,valueCallback:a=>parseInt(a,10)}),era:er({matchPatterns:PC,defaultMatchWidth:"wide",parsePatterns:UC,defaultParseWidth:"any"}),quarter:er({matchPatterns:zC,defaultMatchWidth:"wide",parsePatterns:LC,defaultParseWidth:"any",valueCallback:a=>a+1}),month:er({matchPatterns:BC,defaultMatchWidth:"wide",parsePatterns:kC,defaultParseWidth:"any"}),day:er({matchPatterns:jC,defaultMatchWidth:"wide",parsePatterns:qC,defaultParseWidth:"any"}),dayPeriod:er({matchPatterns:FC,defaultMatchWidth:"any",parsePatterns:HC,defaultParseWidth:"any"})},QC={code:"en-US",formatDistance:pC,formatLong:EC,formatRelative:bC,localize:xC,match:GC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YC(a,t){const n=ln(a,t?.in);return lC(n,mC(n))+1}function KC(a,t){const n=ln(a,t?.in),r=+uf(n)-+uC(n);return Math.round(r/Sb)+1}function Cb(a,t){const n=ln(a,t?.in),r=n.getFullYear(),s=Mf(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Vr(t?.in||a,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const d=zu(c,t),g=Vr(t?.in||a,0);g.setFullYear(r,0,l),g.setHours(0,0,0,0);const p=zu(g,t);return+n>=+d?r+1:+n>=+p?r:r-1}function XC(a,t){const n=Mf(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=Cb(a,t),l=Vr(t?.in||a,0);return l.setFullYear(s,0,r),l.setHours(0,0,0,0),zu(l,t)}function ZC(a,t){const n=ln(a,t?.in),r=+zu(n,t)-+XC(n,t);return Math.round(r/Sb)+1}function oe(a,t){const n=a<0?"-":"",r=Math.abs(a).toString().padStart(t,"0");return n+r}const da={y(a,t){const n=a.getFullYear(),r=n>0?n:1-n;return oe(t==="yy"?r%100:r,t.length)},M(a,t){const n=a.getMonth();return t==="M"?String(n+1):oe(n+1,2)},d(a,t){return oe(a.getDate(),t.length)},a(a,t){const n=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(a,t){return oe(a.getHours()%12||12,t.length)},H(a,t){return oe(a.getHours(),t.length)},m(a,t){return oe(a.getMinutes(),t.length)},s(a,t){return oe(a.getSeconds(),t.length)},S(a,t){const n=t.length,r=a.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return oe(s,t.length)}},bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R1={G:function(a,t,n){const r=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(a,t,n){if(t==="yo"){const r=a.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return da.y(a,t)},Y:function(a,t,n,r){const s=Cb(a,r),l=s>0?s:1-s;if(t==="YY"){const c=l%100;return oe(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):oe(l,t.length)},R:function(a,t){const n=Rb(a);return oe(n,t.length)},u:function(a,t){const n=a.getFullYear();return oe(n,t.length)},Q:function(a,t,n){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return oe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(a,t,n){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return oe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(a,t,n){const r=a.getMonth();switch(t){case"M":case"MM":return da.M(a,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(a,t,n){const r=a.getMonth();switch(t){case"L":return String(r+1);case"LL":return oe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(a,t,n,r){const s=ZC(a,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):oe(s,t.length)},I:function(a,t,n){const r=KC(a);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):oe(r,t.length)},d:function(a,t,n){return t==="do"?n.ordinalNumber(a.getDate(),{unit:"date"}):da.d(a,t)},D:function(a,t,n){const r=YC(a);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):oe(r,t.length)},E:function(a,t,n){const r=a.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(a,t,n,r){const s=a.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return oe(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(a,t,n,r){const s=a.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return oe(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(a,t,n){const r=a.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return oe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(a,t,n){const s=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(a,t,n){const r=a.getHours();let s;switch(r===12?s=bo.noon:r===0?s=bo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(a,t,n){const r=a.getHours();let s;switch(r>=17?s=bo.evening:r>=12?s=bo.afternoon:r>=4?s=bo.morning:s=bo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(a,t,n){if(t==="ho"){let r=a.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return da.h(a,t)},H:function(a,t,n){return t==="Ho"?n.ordinalNumber(a.getHours(),{unit:"hour"}):da.H(a,t)},K:function(a,t,n){const r=a.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):oe(r,t.length)},k:function(a,t,n){let r=a.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):oe(r,t.length)},m:function(a,t,n){return t==="mo"?n.ordinalNumber(a.getMinutes(),{unit:"minute"}):da.m(a,t)},s:function(a,t,n){return t==="so"?n.ordinalNumber(a.getSeconds(),{unit:"second"}):da.s(a,t)},S:function(a,t){return da.S(a,t)},X:function(a,t,n){const r=a.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return C1(r);case"XXXX":case"XX":return as(r);default:return as(r,":")}},x:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"x":return C1(r);case"xxxx":case"xx":return as(r);default:return as(r,":")}},O:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+D1(r,":");default:return"GMT"+as(r,":")}},z:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+D1(r,":");default:return"GMT"+as(r,":")}},t:function(a,t,n){const r=Math.trunc(+a/1e3);return oe(r,t.length)},T:function(a,t,n){return oe(+a,t.length)}};function D1(a,t=""){const n=a>0?"-":"+",r=Math.abs(a),s=Math.trunc(r/60),l=r%60;return l===0?n+String(s):n+String(s)+t+oe(l,2)}function C1(a,t){return a%60===0?(a>0?"-":"+")+oe(Math.abs(a)/60,2):as(a,t)}function as(a,t=""){const n=a>0?"-":"+",r=Math.abs(a),s=oe(Math.trunc(r/60),2),l=oe(r%60,2);return n+s+t+l}const x1=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},xb=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},WC=(a,t)=>{const n=a.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return x1(a,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",x1(r,t)).replace("{{time}}",xb(s,t))},JC={p:xb,P:WC},$C=/^D+$/,t4=/^Y+$/,e4=["D","DD","YY","YYYY"];function n4(a){return $C.test(a)}function i4(a){return t4.test(a)}function r4(a,t,n){const r=a4(a,t,n);if(console.warn(r),e4.includes(a))throw new RangeError(r)}function a4(a,t,n){const r=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l4=/^'([^]*?)'?$/,u4=/''/g,c4=/[a-zA-Z]/;function Lu(a,t,n){const r=Mf(),s=n?.locale??r.locale??QC,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=ln(a,n?.in);if(!hC(d))throw new RangeError("Invalid time value");let g=t.match(o4).map(y=>{const _=y[0];if(_==="p"||_==="P"){const E=JC[_];return E(y,s.formatLong)}return y}).join("").match(s4).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:h4(y)};if(R1[_])return{isToken:!0,value:y};if(_.match(c4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(g=s.localize.preprocessor(d,g));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return g.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!n?.useAdditionalWeekYearTokens&&i4(_)||!n?.useAdditionalDayOfYearTokens&&n4(_))&&r4(_,t,String(a));const E=R1[_[0]];return E(d,_,s.localize,p)}).join("")}function h4(a){const t=a.match(l4);return t?t[1].replace(u4,"'"):a}function f4(a,t,n){const r=+ln(a,n?.in),[s,l]=[+ln(t.start,n?.in),+ln(t.end,n?.in)].sort((c,d)=>c-d);return r>=s&&r<=l}function Vb(a,t){const n=()=>Vr(t?.in,NaN),s=p4(a);let l;if(s.date){const p=y4(s.date,2);l=_4(p.restDateString,p.year)}if(!l||isNaN(+l))return n();const c=+l;let d=0,g;if(s.time&&(d=v4(s.time),isNaN(d)))return n();if(s.timezone){if(g=E4(s.timezone),isNaN(g))return n()}else{const p=new Date(c+d),y=ln(0,t?.in);return y.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),y.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),y}return ln(c+d+g,t?.in)}const Sh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,g4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p4(a){const t={},n=a.split(Sh.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Sh.timeZoneDelimiter.test(t.date)&&(t.date=a.split(Sh.timeZoneDelimiter)[0],r=a.substr(t.date.length,a.length))),r){const s=Sh.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function y4(a,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=a.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?s:l*100,restDateString:a.slice((r[1]||r[2]).length)}}function _4(a,t){if(t===null)return new Date(NaN);const n=a.match(d4);if(!n)return new Date(NaN);const r=!!n[4],s=ou(n[1]),l=ou(n[2])-1,c=ou(n[3]),d=ou(n[4]),g=ou(n[5])-1;if(r)return w4(t,d,g)?T4(t,d,g):new Date(NaN);{const p=new Date(0);return!A4(t,l,c)||!S4(t,s)?new Date(NaN):(p.setUTCFullYear(t,l,Math.max(s,c)),p)}}function ou(a){return a?parseInt(a):1}function v4(a){const t=a.match(m4);if(!t)return NaN;const n=Qm(t[1]),r=Qm(t[2]),s=Qm(t[3]);return I4(n,r,s)?n*Ib+r*wb+s*1e3:NaN}function Qm(a){return a&&parseFloat(a.replace(",","."))||0}function E4(a){if(a==="Z")return 0;const t=a.match(g4);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return R4(r,s)?n*(r*Ib+s*wb):NaN}function T4(a,t,n){const r=new Date(0);r.setUTCFullYear(a,0,4);const s=r.getUTCDay()||7,l=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+l),r}const b4=[31,null,31,30,31,30,31,31,30,31,30,31];function Mb(a){return a%400===0||a%4===0&&a%100!==0}function A4(a,t,n){return t>=0&&t<=11&&n>=1&&n<=(b4[t]||(Mb(a)?29:28))}function S4(a,t){return t>=1&&t<=(Mb(a)?366:365)}function w4(a,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function I4(a,t,n){return a===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&a>=0&&a<25}function R4(a,t){return t>=0&&t<=59}const D4=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C4=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),V1=a=>{const t=C4(a);return t.charAt(0).toUpperCase()+t.slice(1)},Nb=(...a)=>a.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),x4=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var V4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const M4=wn.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},g)=>wn.createElement("svg",{ref:g,...V4,width:t,height:t,stroke:a,strokeWidth:r?Number(n)*24/Number(t):n,className:Nb("lucide",s),...!l&&!x4(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>wn.createElement(p,y)),...Array.isArray(l)?l:[l]]));const $o=(a,t)=>{const n=wn.forwardRef(({className:r,...s},l)=>wn.createElement(M4,{ref:l,iconNode:t,className:Nb(`lucide-${D4(V1(a))}`,`lucide-${a}`,r),...s}));return n.displayName=V1(a),n};const N4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],O4=$o("camera",N4);const P4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],U4=$o("circle-plus",P4);const z4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],L4=$o("image",z4);const B4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],k4=$o("trash-2",B4);const j4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],q4=$o("wallet",j4);const F4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ob=$o("x",F4),H4=()=>{const a=Vf(P=>P.addExpense),[t,n]=wn.useState(""),[r,s]=wn.useState(""),[l,c]=wn.useState(Lu(new Date,"yyyy-MM-dd")),[d,g]=wn.useState(null),[p,y]=wn.useState(null),_=P=>{const z=P.target.files[0];z&&(g(z),y(URL.createObjectURL(z)))},E=()=>{g(null),y(null)},w=async P=>{if(P.preventDefault(),!t||!r)return;let z=null;d&&(z=await nC(d)),a({amount:parseFloat(t),description:r,date:l,imageId:z}),n(""),s(""),c(Lu(new Date,"yyyy-MM-dd")),E()};return bt.jsxs("form",{onSubmit:w,className:"bg-white p-6 rounded-2xl shadow-md mb-6 border border-gray-100",children:[bt.jsxs("div",{className:"mb-4",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Valor"}),bt.jsx("input",{type:"number",value:t,onChange:P=>n(P.target.value),placeholder:"0",className:"w-full text-3xl font-bold p-3 border-b-2 border-gray-200 focus:border-blue-500 outline-none transition-colors placeholder-gray-300",inputMode:"decimal",required:!0})]}),bt.jsxs("div",{className:"mb-4",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Descripcin"}),bt.jsx("input",{type:"text",value:r,onChange:P=>s(P.target.value),placeholder:"Ej: Medicamentos",className:"w-full text-lg p-3 bg-gray-50 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),bt.jsxs("div",{className:"mb-6",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Fecha"}),bt.jsx("input",{type:"date",value:l,onChange:P=>c(P.target.value),className:"w-full text-lg p-3 bg-gray-50 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),bt.jsxs("div",{className:"mb-6",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Foto / Recibo (Opcional)"}),p?bt.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:[bt.jsx("img",{src:p,alt:"Preview",className:"w-full h-full object-contain"}),bt.jsx("button",{type:"button",onClick:E,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full shadow-md hover:bg-red-600 transition-colors",children:bt.jsx(Ob,{size:20})})]}):bt.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[bt.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[bt.jsx(O4,{className:"w-8 h-8 text-gray-400 mb-2"}),bt.jsx("p",{className:"text-sm text-gray-500",children:"Toca para agregar foto"})]}),bt.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_})]})]}),bt.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95 text-lg",children:[bt.jsx(U4,{size:24}),"Agregar Gasto"]})]})},G4={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Q4=(a,t,n)=>{let r;const s=G4[a];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Y4={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},K4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},X4={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Z4={date:Oo({formats:Y4,defaultWidth:"full"}),time:Oo({formats:K4,defaultWidth:"full"}),dateTime:Oo({formats:X4,defaultWidth:"full"})},W4={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},J4={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},$4=(a,t,n,r)=>t.getHours()!==1?J4[a]:W4[a],tx={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},ex={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},nx={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},ix={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},rx={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},ax={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},sx=(a,t)=>Number(a)+"",ox={ordinalNumber:sx,era:tr({values:tx,defaultWidth:"wide"}),quarter:tr({values:ex,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:tr({values:nx,defaultWidth:"wide"}),day:tr({values:ix,defaultWidth:"wide"}),dayPeriod:tr({values:rx,defaultWidth:"wide",formattingValues:ax,defaultFormattingWidth:"wide"})},lx=/^(\d+)()?/i,ux=/\d+/i,cx={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},hx={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},fx={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},dx={any:[/1/i,/2/i,/3/i,/4/i]},mx={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},gx={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},px={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},yx={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},_x={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},vx={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Ex={ordinalNumber:Db({matchPattern:lx,parsePattern:ux,valueCallback:function(a){return parseInt(a,10)}}),era:er({matchPatterns:cx,defaultMatchWidth:"wide",parsePatterns:hx,defaultParseWidth:"any"}),quarter:er({matchPatterns:fx,defaultMatchWidth:"wide",parsePatterns:dx,defaultParseWidth:"any",valueCallback:a=>a+1}),month:er({matchPatterns:mx,defaultMatchWidth:"wide",parsePatterns:gx,defaultParseWidth:"any"}),day:er({matchPatterns:px,defaultMatchWidth:"wide",parsePatterns:yx,defaultParseWidth:"any"}),dayPeriod:er({matchPatterns:_x,defaultMatchWidth:"any",parsePatterns:vx,defaultParseWidth:"any"})},bg={code:"es",formatDistance:Q4,formatLong:Z4,formatRelative:$4,localize:ox,match:Ex,options:{weekStartsOn:1,firstWeekContainsDate:1}},Tx=({imageId:a,onClose:t})=>{const[n,r]=wn.useState(null);return wn.useEffect(()=>{let s=!0;return iC(a).then(l=>{s&&l&&r(l)}),()=>{s=!1}},[a]),n?bt.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:t,children:bt.jsxs("div",{className:"relative max-w-full max-h-full",children:[bt.jsx("button",{onClick:t,className:"absolute -top-10 right-0 text-white p-2",children:bt.jsx(Ob,{size:30})}),bt.jsx("img",{src:n,alt:"Recibo",className:"max-w-full max-h-[80vh] rounded-lg shadow-2xl"})]})}):null},bx=()=>{const{expenses:a,removeExpense:t}=Vf(),[n,r]=wn.useState(null),l=[...a].sort((c,d)=>new Date(d.date)-new Date(c.date)).reduce((c,d)=>{const g=d.date.substring(0,7);return c[g]||(c[g]=[]),c[g].push(d),c},{});return bt.jsxs("div",{className:"space-y-6",children:[Object.keys(l).sort().reverse().map(c=>{const[d,g]=c.split("-"),p=new Date(parseInt(d),parseInt(g)-1),y=Lu(p,"MMMM yyyy",{locale:bg});return bt.jsxs("div",{children:[bt.jsx("h3",{className:"text-gray-500 font-bold mb-3 px-2 sticky top-0 bg-gray-50 py-2 capitalize",children:y}),bt.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:l[c].map(_=>bt.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50 transition-colors",children:[bt.jsxs("div",{className:"flex flex-col",children:[bt.jsx("span",{className:"font-medium text-gray-800 text-lg",children:_.description}),bt.jsx("span",{className:"text-gray-400 text-sm",children:Lu(Vb(_.date),"dd MMM",{locale:bg})})]}),bt.jsxs("div",{className:"flex items-center gap-3",children:[_.imageId&&bt.jsx("button",{onClick:()=>r(_.imageId),className:"text-blue-500 hover:text-blue-700 p-2 rounded-full hover:bg-blue-50 transition-colors","aria-label":"Ver recibo",children:bt.jsx(L4,{size:20})}),bt.jsxs("span",{className:"font-bold text-gray-900 text-lg",children:["$",_.amount.toLocaleString("es-CO")]}),bt.jsx("button",{onClick:()=>t(_.id),className:"text-red-400 hover:text-red-600 p-1.5 rounded-full hover:bg-red-50 transition-colors","aria-label":"Eliminar",children:bt.jsx(k4,{size:20})})]})]},_.id))})]},c)}),a.length===0&&bt.jsx("div",{className:"text-center py-10 text-gray-400",children:bt.jsx("p",{children:"No hay gastos registrados an."})}),n&&bt.jsx(Tx,{imageId:n,onClose:()=>r(null)})]})},Ax=()=>{const a=Vf(c=>c.expenses),t=new Date,n=dC(t),r=fC(t),s=a.filter(c=>{const d=Vb(c.date);return f4(d,{start:n,end:r})}).reduce((c,d)=>c+parseFloat(d.amount||0),0),l=Lu(t,"MMMM",{locale:bg});return bt.jsxs("div",{className:"bg-blue-600 text-white p-6 rounded-2xl shadow-lg mb-6",children:[bt.jsxs("h2",{className:"text-xl opacity-90 capitalize",children:["Gastos de ",l]}),bt.jsxs("p",{className:"text-5xl font-bold mt-2",children:["$",s.toLocaleString("es-CO")]})]})};function Sx(){const a=Vf(t=>t.fetchExpenses);return wn.useEffect(()=>{a()},[a]),bt.jsx("div",{className:"min-h-screen bg-gray-50 text-gray-900 pb-20",children:bt.jsxs("div",{className:"max-w-md mx-auto p-4",children:[bt.jsxs("header",{className:"flex items-center gap-3 py-6 px-2",children:[bt.jsx("div",{className:"bg-blue-600 p-2 rounded-xl text-white",children:bt.jsx(q4,{size:28})}),bt.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-800",children:"Abuelo Gastos"})]}),bt.jsxs("main",{children:[bt.jsx(Ax,{}),bt.jsx(H4,{}),bt.jsx(bx,{})]})]})})}TA.createRoot(document.getElementById("root")).render(bt.jsx(wn.StrictMode,{children:bt.jsx(Sx,{})}));
