(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function MA(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Pm={exports:{}},ru={};var qv;function NA(){if(qv)return ru;qv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:a,type:i,key:c,ref:s!==void 0?s:null,props:l}}return ru.Fragment=t,ru.jsx=n,ru.jsxs=n,ru}var Hv;function OA(){return Hv||(Hv=1,Pm.exports=NA()),Pm.exports}var It=OA(),Um={exports:{}},Bt={};var Gv;function PA(){if(Gv)return Bt;Gv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function L(U,F,ot){this.props=U,this.context=F,this.refs=k,this.updater=ot||M}L.prototype.isReactComponent={},L.prototype.setState=function(U,F){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,F,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function nt(){}nt.prototype=L.prototype;function Q(U,F,ot){this.props=U,this.context=F,this.refs=k,this.updater=ot||M}var Y=Q.prototype=new nt;Y.constructor=Q,z(Y,L.prototype),Y.isPureReactComponent=!0;var at=Array.isArray;function B(){}var V={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function A(U,F,ot){var et=ot.ref;return{$$typeof:a,type:U,key:F,ref:et!==void 0?et:null,props:ot}}function x(U,F){return A(U.type,F,U.props)}function C(U){return typeof U=="object"&&U!==null&&U.$$typeof===a}function N(U){var F={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ot){return F[ot]})}var D=/\/+/g;function q(U,F){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):F.toString(36)}function W(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(B,B):(U.status="pending",U.then(function(F){U.status==="pending"&&(U.status="fulfilled",U.value=F)},function(F){U.status==="pending"&&(U.status="rejected",U.reason=F)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function I(U,F,ot,et,Z){var pt=typeof U;(pt==="undefined"||pt==="boolean")&&(U=null);var St=!1;if(U===null)St=!0;else switch(pt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(U.$$typeof){case a:case t:St=!0;break;case y:return St=U._init,I(St(U._payload),F,ot,et,Z)}}if(St)return Z=Z(U),St=et===""?"."+q(U,0):et,at(Z)?(ot="",St!=null&&(ot=St.replace(D,"$&/")+"/"),I(Z,F,ot,"",function(Xt){return Xt})):Z!=null&&(C(Z)&&(Z=x(Z,ot+(Z.key==null||U&&U.key===Z.key?"":(""+Z.key).replace(D,"$&/")+"/")+St)),F.push(Z)),1;St=0;var Nt=et===""?".":et+":";if(at(U))for(var Ct=0;Ct<U.length;Ct++)et=U[Ct],pt=Nt+q(et,Ct),St+=I(et,F,ot,pt,Z);else if(Ct=w(U),typeof Ct=="function")for(U=Ct.call(U),Ct=0;!(et=U.next()).done;)et=et.value,pt=Nt+q(et,Ct++),St+=I(et,F,ot,pt,Z);else if(pt==="object"){if(typeof U.then=="function")return I(W(U),F,ot,et,Z);throw F=String(U),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return St}function R(U,F,ot){if(U==null)return U;var et=[],Z=0;return I(U,et,"","",function(pt){return F.call(ot,pt,Z++)}),et}function K(U){if(U._status===-1){var F=U._result;F=F(),F.then(function(ot){(U._status===0||U._status===-1)&&(U._status=1,U._result=ot)},function(ot){(U._status===0||U._status===-1)&&(U._status=2,U._result=ot)}),U._status===-1&&(U._status=0,U._result=F)}if(U._status===1)return U._result.default;throw U._result}var G=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},J={map:R,forEach:function(U,F,ot){R(U,function(){F.apply(this,arguments)},ot)},count:function(U){var F=0;return R(U,function(){F++}),F},toArray:function(U){return R(U,function(F){return F})||[]},only:function(U){if(!C(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Bt.Activity=v,Bt.Children=J,Bt.Component=L,Bt.Fragment=n,Bt.Profiler=s,Bt.PureComponent=Q,Bt.StrictMode=i,Bt.Suspense=g,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return V.H.useMemoCache(U)}},Bt.cache=function(U){return function(){return U.apply(null,arguments)}},Bt.cacheSignal=function(){return null},Bt.cloneElement=function(U,F,ot){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var et=z({},U.props),Z=U.key;if(F!=null)for(pt in F.key!==void 0&&(Z=""+F.key),F)!T.call(F,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&F.ref===void 0||(et[pt]=F[pt]);var pt=arguments.length-2;if(pt===1)et.children=ot;else if(1<pt){for(var St=Array(pt),Nt=0;Nt<pt;Nt++)St[Nt]=arguments[Nt+2];et.children=St}return A(U.type,Z,et)},Bt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Bt.createElement=function(U,F,ot){var et,Z={},pt=null;if(F!=null)for(et in F.key!==void 0&&(pt=""+F.key),F)T.call(F,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(Z[et]=F[et]);var St=arguments.length-2;if(St===1)Z.children=ot;else if(1<St){for(var Nt=Array(St),Ct=0;Ct<St;Ct++)Nt[Ct]=arguments[Ct+2];Z.children=Nt}if(U&&U.defaultProps)for(et in St=U.defaultProps,St)Z[et]===void 0&&(Z[et]=St[et]);return A(U,pt,Z)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(U){return{$$typeof:d,render:U}},Bt.isValidElement=C,Bt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:K}},Bt.memo=function(U,F){return{$$typeof:p,type:U,compare:F===void 0?null:F}},Bt.startTransition=function(U){var F=V.T,ot={};V.T=ot;try{var et=U(),Z=V.S;Z!==null&&Z(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(B,G)}catch(pt){G(pt)}finally{F!==null&&ot.types!==null&&(F.types=ot.types),V.T=F}},Bt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Bt.use=function(U){return V.H.use(U)},Bt.useActionState=function(U,F,ot){return V.H.useActionState(U,F,ot)},Bt.useCallback=function(U,F){return V.H.useCallback(U,F)},Bt.useContext=function(U){return V.H.useContext(U)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(U,F){return V.H.useDeferredValue(U,F)},Bt.useEffect=function(U,F){return V.H.useEffect(U,F)},Bt.useEffectEvent=function(U){return V.H.useEffectEvent(U)},Bt.useId=function(){return V.H.useId()},Bt.useImperativeHandle=function(U,F,ot){return V.H.useImperativeHandle(U,F,ot)},Bt.useInsertionEffect=function(U,F){return V.H.useInsertionEffect(U,F)},Bt.useLayoutEffect=function(U,F){return V.H.useLayoutEffect(U,F)},Bt.useMemo=function(U,F){return V.H.useMemo(U,F)},Bt.useOptimistic=function(U,F){return V.H.useOptimistic(U,F)},Bt.useReducer=function(U,F,ot){return V.H.useReducer(U,F,ot)},Bt.useRef=function(U){return V.H.useRef(U)},Bt.useState=function(U){return V.H.useState(U)},Bt.useSyncExternalStore=function(U,F,ot){return V.H.useSyncExternalStore(U,F,ot)},Bt.useTransition=function(){return V.H.useTransition()},Bt.version="19.2.3",Bt}var Qv;function Vg(){return Qv||(Qv=1,Um.exports=PA()),Um.exports}var de=Vg();const ti=MA(de);var zm={exports:{}},iu={},Lm={exports:{}},Bm={};var Yv;function UA(){return Yv||(Yv=1,(function(a){function t(I,R){var K=I.length;I.push(R);t:for(;0<K;){var G=K-1>>>1,J=I[G];if(0<s(J,R))I[G]=R,I[K]=J,K=G;else break t}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var R=I[0],K=I.pop();if(K!==R){I[0]=K;t:for(var G=0,J=I.length,U=J>>>1;G<U;){var F=2*(G+1)-1,ot=I[F],et=F+1,Z=I[et];if(0>s(ot,K))et<J&&0>s(Z,ot)?(I[G]=Z,I[et]=K,G=et):(I[G]=ot,I[F]=K,G=F);else if(et<J&&0>s(Z,K))I[G]=Z,I[et]=K,G=et;else break t}}return R}function s(I,R){var K=I.sortIndex-R.sortIndex;return K!==0?K:I.id-R.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var g=[],p=[],y=1,v=null,E=3,w=!1,M=!1,z=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Y(I){for(var R=n(p);R!==null;){if(R.callback===null)i(p);else if(R.startTime<=I)i(p),R.sortIndex=R.expirationTime,t(g,R);else break;R=n(p)}}function at(I){if(z=!1,Y(I),!M)if(n(g)!==null)M=!0,B||(B=!0,N());else{var R=n(p);R!==null&&W(at,R.startTime-I)}}var B=!1,V=-1,T=5,A=-1;function x(){return k?!0:!(a.unstable_now()-A<T)}function C(){if(k=!1,B){var I=a.unstable_now();A=I;var R=!0;try{t:{M=!1,z&&(z=!1,nt(V),V=-1),w=!0;var K=E;try{e:{for(Y(I),v=n(g);v!==null&&!(v.expirationTime>I&&x());){var G=v.callback;if(typeof G=="function"){v.callback=null,E=v.priorityLevel;var J=G(v.expirationTime<=I);if(I=a.unstable_now(),typeof J=="function"){v.callback=J,Y(I),R=!0;break e}v===n(g)&&i(g),Y(I)}else i(g);v=n(g)}if(v!==null)R=!0;else{var U=n(p);U!==null&&W(at,U.startTime-I),R=!1}}break t}finally{v=null,E=K,w=!1}R=void 0}}finally{R?N():B=!1}}}var N;if(typeof Q=="function")N=function(){Q(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=C,N=function(){q.postMessage(null)}}else N=function(){L(C,0)};function W(I,R){V=L(function(){I(a.unstable_now())},R)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(I){switch(E){case 1:case 2:case 3:var R=3;break;default:R=E}var K=E;E=R;try{return I()}finally{E=K}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=E;E=I;try{return R()}finally{E=K}},a.unstable_scheduleCallback=function(I,R,K){var G=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?G+K:G):K=G,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,I={id:y++,callback:R,priorityLevel:I,startTime:K,expirationTime:J,sortIndex:-1},K>G?(I.sortIndex=K,t(p,I),n(g)===null&&I===n(p)&&(z?(nt(V),V=-1):z=!0,W(at,K-G))):(I.sortIndex=J,t(g,I),M||w||(M=!0,B||(B=!0,N()))),I},a.unstable_shouldYield=x,a.unstable_wrapCallback=function(I){var R=E;return function(){var K=E;E=R;try{return I.apply(this,arguments)}finally{E=K}}}})(Bm)),Bm}var Kv;function zA(){return Kv||(Kv=1,Lm.exports=UA()),Lm.exports}var km={exports:{}},Sn={};var Xv;function LA(){if(Xv)return Sn;Xv=1;var a=Vg();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(g,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:g,containerInfo:p,implementation:y}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(g,p,null,y)},Sn.flushSync=function(g){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,g)return g()}finally{c.T=p,i.p=y,i.d.f()}},Sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Sn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(g,{crossOrigin:v,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);i.d.L(g,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Sn.requestFormReset=function(g){i.d.r(g)},Sn.unstable_batchedUpdates=function(g,p){return g(p)},Sn.useFormState=function(g,p,y){return c.H.useFormState(g,p,y)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var Zv;function BA(){if(Zv)return km.exports;Zv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),km.exports=LA(),km.exports}var Wv;function kA(){if(Wv)return iu;Wv=1;var a=zA(),t=Vg(),n=BA();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var r=e,o=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(o=r.return),e=r.return;while(e)}return r.tag===3?o:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function g(e){if(l(e)!==e)throw Error(i(188))}function p(e){var r=e.alternate;if(!r){if(r=l(e),r===null)throw Error(i(188));return r!==e?null:e}for(var o=e,u=r;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return g(h),e;if(m===u)return g(h),r;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=m;else{for(var b=!1,O=h.child;O;){if(O===o){b=!0,o=h,u=m;break}if(O===u){b=!0,u=h,o=m;break}O=O.sibling}if(!b){for(O=m.child;O;){if(O===o){b=!0,o=m,u=h;break}if(O===u){b=!0,u=m,o=h;break}O=O.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:r}function y(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=y(e),r!==null)return r;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case L:return"Profiler";case k:return"StrictMode";case at:return"Suspense";case B:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case Q:return e.displayName||"Context";case nt:return(e._context.displayName||"Context")+".Consumer";case Y:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return r=e.displayName||null,r!==null?r:q(e.type)||"Memo";case T:r=e._payload,e=e._init;try{return q(e(r))}catch{}}return null}var W=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},G=[],J=-1;function U(e){return{current:e}}function F(e){0>J||(e.current=G[J],G[J]=null,J--)}function ot(e,r){J++,G[J]=e.current,e.current=r}var et=U(null),Z=U(null),pt=U(null),St=U(null);function Nt(e,r){switch(ot(pt,r),ot(Z,e),ot(et,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?hv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=hv(r),e=dv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(et),ot(et,e)}function Ct(){F(et),F(Z),F(pt)}function Xt(e){e.memoizedState!==null&&ot(St,e);var r=et.current,o=dv(r,e.type);r!==o&&(ot(Z,e),ot(et,o))}function ae(e){Z.current===e&&(F(et),F(Z)),St.current===e&&(F(St),Jl._currentValue=K)}var pe,Tn;function Ne(e){if(pe===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);pe=r&&r[1]||"",Tn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Tn}var ne=!1;function Se(e,r){if(!e||ne)return"";ne=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(ut){var st=ut}Reflect.construct(e,[],ht)}else{try{ht.call()}catch(ut){st=ut}e.call(ht.prototype)}}else{try{throw Error()}catch(ut){st=ut}(ht=e())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(ut){if(ut&&st&&typeof ut.stack=="string")return[ut.stack,st.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],O=m[1];if(b&&O){var j=b.split(`
`),it=O.split(`
`);for(h=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;h<it.length&&!it[h].includes("DetermineComponentFrameRoot");)h++;if(u===j.length||h===it.length)for(u=j.length-1,h=it.length-1;1<=u&&0<=h&&j[u]!==it[h];)h--;for(;1<=u&&0<=h;u--,h--)if(j[u]!==it[h]){if(u!==1||h!==1)do if(u--,h--,0>h||j[u]!==it[h]){var ct=`
`+j[u].replace(" at new "," at ");return e.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",e.displayName)),ct}while(1<=u&&0<=h);break}}}finally{ne=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Ne(o):""}function gt(e,r){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==r&&r!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Se(e.type,!1);case 11:return Se(e.type.render,!1);case 1:return Se(e.type,!0);case 31:return Ne("Activity");default:return""}}function yt(e){try{var r="",o=null;do r+=gt(e,o),o=e,e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _t=Object.prototype.hasOwnProperty,Rt=a.unstable_scheduleCallback,Lt=a.unstable_cancelCallback,kt=a.unstable_shouldYield,Mt=a.unstable_requestPaint,Ot=a.unstable_now,se=a.unstable_getCurrentPriorityLevel,Oe=a.unstable_ImmediatePriority,Pn=a.unstable_UserBlockingPriority,we=a.unstable_NormalPriority,Er=a.unstable_LowPriority,qe=a.unstable_IdlePriority,bn=a.log,hn=a.unstable_setDisableYieldValue,Be=null,ye=null;function He(e){if(typeof bn=="function"&&hn(e),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Be,e)}catch{}}var Ie=Math.clz32?Math.clz32:Ca,xs=Math.log,Or=Math.LN2;function Ca(e){return e>>>=0,e===0?32:31-(xs(e)/Or|0)|0}var An=256,li=262144,le=4194304;function en(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dn(e,r,o){var u=e.pendingLanes;if(u===0)return 0;var h=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var O=u&134217727;return O!==0?(u=O&~m,u!==0?h=en(u):(b&=O,b!==0?h=en(b):o||(o=O&~e,o!==0&&(h=en(o))))):(O=u&~m,O!==0?h=en(O):b!==0?h=en(b):o||(o=u&~e,o!==0&&(h=en(o)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:h}function mn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Vs(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(){var e=le;return le<<=1,(le&62914560)===0&&(le=4194304),e}function sn(e){for(var r=[],o=0;31>o;o++)r.push(e);return r}function xa(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,r,o,u,h,m){var b=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var O=e.entanglements,j=e.expirationTimes,it=e.hiddenUpdates;for(o=b&~o;0<o;){var ct=31-Ie(o),ht=1<<ct;O[ct]=0,j[ct]=-1;var st=it[ct];if(st!==null)for(it[ct]=null,ct=0;ct<st.length;ct++){var ut=st[ct];ut!==null&&(ut.lane&=-536870913)}o&=~ht}u!==0&&Va(e,u,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~r))}function Va(e,r,o){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-Ie(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|o&261930}function il(e,r){var o=e.entangledLanes|=r;for(e=e.entanglements;o;){var u=31-Ie(o),h=1<<u;h&r|e[u]&r&&(e[u]|=r),o&=~h}}function al(e,r){var o=r&-r;return o=(o&42)!==0?1:Ma(o),(o&(e.suspendedLanes|r))!==0?0:o}function Ma(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=R.p;return e!==0?e:(e=window.event,e===void 0?32:Uv(e.type))}function Tr(e,r){var o=R.p;try{return R.p=e,r()}finally{R.p=o}}var br=Math.random().toString(36).slice(2),Ge="__reactFiber$"+br,on="__reactProps$"+br,Pr="__reactContainer$"+br,Ms="__reactEvents$"+br,jh="__reactListeners$"+br,ec="__reactHandles$"+br,nc="__reactResources$"+br,Ur="__reactMarker$"+br;function Ns(e){delete e[Ge],delete e[on],delete e[Ms],delete e[jh],delete e[ec]}function zr(e){var r=e[Ge];if(r)return r;for(var o=e.parentNode;o;){if(r=o[Pr]||o[Ge]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(e=Ev(e);e!==null;){if(o=e[Ge])return o;e=Ev(e)}return r}e=o,o=e.parentNode}return null}function ir(e){if(e=e[Ge]||e[Pr]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Gn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function Lr(e){var r=e[nc];return r||(r=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qe(e){e[Ur]=!0}var sl=new Set,ol={};function Br(e,r){kr(e,r),kr(e+"Capture",r)}function kr(e,r){for(ol[e]=r,e=0;e<r.length;e++)sl.add(r[e])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function rc(e){return _t.call(cl,e)?!0:_t.call(ul,e)?!1:ll.test(e)?cl[e]=!0:(ul[e]=!0,!1)}function Os(e,r,o){if(rc(r))if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+o)}}function Qn(e,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+o)}}function Ye(e,r,o,u){if(u===null)e.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(r,o,""+u)}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oi(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fl(e,r,o){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){o=""+b,m.call(this,b)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ue(e){if(!e._valueTracker){var r=Oi(e)?"checked":"value";e._valueTracker=fl(e,r,""+e[r])}}function Na(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return e&&(u=Oi(e)?e.checked?"true":"false":e.value),e=u,e!==o?(r.setValue(e),!0):!1}function jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Oa=/[\n"\\]/g;function Un(e){return e.replace(Oa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ps(e,r,o,u,h,m,b,O){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),r!=null?b==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+ln(r)):e.value!==""+ln(r)&&(e.value=""+ln(r)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),r!=null?hl(e,b,ln(r)):o!=null?hl(e,b,ln(o)):u!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+ln(O):e.removeAttribute("name")}function ic(e,r,o,u,h,m,b,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){ue(e);return}o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,O||r===e.value||(e.value=r),e.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=O?e.checked:!!u,e.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),ue(e)}function hl(e,r,o){r==="number"&&jr(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Pi(e,r,o,u){if(e=e.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=r.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&u&&(e[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function ac(e,r,o){if(r!=null&&(r=""+ln(r),r!==e.value&&(e.value=r),o==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=o!=null?""+ln(o):""}function Ui(e,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(W(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ln(r),e.defaultValue=o,u=e.textContent,u===o&&u!==""&&u!==null&&(e.value=u),ue(e)}function zn(e,r){if(r){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=r;return}}e.textContent=r}var sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(e,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,o):typeof o!="number"||o===0||sc.has(r)?r==="float"?e.cssFloat=o:e[r]=(""+o).trim():e[r]=o+"px"}function ml(e,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&o[h]!==u&&dl(e,h,u)}else for(var m in r)r.hasOwnProperty(m)&&dl(e,m,r[m])}function Us(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return zi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ar(){}var gl=null;function ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Li=null,Fr=null;function Pa(e){var r=ir(e);if(r&&(e=r.stateNode)){var o=e[on]||null;t:switch(e=r.stateNode,r.type){case"input":if(Ps(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Un(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==e&&u.form===e.form){var h=u[on]||null;if(!h)throw Error(i(90));Ps(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===e.form&&Na(u)}break t;case"textarea":ac(e,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Pi(e,!!o.multiple,r,!1)}}}var Ls=!1;function Bi(e,r,o){if(Ls)return e(r,o);Ls=!0;try{var u=e(r);return u}finally{if(Ls=!1,(Li!==null||Fr!==null)&&(tf(),Li&&(r=Li,e=Fr,Fr=Li=null,Pa(r),e)))for(r=0;r<e.length;r++)Pa(e[r])}}function Sr(e,r){var o=e.stateNode;if(o===null)return null;var u=o[on]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=!1;if(sr)try{var ve={};Object.defineProperty(ve,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,ve)}catch{Ua=!1}var qr=null,pl=null,za=null;function yl(){if(za)return za;var e,r=pl,o=r.length,u,h="value"in qr?qr.value:qr.textContent,m=h.length;for(e=0;e<o&&r[e]===h[e];e++);var b=o-e;for(u=1;u<=b&&r[o-u]===h[m-u];u++);return za=h.slice(e,1<u?1-u:void 0)}function La(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function wr(){return!1}function gn(e){function r(o,u,h,m,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(o=e[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ci:wr,this.isPropagationStopped=wr,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=gn(fi),ki=v({},fi,{view:0,detail:0}),vl=gn(ki),ji,Bs,Gr,ks=v({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(ji=e.screenX-Gr.screenX,Bs=e.screenY-Gr.screenY):Bs=ji=0,Gr=e),ji)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),_l=gn(ks),Ba=v({},ks,{dataTransfer:0}),lc=gn(Ba),uc=v({},ki,{relatedTarget:0}),ka=gn(uc),El=v({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=gn(El),js=v({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fc=gn(js),hc=v({},fi,{data:0}),Qr=gn(hc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pc(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=gc[e])?!!r[e]:!1}function Fi(){return pc}var Cn=v({},ki,{key:function(e){if(e.key){var r=dc[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=La(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fi,charCode:function(e){return e.type==="keypress"?La(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?La(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yc=gn(Cn),vc=v({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hi=gn(vc),f=v({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fi}),_=gn(f),S=v({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=gn(S),tt=v({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lt=gn(tt),vt=v({},fi,{newState:0,oldState:0}),jt=gn(vt),ke=[9,13,27,32],re=sr&&"CompositionEvent"in window,Ce=null;sr&&"documentMode"in document&&(Ce=document.documentMode);var or=sr&&"TextEvent"in window&&!Ce,Yr=sr&&(!re||Ce&&8<Ce&&11>=Ce),Ir=" ",Rr=!1;function ja(e,r){switch(e){case"keyup":return ke.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function n2(e,r){switch(e){case"compositionend":return Fs(r);case"keypress":return r.which!==32?null:(Rr=!0,Ir);case"textInput":return e=r.data,e===Ir&&Rr?null:e;default:return null}}function r2(e,r){if(qs)return e==="compositionend"||!re&&ja(e,r)?(e=yl(),za=pl=qr=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yr&&r.locale!=="ko"?null:r.data;default:return null}}var i2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!i2[e.type]:r==="textarea"}function Sp(e,r,o,u){Li?Fr?Fr.push(u):Fr=[u]:Li=u,r=lf(r,"onChange"),0<r.length&&(o=new Hr("onChange","change",null,o,u),e.push({event:o,listeners:r}))}var Tl=null,bl=null;function a2(e){sv(e,0)}function _c(e){var r=Gn(e);if(Na(r))return e}function wp(e,r){if(e==="change")return r}var Ip=!1;if(sr){var Fh;if(sr){var qh="oninput"in document;if(!qh){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),qh=typeof Rp.oninput=="function"}Fh=qh}else Fh=!1;Ip=Fh&&(!document.documentMode||9<document.documentMode)}function Dp(){Tl&&(Tl.detachEvent("onpropertychange",Cp),bl=Tl=null)}function Cp(e){if(e.propertyName==="value"&&_c(bl)){var r=[];Sp(r,bl,e,ar(e)),Bi(a2,r)}}function s2(e,r,o){e==="focusin"?(Dp(),Tl=r,bl=o,Tl.attachEvent("onpropertychange",Cp)):e==="focusout"&&Dp()}function o2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(bl)}function l2(e,r){if(e==="click")return _c(r)}function u2(e,r){if(e==="input"||e==="change")return _c(r)}function c2(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Yn=typeof Object.is=="function"?Object.is:c2;function Al(e,r){if(Yn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var o=Object.keys(e),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_t.call(r,h)||!Yn(e[h],r[h]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vp(e,r){var o=xp(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=r&&u>=r)return{node:o,offset:r-e};e=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=xp(o)}}function Mp(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Mp(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=jr(e.document);r instanceof e.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)e=r.contentWindow;else break;r=jr(e.document)}return r}function Hh(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var f2=sr&&"documentMode"in document&&11>=document.documentMode,Hs=null,Gh=null,Sl=null,Qh=!1;function Op(e,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qh||Hs==null||Hs!==jr(u)||(u=Hs,"selectionStart"in u&&Hh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Sl&&Al(Sl,u)||(Sl=u,u=lf(Gh,"onSelect"),0<u.length&&(r=new Hr("onSelect","select",null,r,o),e.push({event:r,listeners:u}),r.target=Hs)))}function Fa(e,r){var o={};return o[e.toLowerCase()]=r.toLowerCase(),o["Webkit"+e]="webkit"+r,o["Moz"+e]="moz"+r,o}var Gs={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Yh={},Pp={};sr&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function qa(e){if(Yh[e])return Yh[e];if(!Gs[e])return e;var r=Gs[e],o;for(o in r)if(r.hasOwnProperty(o)&&o in Pp)return Yh[e]=r[o];return e}var Up=qa("animationend"),zp=qa("animationiteration"),Lp=qa("animationstart"),h2=qa("transitionrun"),d2=qa("transitionstart"),m2=qa("transitioncancel"),Bp=qa("transitionend"),kp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Dr(e,r){kp.set(e,r),Br(r,[e])}var Ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},lr=[],Qs=0,Xh=0;function Tc(){for(var e=Qs,r=Xh=Qs=0;r<e;){var o=lr[r];lr[r++]=null;var u=lr[r];lr[r++]=null;var h=lr[r];lr[r++]=null;var m=lr[r];if(lr[r++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}m!==0&&jp(o,h,m)}}function bc(e,r,o,u){lr[Qs++]=e,lr[Qs++]=r,lr[Qs++]=o,lr[Qs++]=u,Xh|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Zh(e,r,o,u){return bc(e,r,o,u),Ac(e)}function Ha(e,r){return bc(e,null,null,r),Ac(e)}function jp(e,r,o){e.lanes|=o;var u=e.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=e.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&r!==null&&(h=31-Ie(o),e=m.hiddenUpdates,u=e[h],u===null?e[h]=[r]:u.push(r),r.lane=o|536870912),m):null}function Ac(e){if(50<Ql)throw Ql=0,am=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ys={};function g2(e,r,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,r,o,u){return new g2(e,r,o,u)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function di(e,r){var o=e.alternate;return o===null?(o=Kn(e.tag,r,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=r,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,r=e.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Fp(e,r){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,r=o.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Sc(e,r,o,u,h,m){var b=0;if(u=e,typeof e=="function")Wh(e)&&(b=1);else if(typeof e=="string")b=EA(e,o,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case A:return e=Kn(31,o,r,h),e.elementType=A,e.lanes=m,e;case z:return Ga(o.children,h,m,r);case k:b=8,h|=24;break;case L:return e=Kn(12,o,r,h|2),e.elementType=L,e.lanes=m,e;case at:return e=Kn(13,o,r,h),e.elementType=at,e.lanes=m,e;case B:return e=Kn(19,o,r,h),e.elementType=B,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:b=10;break t;case nt:b=9;break t;case Y:b=11;break t;case V:b=14;break t;case T:b=16,u=null;break t}b=29,o=Error(i(130,e===null?"null":typeof e,"")),u=null}return r=Kn(b,o,r,h),r.elementType=e,r.type=u,r.lanes=m,r}function Ga(e,r,o,u){return e=Kn(7,e,u,r),e.lanes=o,e}function $h(e,r,o){return e=Kn(6,e,null,r),e.lanes=o,e}function qp(e){var r=Kn(18,null,null,0);return r.stateNode=e,r}function Jh(e,r,o){return r=Kn(4,e.children!==null?e.children:[],e.key,r),r.lanes=o,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Hp=new WeakMap;function ur(e,r){if(typeof e=="object"&&e!==null){var o=Hp.get(e);return o!==void 0?o:(r={value:e,source:r,stack:yt(r)},Hp.set(e,r),r)}return{value:e,source:r,stack:yt(r)}}var Ks=[],Xs=0,wc=null,wl=0,cr=[],fr=0,qi=null,Kr=1,Xr="";function mi(e,r){Ks[Xs++]=wl,Ks[Xs++]=wc,wc=e,wl=r}function Gp(e,r,o){cr[fr++]=Kr,cr[fr++]=Xr,cr[fr++]=qi,qi=e;var u=Kr;e=Xr;var h=32-Ie(u)-1;u&=~(1<<h),o+=1;var m=32-Ie(r)+h;if(30<m){var b=h-h%5;m=(u&(1<<b)-1).toString(32),u>>=b,h-=b,Kr=1<<32-Ie(r)+h|o<<h|u,Xr=m+e}else Kr=1<<m|o<<h|u,Xr=e}function td(e){e.return!==null&&(mi(e,1),Gp(e,1,0))}function ed(e){for(;e===wc;)wc=Ks[--Xs],Ks[Xs]=null,wl=Ks[--Xs],Ks[Xs]=null;for(;e===qi;)qi=cr[--fr],cr[fr]=null,Xr=cr[--fr],cr[fr]=null,Kr=cr[--fr],cr[fr]=null}function Qp(e,r){cr[fr++]=Kr,cr[fr++]=Xr,cr[fr++]=qi,Kr=r.id,Xr=r.overflow,qi=e}var pn=null,Re=null,Zt=!1,Hi=null,hr=!1,nd=Error(i(519));function Gi(e){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(ur(r,e)),nd}function Yp(e){var r=e.stateNode,o=e.type,u=e.memoizedProps;switch(r[Ge]=e,r[on]=u,o){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(o=0;o<Kl.length;o++)Qt(Kl[o],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":Qt("invalid",r),ic(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Qt("invalid",r);break;case"textarea":Qt("invalid",r),Ui(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||cv(r.textContent,o)?(u.popover!=null&&(Qt("beforetoggle",r),Qt("toggle",r)),u.onScroll!=null&&Qt("scroll",r),u.onScrollEnd!=null&&Qt("scrollend",r),u.onClick!=null&&(r.onclick=Ar),r=!0):r=!1,r||Gi(e,!0)}function Kp(e){for(pn=e.return;pn;)switch(pn.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:pn=pn.return}}function Zs(e){if(e!==pn)return!1;if(!Zt)return Kp(e),Zt=!0,!1;var r=e.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Em(e.type,e.memoizedProps)),o=!o),o&&Re&&Gi(e),Kp(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Re=_v(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Re=_v(e)}else r===27?(r=Re,aa(e.type)?(e=wm,wm=null,Re=e):Re=r):Re=pn?mr(e.stateNode.nextSibling):null;return!0}function Qa(){Re=pn=null,Zt=!1}function rd(){var e=Hi;return e!==null&&(jn===null?jn=e:jn.push.apply(jn,e),Hi=null),e}function Il(e){Hi===null?Hi=[e]:Hi.push(e)}var id=U(null),Ya=null,gi=null;function Qi(e,r,o){ot(id,r._currentValue),r._currentValue=o}function pi(e){e._currentValue=id.current,F(id)}function ad(e,r,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===o)break;e=e.return}}function sd(e,r,o,u){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;t:for(;m!==null;){var O=m;m=h;for(var j=0;j<r.length;j++)if(O.context===r[j]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),ad(m.return,o,e),u||(b=null);break t}m=O.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),ad(b,o,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ws(e,r,o,u){e=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var O=h.type;Yn(h.pendingProps.value,b.value)||(e!==null?e.push(O):e=[O])}}else if(h===St.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}h=h.return}e!==null&&sd(r,e,o,u),r.flags|=262144}function Ic(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ka(e){Ya=e,gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return Xp(Ya,e)}function Rc(e,r){return Ya===null&&Ka(e),Xp(e,r)}function Xp(e,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},gi===null){if(e===null)throw Error(i(308));gi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else gi=gi.next=r;return o}var p2=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(o,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(o){return o()})}},y2=a.unstable_scheduleCallback,v2=a.unstable_NormalPriority,Ke={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new p2,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&y2(v2,function(){e.controller.abort()})}var Dl=null,ld=0,$s=0,Js=null;function _2(e,r){if(Dl===null){var o=Dl=[];ld=0,$s=fm(),Js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ld++,r.then(Zp,Zp),r}function Zp(){if(--ld===0&&Dl!==null){Js!==null&&(Js.status="fulfilled");var e=Dl;Dl=null,$s=0,Js=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function E2(e,r){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Wp=I.S;I.S=function(e,r){O0=Ot(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&_2(e,r),Wp!==null&&Wp(e,r)};var Xa=U(null);function ud(){var e=Xa.current;return e!==null?e:Ae.pooledCache}function Dc(e,r){r===null?ot(Xa,Xa.current):ot(Xa,r.pool)}function $p(){var e=ud();return e===null?null:{parent:Ke._currentValue,pool:e}}var to=Error(i(460)),cd=Error(i(474)),Cc=Error(i(542)),xc={then:function(){}};function Jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ty(e,r,o){switch(o=e[o],o===void 0?e.push(r):o!==r&&(r.then(Ar,Ar),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ny(e),e;default:if(typeof r.status=="string")r.then(Ar,Ar);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ny(e),e}throw Wa=r,to}}function Za(e){try{var r=e._init;return r(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Wa=o,to):o}}var Wa=null;function ey(){if(Wa===null)throw Error(i(459));var e=Wa;return Wa=null,e}function ny(e){if(e===to||e===Cc)throw Error(i(483))}var eo=null,Cl=0;function Vc(e){var r=Cl;return Cl+=1,eo===null&&(eo=[]),ty(eo,e,r)}function xl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Mc(e,r){throw r.$$typeof===E?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function ry(e){function r(X,H){if(e){var rt=X.deletions;rt===null?(X.deletions=[H],X.flags|=16):rt.push(H)}}function o(X,H){if(!e)return null;for(;H!==null;)r(X,H),H=H.sibling;return null}function u(X){for(var H=new Map;X!==null;)X.key!==null?H.set(X.key,X):H.set(X.index,X),X=X.sibling;return H}function h(X,H){return X=di(X,H),X.index=0,X.sibling=null,X}function m(X,H,rt){return X.index=rt,e?(rt=X.alternate,rt!==null?(rt=rt.index,rt<H?(X.flags|=67108866,H):rt):(X.flags|=67108866,H)):(X.flags|=1048576,H)}function b(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function O(X,H,rt,ft){return H===null||H.tag!==6?(H=$h(rt,X.mode,ft),H.return=X,H):(H=h(H,rt),H.return=X,H)}function j(X,H,rt,ft){var xt=rt.type;return xt===z?ct(X,H,rt.props.children,ft,rt.key):H!==null&&(H.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===T&&Za(xt)===H.type)?(H=h(H,rt.props),xl(H,rt),H.return=X,H):(H=Sc(rt.type,rt.key,rt.props,null,X.mode,ft),xl(H,rt),H.return=X,H)}function it(X,H,rt,ft){return H===null||H.tag!==4||H.stateNode.containerInfo!==rt.containerInfo||H.stateNode.implementation!==rt.implementation?(H=Jh(rt,X.mode,ft),H.return=X,H):(H=h(H,rt.children||[]),H.return=X,H)}function ct(X,H,rt,ft,xt){return H===null||H.tag!==7?(H=Ga(rt,X.mode,ft,xt),H.return=X,H):(H=h(H,rt),H.return=X,H)}function ht(X,H,rt){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=$h(""+H,X.mode,rt),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return rt=Sc(H.type,H.key,H.props,null,X.mode,rt),xl(rt,H),rt.return=X,rt;case M:return H=Jh(H,X.mode,rt),H.return=X,H;case T:return H=Za(H),ht(X,H,rt)}if(W(H)||N(H))return H=Ga(H,X.mode,rt,null),H.return=X,H;if(typeof H.then=="function")return ht(X,Vc(H),rt);if(H.$$typeof===Q)return ht(X,Rc(X,H),rt);Mc(X,H)}return null}function st(X,H,rt,ft){var xt=H!==null?H.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return xt!==null?null:O(X,H,""+rt,ft);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case w:return rt.key===xt?j(X,H,rt,ft):null;case M:return rt.key===xt?it(X,H,rt,ft):null;case T:return rt=Za(rt),st(X,H,rt,ft)}if(W(rt)||N(rt))return xt!==null?null:ct(X,H,rt,ft,null);if(typeof rt.then=="function")return st(X,H,Vc(rt),ft);if(rt.$$typeof===Q)return st(X,H,Rc(X,rt),ft);Mc(X,rt)}return null}function ut(X,H,rt,ft,xt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return X=X.get(rt)||null,O(H,X,""+ft,xt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case w:return X=X.get(ft.key===null?rt:ft.key)||null,j(H,X,ft,xt);case M:return X=X.get(ft.key===null?rt:ft.key)||null,it(H,X,ft,xt);case T:return ft=Za(ft),ut(X,H,rt,ft,xt)}if(W(ft)||N(ft))return X=X.get(rt)||null,ct(H,X,ft,xt,null);if(typeof ft.then=="function")return ut(X,H,rt,Vc(ft),xt);if(ft.$$typeof===Q)return ut(X,H,rt,Rc(H,ft),xt);Mc(H,ft)}return null}function bt(X,H,rt,ft){for(var xt=null,te=null,wt=H,qt=H=0,Kt=null;wt!==null&&qt<rt.length;qt++){wt.index>qt?(Kt=wt,wt=null):Kt=wt.sibling;var ee=st(X,wt,rt[qt],ft);if(ee===null){wt===null&&(wt=Kt);break}e&&wt&&ee.alternate===null&&r(X,wt),H=m(ee,H,qt),te===null?xt=ee:te.sibling=ee,te=ee,wt=Kt}if(qt===rt.length)return o(X,wt),Zt&&mi(X,qt),xt;if(wt===null){for(;qt<rt.length;qt++)wt=ht(X,rt[qt],ft),wt!==null&&(H=m(wt,H,qt),te===null?xt=wt:te.sibling=wt,te=wt);return Zt&&mi(X,qt),xt}for(wt=u(wt);qt<rt.length;qt++)Kt=ut(wt,X,qt,rt[qt],ft),Kt!==null&&(e&&Kt.alternate!==null&&wt.delete(Kt.key===null?qt:Kt.key),H=m(Kt,H,qt),te===null?xt=Kt:te.sibling=Kt,te=Kt);return e&&wt.forEach(function(ca){return r(X,ca)}),Zt&&mi(X,qt),xt}function Pt(X,H,rt,ft){if(rt==null)throw Error(i(151));for(var xt=null,te=null,wt=H,qt=H=0,Kt=null,ee=rt.next();wt!==null&&!ee.done;qt++,ee=rt.next()){wt.index>qt?(Kt=wt,wt=null):Kt=wt.sibling;var ca=st(X,wt,ee.value,ft);if(ca===null){wt===null&&(wt=Kt);break}e&&wt&&ca.alternate===null&&r(X,wt),H=m(ca,H,qt),te===null?xt=ca:te.sibling=ca,te=ca,wt=Kt}if(ee.done)return o(X,wt),Zt&&mi(X,qt),xt;if(wt===null){for(;!ee.done;qt++,ee=rt.next())ee=ht(X,ee.value,ft),ee!==null&&(H=m(ee,H,qt),te===null?xt=ee:te.sibling=ee,te=ee);return Zt&&mi(X,qt),xt}for(wt=u(wt);!ee.done;qt++,ee=rt.next())ee=ut(wt,X,qt,ee.value,ft),ee!==null&&(e&&ee.alternate!==null&&wt.delete(ee.key===null?qt:ee.key),H=m(ee,H,qt),te===null?xt=ee:te.sibling=ee,te=ee);return e&&wt.forEach(function(VA){return r(X,VA)}),Zt&&mi(X,qt),xt}function Te(X,H,rt,ft){if(typeof rt=="object"&&rt!==null&&rt.type===z&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case w:t:{for(var xt=rt.key;H!==null;){if(H.key===xt){if(xt=rt.type,xt===z){if(H.tag===7){o(X,H.sibling),ft=h(H,rt.props.children),ft.return=X,X=ft;break t}}else if(H.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===T&&Za(xt)===H.type){o(X,H.sibling),ft=h(H,rt.props),xl(ft,rt),ft.return=X,X=ft;break t}o(X,H);break}else r(X,H);H=H.sibling}rt.type===z?(ft=Ga(rt.props.children,X.mode,ft,rt.key),ft.return=X,X=ft):(ft=Sc(rt.type,rt.key,rt.props,null,X.mode,ft),xl(ft,rt),ft.return=X,X=ft)}return b(X);case M:t:{for(xt=rt.key;H!==null;){if(H.key===xt)if(H.tag===4&&H.stateNode.containerInfo===rt.containerInfo&&H.stateNode.implementation===rt.implementation){o(X,H.sibling),ft=h(H,rt.children||[]),ft.return=X,X=ft;break t}else{o(X,H);break}else r(X,H);H=H.sibling}ft=Jh(rt,X.mode,ft),ft.return=X,X=ft}return b(X);case T:return rt=Za(rt),Te(X,H,rt,ft)}if(W(rt))return bt(X,H,rt,ft);if(N(rt)){if(xt=N(rt),typeof xt!="function")throw Error(i(150));return rt=xt.call(rt),Pt(X,H,rt,ft)}if(typeof rt.then=="function")return Te(X,H,Vc(rt),ft);if(rt.$$typeof===Q)return Te(X,H,Rc(X,rt),ft);Mc(X,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,H!==null&&H.tag===6?(o(X,H.sibling),ft=h(H,rt),ft.return=X,X=ft):(o(X,H),ft=$h(rt,X.mode,ft),ft.return=X,X=ft),b(X)):o(X,H)}return function(X,H,rt,ft){try{Cl=0;var xt=Te(X,H,rt,ft);return eo=null,xt}catch(wt){if(wt===to||wt===Cc)throw wt;var te=Kn(29,wt,null,X.mode);return te.lanes=ft,te.return=X,te}}}var $a=ry(!0),iy=ry(!1),Yi=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ki(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(e,r,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(ie&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Ac(e),jp(e,null,o),r}return bc(e,u,r,o),Ac(e)}function Vl(e,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,o|=u,r.lanes=o,il(e,o)}}function dd(e,r){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?h=m=r:m=m.next=r}else h=m=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=r:e.next=r,o.lastBaseUpdate=r}var md=!1;function Ml(){if(md){var e=Js;if(e!==null)throw e}}function Nl(e,r,o,u){md=!1;var h=e.updateQueue;Yi=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var j=O,it=j.next;j.next=null,b===null?m=it:b.next=it,b=j;var ct=e.alternate;ct!==null&&(ct=ct.updateQueue,O=ct.lastBaseUpdate,O!==b&&(O===null?ct.firstBaseUpdate=it:O.next=it,ct.lastBaseUpdate=j))}if(m!==null){var ht=h.baseState;b=0,ct=it=j=null,O=m;do{var st=O.lane&-536870913,ut=st!==O.lane;if(ut?(Yt&st)===st:(u&st)===st){st!==0&&st===$s&&(md=!0),ct!==null&&(ct=ct.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var bt=e,Pt=O;st=r;var Te=o;switch(Pt.tag){case 1:if(bt=Pt.payload,typeof bt=="function"){ht=bt.call(Te,ht,st);break t}ht=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Pt.payload,st=typeof bt=="function"?bt.call(Te,ht,st):bt,st==null)break t;ht=v({},ht,st);break t;case 2:Yi=!0}}st=O.callback,st!==null&&(e.flags|=64,ut&&(e.flags|=8192),ut=h.callbacks,ut===null?h.callbacks=[st]:ut.push(st))}else ut={lane:st,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ct===null?(it=ct=ut,j=ht):ct=ct.next=ut,b|=st;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;ut=O,O=ut.next,ut.next=null,h.lastBaseUpdate=ut,h.shared.pending=null}}while(!0);ct===null&&(j=ht),h.baseState=j,h.firstBaseUpdate=it,h.lastBaseUpdate=ct,m===null&&(h.shared.lanes=0),ta|=b,e.lanes=b,e.memoizedState=ht}}function ay(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function sy(e,r){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)ay(o[e],r)}var no=U(null),Nc=U(0);function oy(e,r){e=wi,ot(Nc,e),ot(no,r),wi=e|r.baseLanes}function gd(){ot(Nc,wi),ot(no,no.current)}function pd(){wi=Nc.current,F(no),F(Nc)}var Xn=U(null),dr=null;function Zi(e){var r=e.alternate;ot(je,je.current&1),ot(Xn,e),dr===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(dr=e)}function yd(e){ot(je,je.current),ot(Xn,e),dr===null&&(dr=e)}function ly(e){e.tag===22?(ot(je,je.current),ot(Xn,e),dr===null&&(dr=e)):Wi()}function Wi(){ot(je,je.current),ot(Xn,Xn.current)}function Zn(e){F(Xn),dr===e&&(dr=null),F(je)}var je=U(0);function Oc(e){for(var r=e;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Am(o)||Sm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var yi=0,Ft=null,_e=null,Xe=null,Pc=!1,ro=!1,Ja=!1,Uc=0,Ol=0,io=null,T2=0;function Ue(){throw Error(i(321))}function vd(e,r){if(r===null)return!1;for(var o=0;o<r.length&&o<e.length;o++)if(!Yn(e[o],r[o]))return!1;return!0}function _d(e,r,o,u,h,m){return yi=m,Ft=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,I.H=e===null||e.memoizedState===null?Gy:Od,Ja=!1,m=o(u,h),Ja=!1,ro&&(m=cy(r,o,u,h)),uy(e),m}function uy(e){I.H=zl;var r=_e!==null&&_e.next!==null;if(yi=0,Xe=_e=Ft=null,Pc=!1,Ol=0,io=null,r)throw Error(i(300));e===null||Ze||(e=e.dependencies,e!==null&&Ic(e)&&(Ze=!0))}function cy(e,r,o,u){Ft=e;var h=0;do{if(ro&&(io=null),Ol=0,ro=!1,25<=h)throw Error(i(301));if(h+=1,Xe=_e=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}I.H=Qy,m=r(o,u)}while(ro);return m}function b2(){var e=I.H,r=e.useState()[0];return r=typeof r.then=="function"?Pl(r):r,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(Ft.flags|=1024),r}function Ed(){var e=Uc!==0;return Uc=0,e}function Td(e,r,o){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~o}function bd(e){if(Pc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Pc=!1}yi=0,Xe=_e=Ft=null,ro=!1,Ol=Uc=0,io=null}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ft.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Fe(){if(_e===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var r=Xe===null?Ft.memoizedState:Xe.next;if(r!==null)Xe=r,_e=e;else{if(e===null)throw Ft.alternate===null?Error(i(467)):Error(i(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Xe===null?Ft.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var r=Ol;return Ol+=1,io===null&&(io=[]),e=ty(io,e,r),r=Ft,(Xe===null?r.memoizedState:Xe.next)===null&&(r=r.alternate,I.H=r===null||r.memoizedState===null?Gy:Od),e}function Lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===Q)return yn(e)}throw Error(i(438,String(e)))}function Ad(e){var r=null,o=Ft.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ft.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=zc(),Ft.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(e),u=0;u<e;u++)o[u]=x;return r.index++,o}function vi(e,r){return typeof r=="function"?r(e):r}function Bc(e){var r=Fe();return Sd(r,_e,e)}function Sd(e,r,o){var u=e.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=e.baseQueue,m=u.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}r.baseQueue=h=m,u.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{r=h.next;var O=b=null,j=null,it=r,ct=!1;do{var ht=it.lane&-536870913;if(ht!==it.lane?(Yt&ht)===ht:(yi&ht)===ht){var st=it.revertLane;if(st===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),ht===$s&&(ct=!0);else if((yi&st)===st){it=it.next,st===$s&&(ct=!0);continue}else ht={lane:0,revertLane:it.revertLane,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},j===null?(O=j=ht,b=m):j=j.next=ht,Ft.lanes|=st,ta|=st;ht=it.action,Ja&&o(m,ht),m=it.hasEagerState?it.eagerState:o(m,ht)}else st={lane:ht,revertLane:it.revertLane,gesture:it.gesture,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},j===null?(O=j=st,b=m):j=j.next=st,Ft.lanes|=ht,ta|=ht;it=it.next}while(it!==null&&it!==r);if(j===null?b=m:j.next=O,!Yn(m,e.memoizedState)&&(Ze=!0,ct&&(o=Js,o!==null)))throw o;e.memoizedState=m,e.baseState=b,e.baseQueue=j,u.lastRenderedState=m}return h===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function wd(e){var r=Fe(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var u=o.dispatch,h=o.pending,m=r.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do m=e(m,b.action),b=b.next;while(b!==h);Yn(m,r.memoizedState)||(Ze=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function fy(e,r,o){var u=Ft,h=Fe(),m=Zt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!Yn((_e||h).memoizedState,o);if(b&&(h.memoizedState=o,Ze=!0),h=h.queue,Dd(my.bind(null,u,h,e),[e]),h.getSnapshot!==r||b||Xe!==null&&Xe.memoizedState.tag&1){if(u.flags|=2048,ao(9,{destroy:void 0},dy.bind(null,u,h,o,r),null),Ae===null)throw Error(i(349));m||(yi&127)!==0||hy(u,r,o)}return o}function hy(e,r,o){e.flags|=16384,e={getSnapshot:r,value:o},r=Ft.updateQueue,r===null?(r=zc(),Ft.updateQueue=r,r.stores=[e]):(o=r.stores,o===null?r.stores=[e]:o.push(e))}function dy(e,r,o,u){r.value=o,r.getSnapshot=u,gy(r)&&py(e)}function my(e,r,o){return o(function(){gy(r)&&py(e)})}function gy(e){var r=e.getSnapshot;e=e.value;try{var o=r();return!Yn(e,o)}catch{return!0}}function py(e){var r=Ha(e,2);r!==null&&Fn(r,e,2)}function Id(e){var r=xn();if(typeof e=="function"){var o=e;if(e=o(),Ja){He(!0);try{o()}finally{He(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},r}function yy(e,r,o,u){return e.baseState=o,Sd(e,_e,typeof u=="function"?u:vi)}function A2(e,r,o,u,h){if(Fc(e))throw Error(i(485));if(e=r.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};I.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,vy(r,m)):(m.next=o.next,r.pending=o.next=m)}}function vy(e,r){var o=r.action,u=r.payload,h=e.state;if(r.isTransition){var m=I.T,b={};I.T=b;try{var O=o(h,u),j=I.S;j!==null&&j(b,O),_y(e,r,O)}catch(it){Rd(e,r,it)}finally{m!==null&&b.types!==null&&(m.types=b.types),I.T=m}}else try{m=o(h,u),_y(e,r,m)}catch(it){Rd(e,r,it)}}function _y(e,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ey(e,r,u)},function(u){return Rd(e,r,u)}):Ey(e,r,o)}function Ey(e,r,o){r.status="fulfilled",r.value=o,Ty(r),e.state=o,r=e.pending,r!==null&&(o=r.next,o===r?e.pending=null:(o=o.next,r.next=o,vy(e,o)))}function Rd(e,r,o){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Ty(r),r=r.next;while(r!==u)}e.action=null}function Ty(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function by(e,r){return r}function Ay(e,r){if(Zt){var o=Ae.formState;if(o!==null){t:{var u=Ft;if(Zt){if(Re){e:{for(var h=Re,m=hr;h.nodeType!==8;){if(!m){h=null;break e}if(h=mr(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Re=mr(h.nextSibling),u=h.data==="F!";break t}}Gi(u)}u=!1}u&&(r=o[0])}}return o=xn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:r},o.queue=u,o=Fy.bind(null,Ft,u),u.dispatch=o,u=Id(!1),m=Nd.bind(null,Ft,!1,u.queue),u=xn(),h={state:r,dispatch:null,action:e,pending:null},u.queue=h,o=A2.bind(null,Ft,h,m,o),h.dispatch=o,u.memoizedState=e,[r,o,!1]}function Sy(e){var r=Fe();return wy(r,_e,e)}function wy(e,r,o){if(r=Sd(e,r,by)[0],e=Bc(vi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Pl(r)}catch(b){throw b===to?Cc:b}else u=r;r=Fe();var h=r.queue,m=h.dispatch;return o!==r.memoizedState&&(Ft.flags|=2048,ao(9,{destroy:void 0},S2.bind(null,h,o),null)),[u,m,e]}function S2(e,r){e.action=r}function Iy(e){var r=Fe(),o=_e;if(o!==null)return wy(r,o,e);Fe(),r=r.memoizedState,o=Fe();var u=o.queue.dispatch;return o.memoizedState=e,[r,u,!1]}function ao(e,r,o,u){return e={tag:e,create:o,deps:u,inst:r,next:null},r=Ft.updateQueue,r===null&&(r=zc(),Ft.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,r.lastEffect=e),e}function Ry(){return Fe().memoizedState}function kc(e,r,o,u){var h=xn();Ft.flags|=e,h.memoizedState=ao(1|r,{destroy:void 0},o,u===void 0?null:u)}function jc(e,r,o,u){var h=Fe();u=u===void 0?null:u;var m=h.memoizedState.inst;_e!==null&&u!==null&&vd(u,_e.memoizedState.deps)?h.memoizedState=ao(r,m,o,u):(Ft.flags|=e,h.memoizedState=ao(1|r,m,o,u))}function Dy(e,r){kc(8390656,8,e,r)}function Dd(e,r){jc(2048,8,e,r)}function w2(e){Ft.flags|=4;var r=Ft.updateQueue;if(r===null)r=zc(),Ft.updateQueue=r,r.events=[e];else{var o=r.events;o===null?r.events=[e]:o.push(e)}}function Cy(e){var r=Fe().memoizedState;return w2({ref:r,nextImpl:e}),function(){if((ie&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function xy(e,r){return jc(4,2,e,r)}function Vy(e,r){return jc(4,4,e,r)}function My(e,r){if(typeof r=="function"){e=e();var o=r(e);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Ny(e,r,o){o=o!=null?o.concat([e]):null,jc(4,4,My.bind(null,r,e),o)}function Cd(){}function Oy(e,r){var o=Fe();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&vd(r,u[1])?u[0]:(o.memoizedState=[e,r],e)}function Py(e,r){var o=Fe();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&vd(r,u[1]))return u[0];if(u=e(),Ja){He(!0);try{e()}finally{He(!1)}}return o.memoizedState=[u,r],u}function xd(e,r,o){return o===void 0||(yi&1073741824)!==0&&(Yt&261930)===0?e.memoizedState=r:(e.memoizedState=o,e=U0(),Ft.lanes|=e,ta|=e,o)}function Uy(e,r,o,u){return Yn(o,r)?o:no.current!==null?(e=xd(e,o,u),Yn(e,r)||(Ze=!0),e):(yi&42)===0||(yi&1073741824)!==0&&(Yt&261930)===0?(Ze=!0,e.memoizedState=o):(e=U0(),Ft.lanes|=e,ta|=e,r)}function zy(e,r,o,u,h){var m=R.p;R.p=m!==0&&8>m?m:8;var b=I.T,O={};I.T=O,Nd(e,!1,r,o);try{var j=h(),it=I.S;if(it!==null&&it(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ct=E2(j,u);Ul(e,r,ct,Jn(e))}else Ul(e,r,u,Jn(e))}catch(ht){Ul(e,r,{then:function(){},status:"rejected",reason:ht},Jn())}finally{R.p=m,b!==null&&O.types!==null&&(b.types=O.types),I.T=b}}function I2(){}function Vd(e,r,o,u){if(e.tag!==5)throw Error(i(476));var h=Ly(e).queue;zy(e,h,r,K,o===null?I2:function(){return By(e),o(u)})}function Ly(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:K},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:o},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function By(e){var r=Ly(e);r.next===null&&(r=e.alternate.memoizedState),Ul(e,r.next.queue,{},Jn())}function Md(){return yn(Jl)}function ky(){return Fe().memoizedState}function jy(){return Fe().memoizedState}function R2(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var o=Jn();e=Ki(o);var u=Xi(r,e,o);u!==null&&(Fn(u,r,o),Vl(u,r,o)),r={cache:od()},e.payload=r;return}r=r.return}}function D2(e,r,o){var u=Jn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fc(e)?qy(r,o):(o=Zh(e,r,o,u),o!==null&&(Fn(o,e,u),Hy(o,r,u)))}function Fy(e,r,o){var u=Jn();Ul(e,r,o,u)}function Ul(e,r,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fc(e))qy(r,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,O=m(b,o);if(h.hasEagerState=!0,h.eagerState=O,Yn(O,b))return bc(e,r,h,0),Ae===null&&Tc(),!1}catch{}if(o=Zh(e,r,h,u),o!==null)return Fn(o,e,u),Hy(o,r,u),!0}return!1}function Nd(e,r,o,u){if(u={lane:2,revertLane:fm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fc(e)){if(r)throw Error(i(479))}else r=Zh(e,o,u,2),r!==null&&Fn(r,e,2)}function Fc(e){var r=e.alternate;return e===Ft||r!==null&&r===Ft}function qy(e,r){ro=Pc=!0;var o=e.pending;o===null?r.next=r:(r.next=o.next,o.next=r),e.pending=r}function Hy(e,r,o){if((o&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,o|=u,r.lanes=o,il(e,o)}}var zl={readContext:yn,use:Lc,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};zl.useEffectEvent=Ue;var Gy={readContext:yn,use:Lc,useCallback:function(e,r){return xn().memoizedState=[e,r===void 0?null:r],e},useContext:yn,useEffect:Dy,useImperativeHandle:function(e,r,o){o=o!=null?o.concat([e]):null,kc(4194308,4,My.bind(null,r,e),o)},useLayoutEffect:function(e,r){return kc(4194308,4,e,r)},useInsertionEffect:function(e,r){kc(4,2,e,r)},useMemo:function(e,r){var o=xn();r=r===void 0?null:r;var u=e();if(Ja){He(!0);try{e()}finally{He(!1)}}return o.memoizedState=[u,r],u},useReducer:function(e,r,o){var u=xn();if(o!==void 0){var h=o(r);if(Ja){He(!0);try{o(r)}finally{He(!1)}}}else h=r;return u.memoizedState=u.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},u.queue=e,e=e.dispatch=D2.bind(null,Ft,e),[u.memoizedState,e]},useRef:function(e){var r=xn();return e={current:e},r.memoizedState=e},useState:function(e){e=Id(e);var r=e.queue,o=Fy.bind(null,Ft,r);return r.dispatch=o,[e.memoizedState,o]},useDebugValue:Cd,useDeferredValue:function(e,r){var o=xn();return xd(o,e,r)},useTransition:function(){var e=Id(!1);return e=zy.bind(null,Ft,e.queue,!0,!1),xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,o){var u=Ft,h=xn();if(Zt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),Ae===null)throw Error(i(349));(Yt&127)!==0||hy(u,r,o)}h.memoizedState=o;var m={value:o,getSnapshot:r};return h.queue=m,Dy(my.bind(null,u,m,e),[e]),u.flags|=2048,ao(9,{destroy:void 0},dy.bind(null,u,m,o,r),null),o},useId:function(){var e=xn(),r=Ae.identifierPrefix;if(Zt){var o=Xr,u=Kr;o=(u&~(1<<32-Ie(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Uc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=T2++,r="_"+r+"r_"+o.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Md,useFormState:Ay,useActionState:Ay,useOptimistic:function(e){var r=xn();r.memoizedState=r.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Nd.bind(null,Ft,!0,o),o.dispatch=r,[e,r]},useMemoCache:Ad,useCacheRefresh:function(){return xn().memoizedState=R2.bind(null,Ft)},useEffectEvent:function(e){var r=xn(),o={impl:e};return r.memoizedState=o,function(){if((ie&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Od={readContext:yn,use:Lc,useCallback:Oy,useContext:yn,useEffect:Dd,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Vy,useMemo:Py,useReducer:Bc,useRef:Ry,useState:function(){return Bc(vi)},useDebugValue:Cd,useDeferredValue:function(e,r){var o=Fe();return Uy(o,_e.memoizedState,e,r)},useTransition:function(){var e=Bc(vi)[0],r=Fe().memoizedState;return[typeof e=="boolean"?e:Pl(e),r]},useSyncExternalStore:fy,useId:ky,useHostTransitionStatus:Md,useFormState:Sy,useActionState:Sy,useOptimistic:function(e,r){var o=Fe();return yy(o,_e,e,r)},useMemoCache:Ad,useCacheRefresh:jy};Od.useEffectEvent=Cy;var Qy={readContext:yn,use:Lc,useCallback:Oy,useContext:yn,useEffect:Dd,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Vy,useMemo:Py,useReducer:wd,useRef:Ry,useState:function(){return wd(vi)},useDebugValue:Cd,useDeferredValue:function(e,r){var o=Fe();return _e===null?xd(o,e,r):Uy(o,_e.memoizedState,e,r)},useTransition:function(){var e=wd(vi)[0],r=Fe().memoizedState;return[typeof e=="boolean"?e:Pl(e),r]},useSyncExternalStore:fy,useId:ky,useHostTransitionStatus:Md,useFormState:Iy,useActionState:Iy,useOptimistic:function(e,r){var o=Fe();return _e!==null?yy(o,_e,e,r):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:jy};Qy.useEffectEvent=Cy;function Pd(e,r,o,u){r=e.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Ud={enqueueSetState:function(e,r,o){e=e._reactInternals;var u=Jn(),h=Ki(u);h.payload=r,o!=null&&(h.callback=o),r=Xi(e,h,u),r!==null&&(Fn(r,e,u),Vl(r,e,u))},enqueueReplaceState:function(e,r,o){e=e._reactInternals;var u=Jn(),h=Ki(u);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=Xi(e,h,u),r!==null&&(Fn(r,e,u),Vl(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var o=Jn(),u=Ki(o);u.tag=2,r!=null&&(u.callback=r),r=Xi(e,u,o),r!==null&&(Fn(r,e,o),Vl(r,e,o))}};function Yy(e,r,o,u,h,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,b):r.prototype&&r.prototype.isPureReactComponent?!Al(o,u)||!Al(h,m):!0}function Ky(e,r,o,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==e&&Ud.enqueueReplaceState(r,r.state,null)}function ts(e,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(e=e.defaultProps){o===r&&(o=v({},o));for(var h in e)o[h]===void 0&&(o[h]=e[h])}return o}function Xy(e){Ec(e)}function Zy(e){console.error(e)}function Wy(e){Ec(e)}function qc(e,r){try{var o=e.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function $y(e,r,o){try{var u=e.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zd(e,r,o){return o=Ki(o),o.tag=3,o.payload={element:null},o.callback=function(){qc(e,r)},o}function Jy(e){return e=Ki(e),e.tag=3,e}function t0(e,r,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;e.payload=function(){return h(m)},e.callback=function(){$y(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){$y(r,o,u),typeof h!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function C2(e,r,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ws(r,o,h,!0),o=Xn.current,o!==null){switch(o.tag){case 31:case 13:return dr===null?ef():o.alternate===null&&ze===0&&(ze=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===xc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),lm(e,u,h)),!1;case 22:return o.flags|=65536,u===xc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),lm(e,u,h)),!1}throw Error(i(435,o.tag))}return lm(e,u,h),ef(),!1}if(Zt)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==nd&&(e=Error(i(422),{cause:u}),Il(ur(e,o)))):(u!==nd&&(r=Error(i(423),{cause:u}),Il(ur(r,o))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,u=ur(u,o),h=zd(e.stateNode,u,h),dd(e,h),ze!==4&&(ze=2)),!1;var m=Error(i(520),{cause:u});if(m=ur(m,o),Gl===null?Gl=[m]:Gl.push(m),ze!==4&&(ze=2),r===null)return!0;u=ur(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,e=h&-h,o.lanes|=e,e=zd(o.stateNode,u,e),dd(o,e),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ea===null||!ea.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Jy(h),t0(h,e,o,u),dd(o,h),!1}o=o.return}while(o!==null);return!1}var Ld=Error(i(461)),Ze=!1;function vn(e,r,o,u){r.child=e===null?iy(r,null,o,u):$a(r,e.child,o,u)}function e0(e,r,o,u,h){o=o.render;var m=r.ref;if("ref"in u){var b={};for(var O in u)O!=="ref"&&(b[O]=u[O])}else b=u;return Ka(r),u=_d(e,r,o,b,m,h),O=Ed(),e!==null&&!Ze?(Td(e,r,h),_i(e,r,h)):(Zt&&O&&td(r),r.flags|=1,vn(e,r,u,h),r.child)}function n0(e,r,o,u,h){if(e===null){var m=o.type;return typeof m=="function"&&!Wh(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,r0(e,r,m,u,h)):(e=Sc(o.type,null,u,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(m=e.child,!Qd(e,h)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:Al,o(b,u)&&e.ref===r.ref)return _i(e,r,h)}return r.flags|=1,e=di(m,u),e.ref=r.ref,e.return=r,r.child=e}function r0(e,r,o,u,h){if(e!==null){var m=e.memoizedProps;if(Al(m,u)&&e.ref===r.ref)if(Ze=!1,r.pendingProps=u=m,Qd(e,h))(e.flags&131072)!==0&&(Ze=!0);else return r.lanes=e.lanes,_i(e,r,h)}return Bd(e,r,o,u,h)}function i0(e,r,o,u){var h=u.children,m=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(u=r.child=e.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,r.child=null;return a0(e,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dc(r,m!==null?m.cachePool:null),m!==null?oy(r,m):gd(),ly(r);else return u=r.lanes=536870912,a0(e,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Dc(r,m.cachePool),oy(r,m),Wi(),r.memoizedState=null):(e!==null&&Dc(r,null),gd(),Wi());return vn(e,r,h,o),r.child}function Ll(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function a0(e,r,o,u,h){var m=ud();return m=m===null?null:{parent:Ke._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},e!==null&&Dc(r,null),gd(),ly(r),e!==null&&Ws(e,r,u,!0),r.childLanes=h,null}function Hc(e,r){return r=Qc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function s0(e,r,o){return $a(r,e.child,null,o),e=Hc(r,r.pendingProps),e.flags|=2,Zn(r),r.memoizedState=null,e}function x2(e,r,o){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Zt){if(u.mode==="hidden")return e=Hc(r,u),r.lanes=536870912,Ll(null,e);if(yd(r),(e=Re)?(e=vv(e,hr),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:qi!==null?{id:Kr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=qp(e),o.return=r,r.child=o,pn=r,Re=null)):e=null,e===null)throw Gi(r);return r.lanes=536870912,null}return Hc(r,u)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(yd(r),h)if(r.flags&256)r.flags&=-257,r=s0(e,r,o);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ze||Ws(e,r,o,!1),h=(o&e.childLanes)!==0,Ze||h){if(u=Ae,u!==null&&(b=al(u,o),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ha(e,b),Fn(u,e,b),Ld;ef(),r=s0(e,r,o)}else e=m.treeContext,Re=mr(b.nextSibling),pn=r,Zt=!0,Hi=null,hr=!1,e!==null&&Qp(r,e),r=Hc(r,u),r.flags|=4096;return r}return e=di(e.child,{mode:u.mode,children:u.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Gc(e,r){var o=r.ref;if(o===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(e===null||e.ref!==o)&&(r.flags|=4194816)}}function Bd(e,r,o,u,h){return Ka(r),o=_d(e,r,o,u,void 0,h),u=Ed(),e!==null&&!Ze?(Td(e,r,h),_i(e,r,h)):(Zt&&u&&td(r),r.flags|=1,vn(e,r,o,h),r.child)}function o0(e,r,o,u,h,m){return Ka(r),r.updateQueue=null,o=cy(r,u,o,h),uy(e),u=Ed(),e!==null&&!Ze?(Td(e,r,m),_i(e,r,m)):(Zt&&u&&td(r),r.flags|=1,vn(e,r,o,m),r.child)}function l0(e,r,o,u,h){if(Ka(r),r.stateNode===null){var m=Ys,b=o.contextType;typeof b=="object"&&b!==null&&(m=yn(b)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ud,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},fd(r),b=o.contextType,m.context=typeof b=="object"&&b!==null?yn(b):Ys,m.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Pd(r,o,b,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Ud.enqueueReplaceState(m,m.state,null),Nl(r,u,m,h),Ml(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){m=r.stateNode;var O=r.memoizedProps,j=ts(o,O);m.props=j;var it=m.context,ct=o.contextType;b=Ys,typeof ct=="object"&&ct!==null&&(b=yn(ct));var ht=o.getDerivedStateFromProps;ct=typeof ht=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,ct||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||it!==b)&&Ky(r,m,u,b),Yi=!1;var st=r.memoizedState;m.state=st,Nl(r,u,m,h),Ml(),it=r.memoizedState,O||st!==it||Yi?(typeof ht=="function"&&(Pd(r,o,ht,u),it=r.memoizedState),(j=Yi||Yy(r,o,j,u,st,it,b))?(ct||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=it),m.props=u,m.state=it,m.context=b,u=j):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,hd(e,r),b=r.memoizedProps,ct=ts(o,b),m.props=ct,ht=r.pendingProps,st=m.context,it=o.contextType,j=Ys,typeof it=="object"&&it!==null&&(j=yn(it)),O=o.getDerivedStateFromProps,(it=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ht||st!==j)&&Ky(r,m,u,j),Yi=!1,st=r.memoizedState,m.state=st,Nl(r,u,m,h),Ml();var ut=r.memoizedState;b!==ht||st!==ut||Yi||e!==null&&e.dependencies!==null&&Ic(e.dependencies)?(typeof O=="function"&&(Pd(r,o,O,u),ut=r.memoizedState),(ct=Yi||Yy(r,o,ct,u,st,ut,j)||e!==null&&e.dependencies!==null&&Ic(e.dependencies))?(it||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,ut,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,ut,j)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ut),m.props=u,m.state=ut,m.context=j,u=ct):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&st===e.memoizedState||(r.flags|=1024),u=!1)}return m=u,Gc(e,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,e!==null&&u?(r.child=$a(r,e.child,null,h),r.child=$a(r,null,o,h)):vn(e,r,o,h),r.memoizedState=m.state,e=r.child):e=_i(e,r,h),e}function u0(e,r,o,u){return Qa(),r.flags|=256,vn(e,r,o,u),r.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(e){return{baseLanes:e,cachePool:$p()}}function Fd(e,r,o){return e=e!==null?e.childLanes&~o:0,r&&(e|=$n),e}function c0(e,r,o){var u=r.pendingProps,h=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,e===null){if(Zt){if(h?Zi(r):Wi(),(e=Re)?(e=vv(e,hr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:qi!==null?{id:Kr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=qp(e),o.return=r,r.child=o,pn=r,Re=null)):e=null,e===null)throw Gi(r);return Sm(e)?r.lanes=32:r.lanes=536870912,null}var O=u.children;return u=u.fallback,h?(Wi(),h=r.mode,O=Qc({mode:"hidden",children:O},h),u=Ga(u,h,o,null),O.return=r,u.return=r,O.sibling=u,r.child=O,u=r.child,u.memoizedState=jd(o),u.childLanes=Fd(e,b,o),r.memoizedState=kd,Ll(null,u)):(Zi(r),qd(r,O))}var j=e.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(m)r.flags&256?(Zi(r),r.flags&=-257,r=Hd(e,r,o)):r.memoizedState!==null?(Wi(),r.child=e.child,r.flags|=128,r=null):(Wi(),O=u.fallback,h=r.mode,u=Qc({mode:"visible",children:u.children},h),O=Ga(O,h,o,null),O.flags|=2,u.return=r,O.return=r,u.sibling=O,r.child=u,$a(r,e.child,null,o),u=r.child,u.memoizedState=jd(o),u.childLanes=Fd(e,b,o),r.memoizedState=kd,r=Ll(null,u));else if(Zi(r),Sm(O)){if(b=O.nextSibling&&O.nextSibling.dataset,b)var it=b.dgst;b=it,u=Error(i(419)),u.stack="",u.digest=b,Il({value:u,source:null,stack:null}),r=Hd(e,r,o)}else if(Ze||Ws(e,r,o,!1),b=(o&e.childLanes)!==0,Ze||b){if(b=Ae,b!==null&&(u=al(b,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Ha(e,u),Fn(b,e,u),Ld;Am(O)||ef(),r=Hd(e,r,o)}else Am(O)?(r.flags|=192,r.child=e.child,r=null):(e=j.treeContext,Re=mr(O.nextSibling),pn=r,Zt=!0,Hi=null,hr=!1,e!==null&&Qp(r,e),r=qd(r,u.children),r.flags|=4096);return r}return h?(Wi(),O=u.fallback,h=r.mode,j=e.child,it=j.sibling,u=di(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,it!==null?O=di(it,O):(O=Ga(O,h,o,null),O.flags|=2),O.return=r,u.return=r,u.sibling=O,r.child=u,Ll(null,u),u=r.child,O=e.child.memoizedState,O===null?O=jd(o):(h=O.cachePool,h!==null?(j=Ke._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=$p(),O={baseLanes:O.baseLanes|o,cachePool:h}),u.memoizedState=O,u.childLanes=Fd(e,b,o),r.memoizedState=kd,Ll(e.child,u)):(Zi(r),o=e.child,e=o.sibling,o=di(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,e!==null&&(b=r.deletions,b===null?(r.deletions=[e],r.flags|=16):b.push(e)),r.child=o,r.memoizedState=null,o)}function qd(e,r){return r=Qc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Qc(e,r){return e=Kn(22,e,null,r),e.lanes=0,e}function Hd(e,r,o){return $a(r,e.child,null,o),e=qd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function f0(e,r,o){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),ad(e.return,r,o)}function Gd(e,r,o,u,h,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=h,b.treeForkCount=m)}function h0(e,r,o){var u=r.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var b=je.current,O=(b&2)!==0;if(O?(b=b&1|2,r.flags|=128):b&=1,ot(je,b),vn(e,r,u,o),u=Zt?wl:0,!O&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f0(e,o,r);else if(e.tag===19)f0(e,o,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(o=r.child,h=null;o!==null;)e=o.alternate,e!==null&&Oc(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Gd(r,!1,h,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Oc(e)===null){r.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}Gd(r,!0,o,null,m,u);break;case"together":Gd(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function _i(e,r,o){if(e!==null&&(r.dependencies=e.dependencies),ta|=r.lanes,(o&r.childLanes)===0)if(e!==null){if(Ws(e,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,o=di(e,e.pendingProps),r.child=o,o.return=r;e.sibling!==null;)e=e.sibling,o=o.sibling=di(e,e.pendingProps),o.return=r;o.sibling=null}return r.child}function Qd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Ic(e)))}function V2(e,r,o){switch(r.tag){case 3:Nt(r,r.stateNode.containerInfo),Qi(r,Ke,e.memoizedState.cache),Qa();break;case 27:case 5:Xt(r);break;case 4:Nt(r,r.stateNode.containerInfo);break;case 10:Qi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,yd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Zi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?c0(e,r,o):(Zi(r),e=_i(e,r,o),e!==null?e.sibling:null);Zi(r);break;case 19:var h=(e.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ws(e,r,o,!1),u=(o&r.childLanes)!==0),h){if(u)return h0(e,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(je,je.current),u)break;return null;case 22:return r.lanes=0,i0(e,r,o,r.pendingProps);case 24:Qi(r,Ke,e.memoizedState.cache)}return _i(e,r,o)}function d0(e,r,o){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ze=!0;else{if(!Qd(e,o)&&(r.flags&128)===0)return Ze=!1,V2(e,r,o);Ze=(e.flags&131072)!==0}else Ze=!1,Zt&&(r.flags&1048576)!==0&&Gp(r,wl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(e=Za(r.elementType),r.type=e,typeof e=="function")Wh(e)?(u=ts(e,u),r.tag=1,r=l0(null,r,e,u,o)):(r.tag=0,r=Bd(null,r,e,u,o));else{if(e!=null){var h=e.$$typeof;if(h===Y){r.tag=11,r=e0(null,r,e,u,o);break t}else if(h===V){r.tag=14,r=n0(null,r,e,u,o);break t}}throw r=q(e)||e,Error(i(306,r,""))}}return r;case 0:return Bd(e,r,r.type,r.pendingProps,o);case 1:return u=r.type,h=ts(u,r.pendingProps),l0(e,r,u,h,o);case 3:t:{if(Nt(r,r.stateNode.containerInfo),e===null)throw Error(i(387));u=r.pendingProps;var m=r.memoizedState;h=m.element,hd(e,r),Nl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Qi(r,Ke,u),u!==m.cache&&sd(r,[Ke],o,!0),Ml(),u=b.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=u0(e,r,u,o);break t}else if(u!==h){h=ur(Error(i(424)),r),Il(h),r=u0(e,r,u,o);break t}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Re=mr(e.firstChild),pn=r,Zt=!0,Hi=null,hr=!0,o=iy(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qa(),u===h){r=_i(e,r,o);break t}vn(e,r,u,o)}r=r.child}return r;case 26:return Gc(e,r),e===null?(o=Sv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Zt||(o=r.type,e=r.pendingProps,u=uf(pt.current).createElement(o),u[Ge]=r,u[on]=e,_n(u,o,e),Qe(u),r.stateNode=u):r.memoizedState=Sv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Xt(r),e===null&&Zt&&(u=r.stateNode=Tv(r.type,r.pendingProps,pt.current),pn=r,hr=!0,h=Re,aa(r.type)?(wm=h,Re=mr(u.firstChild)):Re=h),vn(e,r,r.pendingProps.children,o),Gc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Zt&&((h=u=Re)&&(u=oA(u,r.type,r.pendingProps,hr),u!==null?(r.stateNode=u,pn=r,Re=mr(u.firstChild),hr=!1,h=!0):h=!1),h||Gi(r)),Xt(r),h=r.type,m=r.pendingProps,b=e!==null?e.memoizedProps:null,u=m.children,Em(h,m)?u=null:b!==null&&Em(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=_d(e,r,b2,null,null,o),Jl._currentValue=h),Gc(e,r),vn(e,r,u,o),r.child;case 6:return e===null&&Zt&&((e=o=Re)&&(o=lA(o,r.pendingProps,hr),o!==null?(r.stateNode=o,pn=r,Re=null,e=!0):e=!1),e||Gi(r)),null;case 13:return c0(e,r,o);case 4:return Nt(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=$a(r,null,u,o):vn(e,r,u,o),r.child;case 11:return e0(e,r,r.type,r.pendingProps,o);case 7:return vn(e,r,r.pendingProps,o),r.child;case 8:return vn(e,r,r.pendingProps.children,o),r.child;case 12:return vn(e,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Qi(r,r.type,u.value),vn(e,r,u.children,o),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Ka(r),h=yn(h),u=u(h),r.flags|=1,vn(e,r,u,o),r.child;case 14:return n0(e,r,r.type,r.pendingProps,o);case 15:return r0(e,r,r.type,r.pendingProps,o);case 19:return h0(e,r,o);case 31:return x2(e,r,o);case 22:return i0(e,r,o,r.pendingProps);case 24:return Ka(r),u=yn(Ke),e===null?(h=ud(),h===null&&(h=Ae,m=od(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),r.memoizedState={parent:u,cache:h},fd(r),Qi(r,Ke,h)):((e.lanes&o)!==0&&(hd(e,r),Nl(r,null,null,o),Ml()),h=e.memoizedState,m=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Qi(r,Ke,u)):(u=m.cache,Qi(r,Ke,u),u!==h.cache&&sd(r,[Ke],o,!0))),vn(e,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ei(e){e.flags|=4}function Yd(e,r,o,u,h){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(k0())e.flags|=8192;else throw Wa=xc,cd}else e.flags&=-16777217}function m0(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cv(r))if(k0())e.flags|=8192;else throw Wa=xc,cd}function Yc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?rr():536870912,e.lanes|=r,uo|=r)}function Bl(e,r){if(!Zt)switch(e.tailMode){case"hidden":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function De(e){var r=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(r)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=o,r}function M2(e,r,o){var u=r.pendingProps;switch(ed(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(r),null;case 1:return De(r),null;case 3:return o=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),pi(Ke),Ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Zs(r)?Ei(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rd())),De(r),null;case 26:var h=r.type,m=r.memoizedState;return e===null?(Ei(r),m!==null?(De(r),m0(r,m)):(De(r),Yd(r,h,null,u,o))):m?m!==e.memoizedState?(Ei(r),De(r),m0(r,m)):(De(r),r.flags&=-16777217):(e=e.memoizedProps,e!==u&&Ei(r),De(r),Yd(r,h,e,u,o)),null;case 27:if(ae(r),o=pt.current,h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&Ei(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return De(r),null}e=et.current,Zs(r)?Yp(r):(e=Tv(h,u,o),r.stateNode=e,Ei(r))}return De(r),null;case 5:if(ae(r),h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&Ei(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return De(r),null}if(m=et.current,Zs(r))Yp(r);else{var b=uf(pt.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?b.createElement(h,{is:u.is}):b.createElement(h)}}m[Ge]=r,m[on]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;t:switch(_n(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Ei(r)}}return De(r),Yd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,o),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&Ei(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(e=pt.current,Zs(r)){if(e=r.stateNode,o=r.memoizedProps,u=null,h=pn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}e[Ge]=r,e=!!(e.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||cv(e.nodeValue,o)),e||Gi(r,!0)}else e=uf(e).createTextNode(u),e[Ge]=r,r.stateNode=e}return De(r),null;case 31:if(o=r.memoizedState,e===null||e.memoizedState!==null){if(u=Zs(r),o!==null){if(e===null){if(!u)throw Error(i(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Ge]=r}else Qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;De(r),e=!1}else o=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return r.flags&256?(Zn(r),r):(Zn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return De(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Zs(r),u!==null&&u.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Ge]=r}else Qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;De(r),h=!1}else h=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Zn(r),r):(Zn(r),null)}return Zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,e=e!==null&&e.memoizedState!==null,o&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),o!==e&&o&&(r.child.flags|=8192),Yc(r,r.updateQueue),De(r),null);case 4:return Ct(),e===null&&gm(r.stateNode.containerInfo),De(r),null;case 10:return pi(r.type),De(r),null;case 19:if(F(je),u=r.memoizedState,u===null)return De(r),null;if(h=(r.flags&128)!==0,m=u.rendering,m===null)if(h)Bl(u,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(m=Oc(e),m!==null){for(r.flags|=128,Bl(u,!1),e=m.updateQueue,r.updateQueue=e,Yc(r,e),r.subtreeFlags=0,e=o,o=r.child;o!==null;)Fp(o,e),o=o.sibling;return ot(je,je.current&1|2),Zt&&mi(r,u.treeForkCount),r.child}e=e.sibling}u.tail!==null&&Ot()>$c&&(r.flags|=128,h=!0,Bl(u,!1),r.lanes=4194304)}else{if(!h)if(e=Oc(m),e!==null){if(r.flags|=128,h=!0,e=e.updateQueue,r.updateQueue=e,Yc(r,e),Bl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Zt)return De(r),null}else 2*Ot()-u.renderingStartTime>$c&&o!==536870912&&(r.flags|=128,h=!0,Bl(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(e=u.last,e!==null?e.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=Ot(),e.sibling=null,o=je.current,ot(je,h?o&1|2:o&1),Zt&&mi(r,u.treeForkCount),e):(De(r),null);case 22:case 23:return Zn(r),pd(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(De(r),r.subtreeFlags&6&&(r.flags|=8192)):De(r),o=r.updateQueue,o!==null&&Yc(r,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),e!==null&&F(Xa),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),pi(Ke),De(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function N2(e,r){switch(ed(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return pi(Ke),Ct(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ae(r),null;case 31:if(r.memoizedState!==null){if(Zn(r),r.alternate===null)throw Error(i(340));Qa()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Zn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Qa()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return F(je),null;case 4:return Ct(),null;case 10:return pi(r.type),null;case 22:case 23:return Zn(r),pd(),e!==null&&F(Xa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return pi(Ke),null;case 25:return null;default:return null}}function g0(e,r){switch(ed(r),r.tag){case 3:pi(Ke),Ct();break;case 26:case 27:case 5:ae(r);break;case 4:Ct();break;case 31:r.memoizedState!==null&&Zn(r);break;case 13:Zn(r);break;case 19:F(je);break;case 10:pi(r.type);break;case 22:case 23:Zn(r),pd(),e!==null&&F(Xa);break;case 24:pi(Ke)}}function kl(e,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&e)===e){u=void 0;var m=o.create,b=o.inst;u=m(),b.destroy=u}o=o.next}while(o!==h)}}catch(O){fe(r,r.return,O)}}function $i(e,r,o){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&e)===e){var b=u.inst,O=b.destroy;if(O!==void 0){b.destroy=void 0,h=r;var j=o,it=O;try{it()}catch(ct){fe(h,j,ct)}}}u=u.next}while(u!==m)}}catch(ct){fe(r,r.return,ct)}}function p0(e){var r=e.updateQueue;if(r!==null){var o=e.stateNode;try{sy(r,o)}catch(u){fe(e,e.return,u)}}}function y0(e,r,o){o.props=ts(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(u){fe(e,r,u)}}function jl(e,r){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof o=="function"?e.refCleanup=o(u):o.current=u}}catch(h){fe(e,r,h)}}function Zr(e,r){var o=e.ref,u=e.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){fe(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){fe(e,r,h)}else o.current=null}function v0(e){var r=e.type,o=e.memoizedProps,u=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){fe(e,e.return,h)}}function Kd(e,r,o){try{var u=e.stateNode;eA(u,e.type,o,r),u[on]=r}catch(h){fe(e,e.return,h)}}function _0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&aa(e.type)||e.tag===4}function Xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,r,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(e),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ar));else if(u!==4&&(u===27&&aa(e.type)&&(o=e.stateNode,r=null),e=e.child,e!==null))for(Zd(e,r,o),e=e.sibling;e!==null;)Zd(e,r,o),e=e.sibling}function Kc(e,r,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?o.insertBefore(e,r):o.appendChild(e);else if(u!==4&&(u===27&&aa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Kc(e,r,o),e=e.sibling;e!==null;)Kc(e,r,o),e=e.sibling}function E0(e){var r=e.stateNode,o=e.memoizedProps;try{for(var u=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);_n(r,u,o),r[Ge]=e,r[on]=o}catch(m){fe(e,e.return,m)}}var Ti=!1,We=!1,Wd=!1,T0=typeof WeakSet=="function"?WeakSet:Set,un=null;function O2(e,r){if(e=e.containerInfo,vm=pf,e=Np(e),Hh(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var b=0,O=-1,j=-1,it=0,ct=0,ht=e,st=null;e:for(;;){for(var ut;ht!==o||h!==0&&ht.nodeType!==3||(O=b+h),ht!==m||u!==0&&ht.nodeType!==3||(j=b+u),ht.nodeType===3&&(b+=ht.nodeValue.length),(ut=ht.firstChild)!==null;)st=ht,ht=ut;for(;;){if(ht===e)break e;if(st===o&&++it===h&&(O=b),st===m&&++ct===u&&(j=b),(ut=ht.nextSibling)!==null)break;ht=st,st=ht.parentNode}ht=ut}o=O===-1||j===-1?null:{start:O,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(_m={focusedElem:e,selectionRange:o},pf=!1,un=r;un!==null;)if(r=un,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,un=e;else for(;un!==null;){switch(r=un,m=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)h=e[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=r,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var bt=ts(o.type,h);e=u.getSnapshotBeforeUpdate(bt,m),u.__reactInternalSnapshotBeforeUpdate=e}catch(Pt){fe(o,o.return,Pt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,o=e.nodeType,o===9)bm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,un=e;break}un=r.return}}function b0(e,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ai(e,o),u&4&&kl(5,o);break;case 1:if(Ai(e,o),u&4)if(e=o.stateNode,r===null)try{e.componentDidMount()}catch(b){fe(o,o.return,b)}else{var h=ts(o.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(b){fe(o,o.return,b)}}u&64&&p0(o),u&512&&jl(o,o.return);break;case 3:if(Ai(e,o),u&64&&(e=o.updateQueue,e!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{sy(e,r)}catch(b){fe(o,o.return,b)}}break;case 27:r===null&&u&4&&E0(o);case 26:case 5:Ai(e,o),r===null&&u&4&&v0(o),u&512&&jl(o,o.return);break;case 12:Ai(e,o);break;case 31:Ai(e,o),u&4&&w0(e,o);break;case 13:Ai(e,o),u&4&&I0(e,o),u&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=q2.bind(null,o),uA(e,o))));break;case 22:if(u=o.memoizedState!==null||Ti,!u){r=r!==null&&r.memoizedState!==null||We,h=Ti;var m=We;Ti=u,(We=r)&&!m?Si(e,o,(o.subtreeFlags&8772)!==0):Ai(e,o),Ti=h,We=m}break;case 30:break;default:Ai(e,o)}}function A0(e){var r=e.alternate;r!==null&&(e.alternate=null,A0(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Ns(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xe=null,Ln=!1;function bi(e,r,o){for(o=o.child;o!==null;)S0(e,r,o),o=o.sibling}function S0(e,r,o){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Be,o)}catch{}switch(o.tag){case 26:We||Zr(o,r),bi(e,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:We||Zr(o,r);var u=xe,h=Ln;aa(o.type)&&(xe=o.stateNode,Ln=!1),bi(e,r,o),Zl(o.stateNode),xe=u,Ln=h;break;case 5:We||Zr(o,r);case 6:if(u=xe,h=Ln,xe=null,bi(e,r,o),xe=u,Ln=h,xe!==null)if(Ln)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(o.stateNode)}catch(m){fe(o,r,m)}else try{xe.removeChild(o.stateNode)}catch(m){fe(o,r,m)}break;case 18:xe!==null&&(Ln?(e=xe,pv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),vo(e)):pv(xe,o.stateNode));break;case 4:u=xe,h=Ln,xe=o.stateNode.containerInfo,Ln=!0,bi(e,r,o),xe=u,Ln=h;break;case 0:case 11:case 14:case 15:$i(2,o,r),We||$i(4,o,r),bi(e,r,o);break;case 1:We||(Zr(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&y0(o,r,u)),bi(e,r,o);break;case 21:bi(e,r,o);break;case 22:We=(u=We)||o.memoizedState!==null,bi(e,r,o),We=u;break;default:bi(e,r,o)}}function w0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vo(e)}catch(o){fe(r,r.return,o)}}}function I0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vo(e)}catch(o){fe(r,r.return,o)}}function P2(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new T0),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new T0),r;default:throw Error(i(435,e.tag))}}function Xc(e,r){var o=P2(e);r.forEach(function(u){if(!o.has(u)){o.add(u);var h=H2.bind(null,e,u);u.then(h,h)}})}function Bn(e,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=e,b=r,O=b;t:for(;O!==null;){switch(O.tag){case 27:if(aa(O.type)){xe=O.stateNode,Ln=!1;break t}break;case 5:xe=O.stateNode,Ln=!1;break t;case 3:case 4:xe=O.stateNode.containerInfo,Ln=!0;break t}O=O.return}if(xe===null)throw Error(i(160));S0(m,b,h),xe=null,Ln=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)R0(r,e),r=r.sibling}var Cr=null;function R0(e,r){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(r,e),kn(e),u&4&&($i(3,e,e.return),kl(3,e),$i(5,e,e.return));break;case 1:Bn(r,e),kn(e),u&512&&(We||o===null||Zr(o,o.return)),u&64&&Ti&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Cr;if(Bn(r,e),kn(e),u&512&&(We||o===null||Zr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=e.memoizedState,o===null)if(u===null)if(e.stateNode===null){t:{u=e.type,o=e.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ur]||m[Ge]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),_n(m,u,o),m[Ge]=e,Qe(m),u=m;break t;case"link":var b=Rv("link","href",h).get(u+(o.href||""));if(b){for(var O=0;O<b.length;O++)if(m=b[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(O,1);break e}}m=h.createElement(u),_n(m,u,o),h.head.appendChild(m);break;case"meta":if(b=Rv("meta","content",h).get(u+(o.content||""))){for(O=0;O<b.length;O++)if(m=b[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(O,1);break e}}m=h.createElement(u),_n(m,u,o),h.head.appendChild(m);break;default:throw Error(i(468,u))}m[Ge]=e,Qe(m),u=m}e.stateNode=u}else Dv(h,e.type,e.stateNode);else e.stateNode=Iv(h,u,e.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Dv(h,e.type,e.stateNode):Iv(h,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Kd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Bn(r,e),kn(e),u&512&&(We||o===null||Zr(o,o.return)),o!==null&&u&4&&Kd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Bn(r,e),kn(e),u&512&&(We||o===null||Zr(o,o.return)),e.flags&32){h=e.stateNode;try{zn(h,"")}catch(bt){fe(e,e.return,bt)}}u&4&&e.stateNode!=null&&(h=e.memoizedProps,Kd(e,h,o!==null?o.memoizedProps:h)),u&1024&&(Wd=!0);break;case 6:if(Bn(r,e),kn(e),u&4){if(e.stateNode===null)throw Error(i(162));u=e.memoizedProps,o=e.stateNode;try{o.nodeValue=u}catch(bt){fe(e,e.return,bt)}}break;case 3:if(hf=null,h=Cr,Cr=cf(r.containerInfo),Bn(r,e),Cr=h,kn(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{vo(r.containerInfo)}catch(bt){fe(e,e.return,bt)}Wd&&(Wd=!1,D0(e));break;case 4:u=Cr,Cr=cf(e.stateNode.containerInfo),Bn(r,e),kn(e),Cr=u;break;case 12:Bn(r,e),kn(e);break;case 31:Bn(r,e),kn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Xc(e,u)));break;case 13:Bn(r,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wc=Ot()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Xc(e,u)));break;case 22:h=e.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,it=Ti,ct=We;if(Ti=it||h,We=ct||j,Bn(r,e),We=ct,Ti=it,kn(e),u&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(o===null||j||Ti||We||es(e)),o=null,r=e;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(m=j.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{O=j.stateNode;var ht=j.memoizedProps.style,st=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;O.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(bt){fe(j,j.return,bt)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(bt){fe(j,j.return,bt)}}}else if(r.tag===18){if(o===null){j=r;try{var ut=j.stateNode;h?yv(ut,!0):yv(j.stateNode,!1)}catch(bt){fe(j,j.return,bt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Xc(e,o))));break;case 19:Bn(r,e),kn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Xc(e,u)));break;case 30:break;case 21:break;default:Bn(r,e),kn(e)}}function kn(e){var r=e.flags;if(r&2){try{for(var o,u=e.return;u!==null;){if(_0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,m=Xd(e);Kc(e,m,h);break;case 5:var b=o.stateNode;o.flags&32&&(zn(b,""),o.flags&=-33);var O=Xd(e);Kc(e,O,b);break;case 3:case 4:var j=o.stateNode.containerInfo,it=Xd(e);Zd(e,it,j);break;default:throw Error(i(161))}}catch(ct){fe(e,e.return,ct)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function D0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;D0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Ai(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b0(e,r.alternate,r),r=r.sibling}function es(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:$i(4,r,r.return),es(r);break;case 1:Zr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&y0(r,r.return,o),es(r);break;case 27:Zl(r.stateNode);case 26:case 5:Zr(r,r.return),es(r);break;case 22:r.memoizedState===null&&es(r);break;case 30:es(r);break;default:es(r)}e=e.sibling}}function Si(e,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=e,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Si(h,m,o),kl(4,m);break;case 1:if(Si(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(it){fe(u,u.return,it)}if(u=m,h=u.updateQueue,h!==null){var O=u.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)ay(j[h],O)}catch(it){fe(u,u.return,it)}}o&&b&64&&p0(m),jl(m,m.return);break;case 27:E0(m);case 26:case 5:Si(h,m,o),o&&u===null&&b&4&&v0(m),jl(m,m.return);break;case 12:Si(h,m,o);break;case 31:Si(h,m,o),o&&b&4&&w0(h,m);break;case 13:Si(h,m,o),o&&b&4&&I0(h,m);break;case 22:m.memoizedState===null&&Si(h,m,o),jl(m,m.return);break;case 30:break;default:Si(h,m,o)}r=r.sibling}}function $d(e,r){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Rl(o))}function Jd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Rl(e))}function xr(e,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C0(e,r,o,u),r=r.sibling}function C0(e,r,o,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:xr(e,r,o,u),h&2048&&kl(9,r);break;case 1:xr(e,r,o,u);break;case 3:xr(e,r,o,u),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Rl(e)));break;case 12:if(h&2048){xr(e,r,o,u),e=r.stateNode;try{var m=r.memoizedProps,b=m.id,O=m.onPostCommit;typeof O=="function"&&O(b,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){fe(r,r.return,j)}}else xr(e,r,o,u);break;case 31:xr(e,r,o,u);break;case 13:xr(e,r,o,u);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?xr(e,r,o,u):Fl(e,r):m._visibility&2?xr(e,r,o,u):(m._visibility|=2,so(e,r,o,u,(r.subtreeFlags&10256)!==0||!1)),h&2048&&$d(b,r);break;case 24:xr(e,r,o,u),h&2048&&Jd(r.alternate,r);break;default:xr(e,r,o,u)}}function so(e,r,o,u,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=e,b=r,O=o,j=u,it=b.flags;switch(b.tag){case 0:case 11:case 15:so(m,b,O,j,h),kl(8,b);break;case 23:break;case 22:var ct=b.stateNode;b.memoizedState!==null?ct._visibility&2?so(m,b,O,j,h):Fl(m,b):(ct._visibility|=2,so(m,b,O,j,h)),h&&it&2048&&$d(b.alternate,b);break;case 24:so(m,b,O,j,h),h&&it&2048&&Jd(b.alternate,b);break;default:so(m,b,O,j,h)}r=r.sibling}}function Fl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=e,u=r,h=u.flags;switch(u.tag){case 22:Fl(o,u),h&2048&&$d(u.alternate,u);break;case 24:Fl(o,u),h&2048&&Jd(u.alternate,u);break;default:Fl(o,u)}r=r.sibling}}var ql=8192;function oo(e,r,o){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)x0(e,r,o),e=e.sibling}function x0(e,r,o){switch(e.tag){case 26:oo(e,r,o),e.flags&ql&&e.memoizedState!==null&&TA(o,Cr,e.memoizedState,e.memoizedProps);break;case 5:oo(e,r,o);break;case 3:case 4:var u=Cr;Cr=cf(e.stateNode.containerInfo),oo(e,r,o),Cr=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=ql,ql=16777216,oo(e,r,o),ql=u):oo(e,r,o));break;default:oo(e,r,o)}}function V0(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Hl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];un=u,N0(u,e)}V0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)M0(e),e=e.sibling}function M0(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&$i(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Zc(e)):Hl(e);break;default:Hl(e)}}function Zc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];un=u,N0(u,e)}V0(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:$i(8,r,r.return),Zc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Zc(r));break;default:Zc(r)}e=e.sibling}}function N0(e,r){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:$i(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Rl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,un=u;else t:for(o=e;un!==null;){u=un;var h=u.sibling,m=u.return;if(A0(u),u===o){un=null;break t}if(h!==null){h.return=m,un=h;break t}un=m}}}var U2={getCacheForType:function(e){var r=yn(Ke),o=r.data.get(e);return o===void 0&&(o=e(),r.data.set(e,o)),o},cacheSignal:function(){return yn(Ke).controller.signal}},z2=typeof WeakMap=="function"?WeakMap:Map,ie=0,Ae=null,Gt=null,Yt=0,ce=0,Wn=null,Ji=!1,lo=!1,tm=!1,wi=0,ze=0,ta=0,ns=0,em=0,$n=0,uo=0,Gl=null,jn=null,nm=!1,Wc=0,O0=0,$c=1/0,Jc=null,ea=null,nn=0,na=null,co=null,Ii=0,rm=0,im=null,P0=null,Ql=0,am=null;function Jn(){return(ie&2)!==0&&Yt!==0?Yt&-Yt:I.T!==null?fm():tc()}function U0(){if($n===0)if((Yt&536870912)===0||Zt){var e=li;li<<=1,(li&3932160)===0&&(li=262144),$n=e}else $n=536870912;return e=Xn.current,e!==null&&(e.flags|=32),$n}function Fn(e,r,o){(e===Ae&&(ce===2||ce===9)||e.cancelPendingCommit!==null)&&(fo(e,0),ra(e,Yt,$n,!1)),xa(e,o),((ie&2)===0||e!==Ae)&&(e===Ae&&((ie&2)===0&&(ns|=o),ze===4&&ra(e,Yt,$n,!1)),Wr(e))}function z0(e,r,o){if((ie&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&e.expiredLanes)===0||mn(e,r),h=u?k2(e,r):om(e,r,!0),m=u;do{if(h===0){lo&&!u&&ra(e,r,0,!1);break}else{if(o=e.current.alternate,m&&!L2(o)){h=om(e,r,!1),m=!1;continue}if(h===2){if(m=r,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var O=e;h=Gl;var j=O.current.memoizedState.isDehydrated;if(j&&(fo(O,b).flags|=256),b=om(O,b,!1),b!==2){if(tm&&!j){O.errorRecoveryDisabledLanes|=m,ns|=m,h=4;break t}m=jn,jn=h,m!==null&&(jn===null?jn=m:jn.push.apply(jn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){fo(e,0),ra(e,r,0,!0);break}t:{switch(u=e,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ra(u,r,$n,!Ji);break t;case 2:jn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Wc+300-Ot(),10<h)){if(ra(u,r,$n,!Ji),dn(u,0,!0)!==0)break t;Ii=r,u.timeoutHandle=mv(L0.bind(null,u,o,jn,Jc,nm,r,$n,ns,uo,Ji,m,"Throttled",-0,0),h);break t}L0(u,o,jn,Jc,nm,r,$n,ns,uo,Ji,m,null,-0,0)}}break}while(!0);Wr(e)}function L0(e,r,o,u,h,m,b,O,j,it,ct,ht,st,ut){if(e.timeoutHandle=-1,ht=r.subtreeFlags,ht&8192||(ht&16785408)===16785408){ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ar},x0(r,m,ht);var bt=(m&62914560)===m?Wc-Ot():(m&4194048)===m?O0-Ot():0;if(bt=bA(ht,bt),bt!==null){Ii=m,e.cancelPendingCommit=bt(Q0.bind(null,e,r,m,o,u,h,b,O,j,ct,ht,null,st,ut)),ra(e,m,b,!it);return}}Q0(e,r,m,o,u,h,b,O,j)}function L2(e){for(var r=e;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Yn(m(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ra(e,r,o,u){r&=~em,r&=~ns,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var h=r;0<h;){var m=31-Ie(h),b=1<<m;u[m]=-1,h&=~b}o!==0&&Va(e,o,r)}function tf(){return(ie&6)===0?(Yl(0),!1):!0}function sm(){if(Gt!==null){if(ce===0)var e=Gt.return;else e=Gt,gi=Ya=null,bd(e),eo=null,Cl=0,e=Gt;for(;e!==null;)g0(e.alternate,e),e=e.return;Gt=null}}function fo(e,r){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,iA(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ii=0,sm(),Ae=e,Gt=o=di(e.current,null),Yt=r,ce=0,Wn=null,Ji=!1,lo=mn(e,r),tm=!1,uo=$n=em=ns=ta=ze=0,jn=Gl=null,nm=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var h=31-Ie(u),m=1<<h;r|=e[h],u&=~m}return wi=r,Tc(),o}function B0(e,r){Ft=null,I.H=zl,r===to||r===Cc?(r=ey(),ce=3):r===cd?(r=ey(),ce=4):ce=r===Ld?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Wn=r,Gt===null&&(ze=1,qc(e,ur(r,e.current)))}function k0(){var e=Xn.current;return e===null?!0:(Yt&4194048)===Yt?dr===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?e===dr:!1}function j0(){var e=I.H;return I.H=zl,e===null?zl:e}function F0(){var e=I.A;return I.A=U2,e}function ef(){ze=4,Ji||(Yt&4194048)!==Yt&&Xn.current!==null||(lo=!0),(ta&134217727)===0&&(ns&134217727)===0||Ae===null||ra(Ae,Yt,$n,!1)}function om(e,r,o){var u=ie;ie|=2;var h=j0(),m=F0();(Ae!==e||Yt!==r)&&(Jc=null,fo(e,r)),r=!1;var b=ze;t:do try{if(ce!==0&&Gt!==null){var O=Gt,j=Wn;switch(ce){case 8:sm(),b=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var it=ce;if(ce=0,Wn=null,ho(e,O,j,it),o&&lo){b=0;break t}break;default:it=ce,ce=0,Wn=null,ho(e,O,j,it)}}B2(),b=ze;break}catch(ct){B0(e,ct)}while(!0);return r&&e.shellSuspendCounter++,gi=Ya=null,ie=u,I.H=h,I.A=m,Gt===null&&(Ae=null,Yt=0,Tc()),b}function B2(){for(;Gt!==null;)q0(Gt)}function k2(e,r){var o=ie;ie|=2;var u=j0(),h=F0();Ae!==e||Yt!==r?(Jc=null,$c=Ot()+500,fo(e,r)):lo=mn(e,r);t:do try{if(ce!==0&&Gt!==null){r=Gt;var m=Wn;e:switch(ce){case 1:ce=0,Wn=null,ho(e,r,m,1);break;case 2:case 9:if(Jp(m)){ce=0,Wn=null,H0(r);break}r=function(){ce!==2&&ce!==9||Ae!==e||(ce=7),Wr(e)},m.then(r,r);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Jp(m)?(ce=0,Wn=null,H0(r)):(ce=0,Wn=null,ho(e,r,m,7));break;case 5:var b=null;switch(Gt.tag){case 26:b=Gt.memoizedState;case 5:case 27:var O=Gt;if(b?Cv(b):O.stateNode.complete){ce=0,Wn=null;var j=O.sibling;if(j!==null)Gt=j;else{var it=O.return;it!==null?(Gt=it,nf(it)):Gt=null}break e}}ce=0,Wn=null,ho(e,r,m,5);break;case 6:ce=0,Wn=null,ho(e,r,m,6);break;case 8:sm(),ze=6;break t;default:throw Error(i(462))}}j2();break}catch(ct){B0(e,ct)}while(!0);return gi=Ya=null,I.H=u,I.A=h,ie=o,Gt!==null?0:(Ae=null,Yt=0,Tc(),ze)}function j2(){for(;Gt!==null&&!kt();)q0(Gt)}function q0(e){var r=d0(e.alternate,e,wi);e.memoizedProps=e.pendingProps,r===null?nf(e):Gt=r}function H0(e){var r=e,o=r.alternate;switch(r.tag){case 15:case 0:r=o0(o,r,r.pendingProps,r.type,void 0,Yt);break;case 11:r=o0(o,r,r.pendingProps,r.type.render,r.ref,Yt);break;case 5:bd(r);default:g0(o,r),r=Gt=Fp(r,wi),r=d0(o,r,wi)}e.memoizedProps=e.pendingProps,r===null?nf(e):Gt=r}function ho(e,r,o,u){gi=Ya=null,bd(r),eo=null,Cl=0;var h=r.return;try{if(C2(e,h,r,o,Yt)){ze=1,qc(e,ur(o,e.current)),Gt=null;return}}catch(m){if(h!==null)throw Gt=h,m;ze=1,qc(e,ur(o,e.current)),Gt=null;return}r.flags&32768?(Zt||u===1?e=!0:lo||(Yt&536870912)!==0?e=!1:(Ji=e=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),G0(r,e)):nf(r)}function nf(e){var r=e;do{if((r.flags&32768)!==0){G0(r,Ji);return}e=r.return;var o=M2(r.alternate,r,wi);if(o!==null){Gt=o;return}if(r=r.sibling,r!==null){Gt=r;return}Gt=r=e}while(r!==null);ze===0&&(ze=5)}function G0(e,r){do{var o=N2(e.alternate,e);if(o!==null){o.flags&=32767,Gt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(e=e.sibling,e!==null)){Gt=e;return}Gt=e=o}while(e!==null);ze=6,Gt=null}function Q0(e,r,o,u,h,m,b,O,j){e.cancelPendingCommit=null;do rf();while(nn!==0);if((ie&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Xh,kh(e,o,m,b,O,j),e===Ae&&(Gt=Ae=null,Yt=0),co=r,na=e,Ii=o,rm=m,im=h,P0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,G2(we,function(){return W0(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=I.T,I.T=null,h=R.p,R.p=2,b=ie,ie|=4;try{O2(e,r,o)}finally{ie=b,R.p=h,I.T=u}}nn=1,Y0(),K0(),X0()}}function Y0(){if(nn===1){nn=0;var e=na,r=co,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=I.T,I.T=null;var u=R.p;R.p=2;var h=ie;ie|=4;try{R0(r,e);var m=_m,b=Np(e.containerInfo),O=m.focusedElem,j=m.selectionRange;if(b!==O&&O&&O.ownerDocument&&Mp(O.ownerDocument.documentElement,O)){if(j!==null&&Hh(O)){var it=j.start,ct=j.end;if(ct===void 0&&(ct=it),"selectionStart"in O)O.selectionStart=it,O.selectionEnd=Math.min(ct,O.value.length);else{var ht=O.ownerDocument||document,st=ht&&ht.defaultView||window;if(st.getSelection){var ut=st.getSelection(),bt=O.textContent.length,Pt=Math.min(j.start,bt),Te=j.end===void 0?Pt:Math.min(j.end,bt);!ut.extend&&Pt>Te&&(b=Te,Te=Pt,Pt=b);var X=Vp(O,Pt),H=Vp(O,Te);if(X&&H&&(ut.rangeCount!==1||ut.anchorNode!==X.node||ut.anchorOffset!==X.offset||ut.focusNode!==H.node||ut.focusOffset!==H.offset)){var rt=ht.createRange();rt.setStart(X.node,X.offset),ut.removeAllRanges(),Pt>Te?(ut.addRange(rt),ut.extend(H.node,H.offset)):(rt.setEnd(H.node,H.offset),ut.addRange(rt))}}}}for(ht=[],ut=O;ut=ut.parentNode;)ut.nodeType===1&&ht.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ht.length;O++){var ft=ht[O];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}pf=!!vm,_m=vm=null}finally{ie=h,R.p=u,I.T=o}}e.current=r,nn=2}}function K0(){if(nn===2){nn=0;var e=na,r=co,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=I.T,I.T=null;var u=R.p;R.p=2;var h=ie;ie|=4;try{b0(e,r.alternate,r)}finally{ie=h,R.p=u,I.T=o}}nn=3}}function X0(){if(nn===4||nn===3){nn=0,Mt();var e=na,r=co,o=Ii,u=P0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,co=na=null,Z0(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ea=null),ui(o),r=r.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Be,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=I.T,h=R.p,R.p=2,I.T=null;try{for(var m=e.onRecoverableError,b=0;b<u.length;b++){var O=u[b];m(O.value,{componentStack:O.stack})}}finally{I.T=r,R.p=h}}(Ii&3)!==0&&rf(),Wr(e),h=e.pendingLanes,(o&261930)!==0&&(h&42)!==0?e===am?Ql++:(Ql=0,am=e):Ql=0,Yl(0)}}function Z0(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Rl(r)))}function rf(){return Y0(),K0(),X0(),W0()}function W0(){if(nn!==5)return!1;var e=na,r=rm;rm=0;var o=ui(Ii),u=I.T,h=R.p;try{R.p=32>o?32:o,I.T=null,o=im,im=null;var m=na,b=Ii;if(nn=0,co=na=null,Ii=0,(ie&6)!==0)throw Error(i(331));var O=ie;if(ie|=4,M0(m.current),C0(m,m.current,b,o),ie=O,Yl(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Be,m)}catch{}return!0}finally{R.p=h,I.T=u,Z0(e,r)}}function $0(e,r,o){r=ur(o,r),r=zd(e.stateNode,r,2),e=Xi(e,r,2),e!==null&&(xa(e,2),Wr(e))}function fe(e,r,o){if(e.tag===3)$0(e,e,o);else for(;r!==null;){if(r.tag===3){$0(r,e,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ea===null||!ea.has(u))){e=ur(o,e),o=Jy(2),u=Xi(r,o,2),u!==null&&(t0(o,u,r,e),xa(u,2),Wr(u));break}}r=r.return}}function lm(e,r,o){var u=e.pingCache;if(u===null){u=e.pingCache=new z2;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(tm=!0,h.add(o),e=F2.bind(null,e,r,o),r.then(e,e))}function F2(e,r,o){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ae===e&&(Yt&o)===o&&(ze===4||ze===3&&(Yt&62914560)===Yt&&300>Ot()-Wc?(ie&2)===0&&fo(e,0):em|=o,uo===Yt&&(uo=0)),Wr(e)}function J0(e,r){r===0&&(r=rr()),e=Ha(e,r),e!==null&&(xa(e,r),Wr(e))}function q2(e){var r=e.memoizedState,o=0;r!==null&&(o=r.retryLane),J0(e,o)}function H2(e,r){var o=0;switch(e.tag){case 31:case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),J0(e,o)}function G2(e,r){return Rt(e,r)}var af=null,mo=null,um=!1,sf=!1,cm=!1,ia=0;function Wr(e){e!==mo&&e.next===null&&(mo===null?af=mo=e:mo=mo.next=e),sf=!0,um||(um=!0,Y2())}function Yl(e,r){if(!cm&&sf){cm=!0;do for(var o=!1,u=af;u!==null;){if(e!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var b=u.suspendedLanes,O=u.pingedLanes;m=(1<<31-Ie(42|e)+1)-1,m&=h&~(b&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,rv(u,m))}else m=Yt,m=dn(u,u===Ae?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||mn(u,m)||(o=!0,rv(u,m));u=u.next}while(o);cm=!1}}function Q2(){tv()}function tv(){sf=um=!1;var e=0;ia!==0&&rA()&&(e=ia);for(var r=Ot(),o=null,u=af;u!==null;){var h=u.next,m=ev(u,r);m===0?(u.next=null,o===null?af=h:o.next=h,h===null&&(mo=o)):(o=u,(e!==0||(m&3)!==0)&&(sf=!0)),u=h}nn!==0&&nn!==5||Yl(e),ia!==0&&(ia=0)}function ev(e,r){for(var o=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Ie(m),O=1<<b,j=h[b];j===-1?((O&o)===0||(O&u)!==0)&&(h[b]=Vs(O,r)):j<=r&&(e.expiredLanes|=O),m&=~O}if(r=Ae,o=Yt,o=dn(e,e===r?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,o===0||e===r&&(ce===2||ce===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Lt(u),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||mn(e,o)){if(r=o&-o,r===e.callbackPriority)return r;switch(u!==null&&Lt(u),ui(o)){case 2:case 8:o=Pn;break;case 32:o=we;break;case 268435456:o=qe;break;default:o=we}return u=nv.bind(null,e),o=Rt(o,u),e.callbackPriority=r,e.callbackNode=o,r}return u!==null&&u!==null&&Lt(u),e.callbackPriority=2,e.callbackNode=null,2}function nv(e,r){if(nn!==0&&nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(rf()&&e.callbackNode!==o)return null;var u=Yt;return u=dn(e,e===Ae?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(z0(e,u,r),ev(e,Ot()),e.callbackNode!=null&&e.callbackNode===o?nv.bind(null,e):null)}function rv(e,r){if(rf())return null;z0(e,r,!0)}function Y2(){aA(function(){(ie&6)!==0?Rt(Oe,Q2):tv()})}function fm(){if(ia===0){var e=$s;e===0&&(e=An,An<<=1,(An&261888)===0&&(An=256)),ia=e}return ia}function iv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function av(e,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,e.id&&o.setAttribute("form",e.id),r.parentNode.insertBefore(o,r),e=new FormData(e),o.parentNode.removeChild(o),e}function K2(e,r,o,u,h){if(r==="submit"&&o&&o.stateNode===h){var m=iv((h[on]||null).action),b=u.submitter;b&&(r=(r=b[on]||null)?iv(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var O=new Hr("action","action",null,u,h);e.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ia!==0){var j=b?av(h,b):new FormData(h);Vd(o,{pending:!0,data:j,method:h.method,action:m},null,j)}}else typeof m=="function"&&(O.preventDefault(),j=b?av(h,b):new FormData(h),Vd(o,{pending:!0,data:j,method:h.method,action:m},m,j))},currentTarget:h}]})}}for(var hm=0;hm<Kh.length;hm++){var dm=Kh[hm],X2=dm.toLowerCase(),Z2=dm[0].toUpperCase()+dm.slice(1);Dr(X2,"on"+Z2)}Dr(Up,"onAnimationEnd"),Dr(zp,"onAnimationIteration"),Dr(Lp,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(h2,"onTransitionRun"),Dr(d2,"onTransitionStart"),Dr(m2,"onTransitionCancel"),Dr(Bp,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function sv(e,r){r=(r&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],h=u.event;u=u.listeners;t:{var m=void 0;if(r)for(var b=u.length-1;0<=b;b--){var O=u[b],j=O.instance,it=O.currentTarget;if(O=O.listener,j!==m&&h.isPropagationStopped())break t;m=O,h.currentTarget=it;try{m(h)}catch(ct){Ec(ct)}h.currentTarget=null,m=j}else for(b=0;b<u.length;b++){if(O=u[b],j=O.instance,it=O.currentTarget,O=O.listener,j!==m&&h.isPropagationStopped())break t;m=O,h.currentTarget=it;try{m(h)}catch(ct){Ec(ct)}h.currentTarget=null,m=j}}}}function Qt(e,r){var o=r[Ms];o===void 0&&(o=r[Ms]=new Set);var u=e+"__bubble";o.has(u)||(ov(r,e,2,!1),o.add(u))}function mm(e,r,o){var u=0;r&&(u|=4),ov(o,e,u,r)}var of="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[of]){e[of]=!0,sl.forEach(function(o){o!=="selectionchange"&&(W2.has(o)||mm(o,!1,e),mm(o,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[of]||(r[of]=!0,mm("selectionchange",!1,r))}}function ov(e,r,o,u){switch(Uv(r)){case 2:var h=wA;break;case 8:h=IA;break;default:h=xm}o=h.bind(null,r,o,e),h=void 0,!Ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(r,o,{capture:!0,passive:h}):e.addEventListener(r,o,!0):h!==void 0?e.addEventListener(r,o,{passive:h}):e.addEventListener(r,o,!1)}function pm(e,r,o,u,h){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var O=u.stateNode.containerInfo;if(O===h)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;O!==null;){if(b=zr(O),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=m=b;continue t}O=O.parentNode}}u=u.return}Bi(function(){var it=m,ct=ar(o),ht=[];t:{var st=kp.get(e);if(st!==void 0){var ut=Hr,bt=e;switch(e){case"keypress":if(La(o)===0)break t;case"keydown":case"keyup":ut=yc;break;case"focusin":bt="focus",ut=ka;break;case"focusout":bt="blur",ut=ka;break;case"beforeblur":case"afterblur":ut=ka;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=_;break;case Up:case zp:case Lp:ut=cc;break;case Bp:ut=P;break;case"scroll":case"scrollend":ut=vl;break;case"wheel":ut=lt;break;case"copy":case"cut":case"paste":ut=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=hi;break;case"toggle":case"beforetoggle":ut=jt}var Pt=(r&4)!==0,Te=!Pt&&(e==="scroll"||e==="scrollend"),X=Pt?st!==null?st+"Capture":null:st;Pt=[];for(var H=it,rt;H!==null;){var ft=H;if(rt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||rt===null||X===null||(ft=Sr(H,X),ft!=null&&Pt.push(Xl(H,ft,rt))),Te)break;H=H.return}0<Pt.length&&(st=new ut(st,bt,null,o,ct),ht.push({event:st,listeners:Pt}))}}if((r&7)===0){t:{if(st=e==="mouseover"||e==="pointerover",ut=e==="mouseout"||e==="pointerout",st&&o!==gl&&(bt=o.relatedTarget||o.fromElement)&&(zr(bt)||bt[Pr]))break t;if((ut||st)&&(st=ct.window===ct?ct:(st=ct.ownerDocument)?st.defaultView||st.parentWindow:window,ut?(bt=o.relatedTarget||o.toElement,ut=it,bt=bt?zr(bt):null,bt!==null&&(Te=l(bt),Pt=bt.tag,bt!==Te||Pt!==5&&Pt!==27&&Pt!==6)&&(bt=null)):(ut=null,bt=it),ut!==bt)){if(Pt=_l,ft="onMouseLeave",X="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Pt=hi,ft="onPointerLeave",X="onPointerEnter",H="pointer"),Te=ut==null?st:Gn(ut),rt=bt==null?st:Gn(bt),st=new Pt(ft,H+"leave",ut,o,ct),st.target=Te,st.relatedTarget=rt,ft=null,zr(ct)===it&&(Pt=new Pt(X,H+"enter",bt,o,ct),Pt.target=rt,Pt.relatedTarget=Te,ft=Pt),Te=ft,ut&&bt)e:{for(Pt=$2,X=ut,H=bt,rt=0,ft=X;ft;ft=Pt(ft))rt++;ft=0;for(var xt=H;xt;xt=Pt(xt))ft++;for(;0<rt-ft;)X=Pt(X),rt--;for(;0<ft-rt;)H=Pt(H),ft--;for(;rt--;){if(X===H||H!==null&&X===H.alternate){Pt=X;break e}X=Pt(X),H=Pt(H)}Pt=null}else Pt=null;ut!==null&&lv(ht,st,ut,Pt,!1),bt!==null&&Te!==null&&lv(ht,Te,bt,Pt,!0)}}t:{if(st=it?Gn(it):window,ut=st.nodeName&&st.nodeName.toLowerCase(),ut==="select"||ut==="input"&&st.type==="file")var te=wp;else if(Ap(st))if(Ip)te=u2;else{te=o2;var wt=s2}else ut=st.nodeName,!ut||ut.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?it&&Us(it.elementType)&&(te=wp):te=l2;if(te&&(te=te(e,it))){Sp(ht,te,o,ct);break t}wt&&wt(e,st,it),e==="focusout"&&it&&st.type==="number"&&it.memoizedProps.value!=null&&hl(st,"number",st.value)}switch(wt=it?Gn(it):window,e){case"focusin":(Ap(wt)||wt.contentEditable==="true")&&(Hs=wt,Gh=it,Sl=null);break;case"focusout":Sl=Gh=Hs=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Op(ht,o,ct);break;case"selectionchange":if(f2)break;case"keydown":case"keyup":Op(ht,o,ct)}var qt;if(re)t:{switch(e){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else qs?ja(e,o)&&(Kt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Kt="onCompositionStart");Kt&&(Yr&&o.locale!=="ko"&&(qs||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&qs&&(qt=yl()):(qr=ct,pl="value"in qr?qr.value:qr.textContent,qs=!0)),wt=lf(it,Kt),0<wt.length&&(Kt=new Qr(Kt,e,null,o,ct),ht.push({event:Kt,listeners:wt}),qt?Kt.data=qt:(qt=Fs(o),qt!==null&&(Kt.data=qt)))),(qt=or?n2(e,o):r2(e,o))&&(Kt=lf(it,"onBeforeInput"),0<Kt.length&&(wt=new Qr("onBeforeInput","beforeinput",null,o,ct),ht.push({event:wt,listeners:Kt}),wt.data=qt)),K2(ht,e,it,o,ct)}sv(ht,r)})}function Xl(e,r,o){return{instance:e,listener:r,currentTarget:o}}function lf(e,r){for(var o=r+"Capture",u=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Sr(e,o),h!=null&&u.unshift(Xl(e,h,m)),h=Sr(e,r),h!=null&&u.push(Xl(e,h,m))),e.tag===3)return u;e=e.return}return[]}function $2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lv(e,r,o,u,h){for(var m=r._reactName,b=[];o!==null&&o!==u;){var O=o,j=O.alternate,it=O.stateNode;if(O=O.tag,j!==null&&j===u)break;O!==5&&O!==26&&O!==27||it===null||(j=it,h?(it=Sr(o,m),it!=null&&b.unshift(Xl(o,it,j))):h||(it=Sr(o,m),it!=null&&b.push(Xl(o,it,j)))),o=o.return}b.length!==0&&e.push({event:r,listeners:b})}var J2=/\r\n?/g,tA=/\u0000|\uFFFD/g;function uv(e){return(typeof e=="string"?e:""+e).replace(J2,`
`).replace(tA,"")}function cv(e,r){return r=uv(r),uv(e)===r}function Ee(e,r,o,u,h,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||zn(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&zn(e,""+u);break;case"className":Qn(e,"class",u);break;case"tabIndex":Qn(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,o,u);break;case"style":ml(e,u,m);break;case"data":if(r!=="object"){Qn(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){e.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=zs(""+u),e.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Ee(e,r,"name",h.name,h,null),Ee(e,r,"formEncType",h.formEncType,h,null),Ee(e,r,"formMethod",h.formMethod,h,null),Ee(e,r,"formTarget",h.formTarget,h,null)):(Ee(e,r,"encType",h.encType,h,null),Ee(e,r,"method",h.method,h,null),Ee(e,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=zs(""+u),e.setAttribute(o,u);break;case"onClick":u!=null&&(e.onclick=Ar);break;case"onScroll":u!=null&&Qt("scroll",e);break;case"onScrollEnd":u!=null&&Qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}o=zs(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""+u):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":u===!0?e.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,u):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(o,u):e.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(o):e.setAttribute(o,u);break;case"popover":Qt("beforetoggle",e),Qt("toggle",e),Os(e,"popover",u);break;case"xlinkActuate":Ye(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ye(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ye(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ye(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ye(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ye(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Os(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=oc.get(o)||o,Os(e,o,u))}}function ym(e,r,o,u,h,m){switch(o){case"style":ml(e,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"children":typeof u=="string"?zn(e,u):(typeof u=="number"||typeof u=="bigint")&&zn(e,""+u);break;case"onScroll":u!=null&&Qt("scroll",e);break;case"onScrollEnd":u!=null&&Qt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),m=e[on]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(r,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(r,u,h);break t}o in e?e[o]=u:u===!0?e.setAttribute(o,""):Os(e,o,u)}}}function _n(e,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",e),Qt("load",e);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ee(e,r,m,b,o,null)}}h&&Ee(e,r,"srcSet",o.srcSet,o,null),u&&Ee(e,r,"src",o.src,o,null);return;case"input":Qt("invalid",e);var O=m=b=h=null,j=null,it=null;for(u in o)if(o.hasOwnProperty(u)){var ct=o[u];if(ct!=null)switch(u){case"name":h=ct;break;case"type":b=ct;break;case"checked":j=ct;break;case"defaultChecked":it=ct;break;case"value":m=ct;break;case"defaultValue":O=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,r));break;default:Ee(e,r,u,ct,o,null)}}ic(e,m,O,j,it,b,h,!1);return;case"select":Qt("invalid",e),u=b=m=null;for(h in o)if(o.hasOwnProperty(h)&&(O=o[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":b=O;break;case"multiple":u=O;default:Ee(e,r,h,O,o,null)}r=m,o=b,e.multiple=!!u,r!=null?Pi(e,!!u,r,!1):o!=null&&Pi(e,!!u,o,!0);return;case"textarea":Qt("invalid",e),m=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(O=o[b],O!=null))switch(b){case"value":u=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Ee(e,r,b,O,o,null)}Ui(e,u,h,m);return;case"option":for(j in o)o.hasOwnProperty(j)&&(u=o[j],u!=null)&&(j==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":Ee(e,r,j,u,o,null));return;case"dialog":Qt("beforetoggle",e),Qt("toggle",e),Qt("cancel",e),Qt("close",e);break;case"iframe":case"object":Qt("load",e);break;case"video":case"audio":for(u=0;u<Kl.length;u++)Qt(Kl[u],e);break;case"image":Qt("error",e),Qt("load",e);break;case"details":Qt("toggle",e);break;case"embed":case"source":case"link":Qt("error",e),Qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in o)if(o.hasOwnProperty(it)&&(u=o[it],u!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ee(e,r,it,u,o,null)}return;default:if(Us(r)){for(ct in o)o.hasOwnProperty(ct)&&(u=o[ct],u!==void 0&&ym(e,r,ct,u,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null&&Ee(e,r,O,u,o,null))}function eA(e,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,O=null,j=null,it=null,ct=null;for(ut in o){var ht=o[ut];if(o.hasOwnProperty(ut)&&ht!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":j=ht;default:u.hasOwnProperty(ut)||Ee(e,r,ut,null,u,ht)}}for(var st in u){var ut=u[st];if(ht=o[st],u.hasOwnProperty(st)&&(ut!=null||ht!=null))switch(st){case"type":m=ut;break;case"name":h=ut;break;case"checked":it=ut;break;case"defaultChecked":ct=ut;break;case"value":b=ut;break;case"defaultValue":O=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(i(137,r));break;default:ut!==ht&&Ee(e,r,st,ut,u,ht)}}Ps(e,b,O,j,it,ct,m,h);return;case"select":ut=b=O=st=null;for(m in o)if(j=o[m],o.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":ut=j;default:u.hasOwnProperty(m)||Ee(e,r,m,null,u,j)}for(h in u)if(m=u[h],j=o[h],u.hasOwnProperty(h)&&(m!=null||j!=null))switch(h){case"value":st=m;break;case"defaultValue":O=m;break;case"multiple":b=m;default:m!==j&&Ee(e,r,h,m,u,j)}r=O,o=b,u=ut,st!=null?Pi(e,!!o,st,!1):!!u!=!!o&&(r!=null?Pi(e,!!o,r,!0):Pi(e,!!o,o?[]:"",!1));return;case"textarea":ut=st=null;for(O in o)if(h=o[O],o.hasOwnProperty(O)&&h!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ee(e,r,O,null,u,h)}for(b in u)if(h=u[b],m=o[b],u.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":st=h;break;case"defaultValue":ut=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&Ee(e,r,b,h,u,m)}ac(e,st,ut);return;case"option":for(var bt in o)st=o[bt],o.hasOwnProperty(bt)&&st!=null&&!u.hasOwnProperty(bt)&&(bt==="selected"?e.selected=!1:Ee(e,r,bt,null,u,st));for(j in u)st=u[j],ut=o[j],u.hasOwnProperty(j)&&st!==ut&&(st!=null||ut!=null)&&(j==="selected"?e.selected=st&&typeof st!="function"&&typeof st!="symbol":Ee(e,r,j,st,u,ut));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in o)st=o[Pt],o.hasOwnProperty(Pt)&&st!=null&&!u.hasOwnProperty(Pt)&&Ee(e,r,Pt,null,u,st);for(it in u)if(st=u[it],ut=o[it],u.hasOwnProperty(it)&&st!==ut&&(st!=null||ut!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,r));break;default:Ee(e,r,it,st,u,ut)}return;default:if(Us(r)){for(var Te in o)st=o[Te],o.hasOwnProperty(Te)&&st!==void 0&&!u.hasOwnProperty(Te)&&ym(e,r,Te,void 0,u,st);for(ct in u)st=u[ct],ut=o[ct],!u.hasOwnProperty(ct)||st===ut||st===void 0&&ut===void 0||ym(e,r,ct,st,u,ut);return}}for(var X in o)st=o[X],o.hasOwnProperty(X)&&st!=null&&!u.hasOwnProperty(X)&&Ee(e,r,X,null,u,st);for(ht in u)st=u[ht],ut=o[ht],!u.hasOwnProperty(ht)||st===ut||st==null&&ut==null||Ee(e,r,ht,st,u,ut)}function fv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],m=h.transferSize,b=h.initiatorType,O=h.duration;if(m&&O&&fv(b)){for(b=0,O=h.responseEnd,u+=1;u<o.length;u++){var j=o[u],it=j.startTime;if(it>O)break;var ct=j.transferSize,ht=j.initiatorType;ct&&fv(ht)&&(j=j.responseEnd,b+=ct*(j<O?1:(O-it)/(j-it)))}if(--u,r+=8*(m+b)/(h.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vm=null,_m=null;function uf(e){return e.nodeType===9?e:e.ownerDocument}function hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Em(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tm=null;function rA(){var e=window.event;return e&&e.type==="popstate"?e===Tm?!1:(Tm=e,!0):(Tm=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(e){return gv.resolve(null).then(e).catch(sA)}:mv;function sA(e){setTimeout(function(){throw e})}function aa(e){return e==="head"}function pv(e,r){var o=r,u=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){e.removeChild(h),vo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Zl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Zl(o);for(var m=o.firstChild;m;){var b=m.nextSibling,O=m.nodeName;m[Ur]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=b}}else o==="body"&&Zl(e.ownerDocument.body);o=h}while(o);vo(r)}function yv(e,r){var o=e;e=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=u}while(o)}function bm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bm(o),Ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function oA(e,r,o,u){for(;e.nodeType===1;){var h=o;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ur])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=mr(e.nextSibling),e===null)break}return null}function lA(e,r,o){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=mr(e.nextSibling),e===null))return null;return e}function vv(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=mr(e.nextSibling),e===null))return null;return e}function Am(e){return e.data==="$?"||e.data==="$~"}function Sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uA(e,r){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function mr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var wm=null;function _v(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(r===0)return mr(e.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}e=e.nextSibling}return null}function Ev(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return e;r--}else o!=="/$"&&o!=="/&"||r++}e=e.previousSibling}return null}function Tv(e,r,o){switch(r=uf(o),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Zl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ns(e)}var gr=new Map,bv=new Set;function cf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ri=R.d;R.d={f:cA,r:fA,D:hA,C:dA,L:mA,m:gA,X:yA,S:pA,M:vA};function cA(){var e=Ri.f(),r=tf();return e||r}function fA(e){var r=ir(e);r!==null&&r.tag===5&&r.type==="form"?By(r):Ri.r(e)}var go=typeof document>"u"?null:document;function Av(e,r,o){var u=go;if(u&&typeof r=="string"&&r){var h=Un(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),bv.has(h)||(bv.add(h),e={rel:e,crossOrigin:o,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),_n(r,"link",e),Qe(r),u.head.appendChild(r)))}}function hA(e){Ri.D(e),Av("dns-prefetch",e,null)}function dA(e,r){Ri.C(e,r),Av("preconnect",e,r)}function mA(e,r,o){Ri.L(e,r,o);var u=go;if(u&&e&&r){var h='link[rel="preload"][as="'+Un(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Un(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Un(o.imageSizes)+'"]')):h+='[href="'+Un(e)+'"]';var m=h;switch(r){case"style":m=po(e);break;case"script":m=yo(e)}gr.has(m)||(e=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:e,as:r},o),gr.set(m,e),u.querySelector(h)!==null||r==="style"&&u.querySelector(Wl(m))||r==="script"&&u.querySelector($l(m))||(r=u.createElement("link"),_n(r,"link",e),Qe(r),u.head.appendChild(r)))}}function gA(e,r){Ri.m(e,r);var o=go;if(o&&e){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Un(u)+'"][href="'+Un(e)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=yo(e)}if(!gr.has(m)&&(e=v({rel:"modulepreload",href:e},r),gr.set(m,e),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($l(m)))return}u=o.createElement("link"),_n(u,"link",e),Qe(u),o.head.appendChild(u)}}}function pA(e,r,o){Ri.S(e,r,o);var u=go;if(u&&e){var h=Lr(u).hoistableStyles,m=po(e);r=r||"default";var b=h.get(m);if(!b){var O={loading:0,preload:null};if(b=u.querySelector(Wl(m)))O.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":r},o),(o=gr.get(m))&&Im(e,o);var j=b=u.createElement("link");Qe(j),_n(j,"link",e),j._p=new Promise(function(it,ct){j.onload=it,j.onerror=ct}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,ff(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:O},h.set(m,b)}}}function yA(e,r){Ri.X(e,r);var o=go;if(o&&e){var u=Lr(o).hoistableScripts,h=yo(e),m=u.get(h);m||(m=o.querySelector($l(h)),m||(e=v({src:e,async:!0},r),(r=gr.get(h))&&Rm(e,r),m=o.createElement("script"),Qe(m),_n(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function vA(e,r){Ri.M(e,r);var o=go;if(o&&e){var u=Lr(o).hoistableScripts,h=yo(e),m=u.get(h);m||(m=o.querySelector($l(h)),m||(e=v({src:e,async:!0,type:"module"},r),(r=gr.get(h))&&Rm(e,r),m=o.createElement("script"),Qe(m),_n(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function Sv(e,r,o,u){var h=(h=pt.current)?cf(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=po(o.href),o=Lr(h).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=po(o.href);var m=Lr(h).hoistableStyles,b=m.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=h.querySelector(Wl(e)))&&!m._p&&(b.instance=m,b.state.loading=5),gr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gr.set(e,o),m||_A(h,e,o,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yo(o),o=Lr(h).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function po(e){return'href="'+Un(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function wv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function _A(e,r,o,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),_n(r,"link",o),Qe(r),e.head.appendChild(r))}function yo(e){return'[src="'+Un(e)+'"]'}function $l(e){return"script[async]"+e}function Iv(e,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+Un(o.href)+'"]');if(u)return r.instance=u,Qe(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Qe(u),_n(u,"style",h),ff(u,o.precedence,e),r.instance=u;case"stylesheet":h=po(o.href);var m=e.querySelector(Wl(h));if(m)return r.state.loading|=4,r.instance=m,Qe(m),m;u=wv(o),(h=gr.get(h))&&Im(u,h),m=(e.ownerDocument||e).createElement("link"),Qe(m);var b=m;return b._p=new Promise(function(O,j){b.onload=O,b.onerror=j}),_n(m,"link",u),r.state.loading|=4,ff(m,o.precedence,e),r.instance=m;case"script":return m=yo(o.src),(h=e.querySelector($l(m)))?(r.instance=h,Qe(h),h):(u=o,(h=gr.get(m))&&(u=v({},o),Rm(u,h)),e=e.ownerDocument||e,h=e.createElement("script"),Qe(h),_n(h,"link",u),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ff(u,o.precedence,e));return r.instance}function ff(e,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,b=0;b<u.length;b++){var O=u[b];if(O.dataset.precedence===r)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(e,r.firstChild))}function Im(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Rm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var hf=null;function Rv(e,r,o){if(hf===null){var u=new Map,h=hf=new Map;h.set(o,u)}else h=hf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(e))return u;for(u.set(e,null),o=o.getElementsByTagName(e),h=0;h<o.length;h++){var m=o[h];if(!(m[Ur]||m[Ge]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=e+b;var O=u.get(b);O?O.push(m):u.set(b,[m])}}return u}function Dv(e,r,o){e=e.ownerDocument||e,e.head.insertBefore(o,r==="title"?e.querySelector("head > title"):null)}function EA(e,r,o){if(o===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Cv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function TA(e,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=po(u.href),m=r.querySelector(Wl(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=df.bind(e),r.then(e,e)),o.state.loading|=4,o.instance=m,Qe(m);return}m=r.ownerDocument||r,u=wv(u),(h=gr.get(h))&&Im(u,h),m=m.createElement("link"),Qe(m);var b=m;b._p=new Promise(function(O,j){b.onload=O,b.onerror=j}),_n(m,"link",u),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=df.bind(e),r.addEventListener("load",o),r.addEventListener("error",o))}}var Dm=0;function bA(e,r){return e.stylesheets&&e.count===0&&gf(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var u=setTimeout(function(){if(e.stylesheets&&gf(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+r);0<e.imgBytes&&Dm===0&&(Dm=62500*nA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gf(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Dm?50:800)+r);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mf=null;function gf(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mf=new Map,r.forEach(AA,e),mf=null,df.call(e))}function AA(e,r){if(!(r.state.loading&4)){var o=mf.get(e);if(o)var u=o.get(null);else{o=new Map,mf.set(e,o);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=r.instance,b=h.getAttribute("data-precedence"),m=o.get(b)||u,m===u&&o.set(null,h),o.set(b,h),this.count++,u=df.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var Jl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function SA(e,r,o,u,h,m,b,O,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sn(0),this.hiddenUpdates=sn(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function xv(e,r,o,u,h,m,b,O,j,it,ct,ht){return e=new SA(e,r,o,b,j,it,ct,ht,O),r=1,m===!0&&(r|=24),m=Kn(3,null,null,r),e.current=m,m.stateNode=e,r=od(),r.refCount++,e.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},fd(m),e}function Vv(e){return e?(e=Ys,e):Ys}function Mv(e,r,o,u,h,m){h=Vv(h),u.context===null?u.context=h:u.pendingContext=h,u=Ki(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Xi(e,u,r),o!==null&&(Fn(o,e,r),Vl(o,e,r))}function Nv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<r?o:r}}function Cm(e,r){Nv(e,r),(e=e.alternate)&&Nv(e,r)}function Ov(e){if(e.tag===13||e.tag===31){var r=Ha(e,67108864);r!==null&&Fn(r,e,67108864),Cm(e,67108864)}}function Pv(e){if(e.tag===13||e.tag===31){var r=Jn();r=Ma(r);var o=Ha(e,r);o!==null&&Fn(o,e,r),Cm(e,r)}}var pf=!0;function wA(e,r,o,u){var h=I.T;I.T=null;var m=R.p;try{R.p=2,xm(e,r,o,u)}finally{R.p=m,I.T=h}}function IA(e,r,o,u){var h=I.T;I.T=null;var m=R.p;try{R.p=8,xm(e,r,o,u)}finally{R.p=m,I.T=h}}function xm(e,r,o,u){if(pf){var h=Vm(u);if(h===null)pm(e,r,u,yf,o),zv(e,u);else if(DA(h,e,r,o,u))u.stopPropagation();else if(zv(e,u),r&4&&-1<RA.indexOf(e)){for(;h!==null;){var m=ir(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=en(m.pendingLanes);if(b!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;b;){var j=1<<31-Ie(b);O.entanglements[1]|=j,b&=~j}Wr(m),(ie&6)===0&&($c=Ot()+500,Yl(0))}}break;case 31:case 13:O=Ha(m,2),O!==null&&Fn(O,m,2),tf(),Cm(m,2)}if(m=Vm(u),m===null&&pm(e,r,u,yf,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else pm(e,r,u,null,o)}}function Vm(e){return e=ar(e),Mm(e)}var yf=null;function Mm(e){if(yf=null,e=zr(e),e!==null){var r=l(e);if(r===null)e=null;else{var o=r.tag;if(o===13){if(e=c(r),e!==null)return e;e=null}else if(o===31){if(e=d(r),e!==null)return e;e=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return yf=e,null}function Uv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case Oe:return 2;case Pn:return 8;case we:case Er:return 32;case qe:return 268435456;default:return 32}default:return 32}}var Nm=!1,sa=null,oa=null,la=null,tu=new Map,eu=new Map,ua=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(e,r){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":tu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(r.pointerId)}}function nu(e,r,o,u,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},r!==null&&(r=ir(r),r!==null&&Ov(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function DA(e,r,o,u,h){switch(r){case"focusin":return sa=nu(sa,e,r,o,u,h),!0;case"dragenter":return oa=nu(oa,e,r,o,u,h),!0;case"mouseover":return la=nu(la,e,r,o,u,h),!0;case"pointerover":var m=h.pointerId;return tu.set(m,nu(tu.get(m)||null,e,r,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,eu.set(m,nu(eu.get(m)||null,e,r,o,u,h)),!0}return!1}function Lv(e){var r=zr(e.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){e.blockedOn=r,Tr(e.priority,function(){Pv(o)});return}}else if(r===31){if(r=d(o),r!==null){e.blockedOn=r,Tr(e.priority,function(){Pv(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vf(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var o=Vm(e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);gl=u,o.target.dispatchEvent(u),gl=null}else return r=ir(o),r!==null&&Ov(r),e.blockedOn=o,!1;r.shift()}return!0}function Bv(e,r,o){vf(e)&&o.delete(r)}function CA(){Nm=!1,sa!==null&&vf(sa)&&(sa=null),oa!==null&&vf(oa)&&(oa=null),la!==null&&vf(la)&&(la=null),tu.forEach(Bv),eu.forEach(Bv)}function _f(e,r){e.blockedOn===r&&(e.blockedOn=null,Nm||(Nm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,CA)))}var Ef=null;function kv(e){Ef!==e&&(Ef=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ef===e&&(Ef=null);for(var r=0;r<e.length;r+=3){var o=e[r],u=e[r+1],h=e[r+2];if(typeof u!="function"){if(Mm(u||o)===null)continue;break}var m=ir(o);m!==null&&(e.splice(r,3),r-=3,Vd(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function vo(e){function r(j){return _f(j,e)}sa!==null&&_f(sa,e),oa!==null&&_f(oa,e),la!==null&&_f(la,e),tu.forEach(r),eu.forEach(r);for(var o=0;o<ua.length;o++){var u=ua[o];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ua.length&&(o=ua[0],o.blockedOn===null);)Lv(o),o.blockedOn===null&&ua.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],b=h[on]||null;if(typeof m=="function")b||kv(o);else if(b){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[on]||null)O=b.formAction;else if(Mm(h)!==null)continue}else O=b.action;typeof O=="function"?o[u+1]=O:(o.splice(u,3),u-=3),kv(o)}}}function jv(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Om(e){this._internalRoot=e}Tf.prototype.render=Om.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Jn();Mv(o,u,e,r,null,null)},Tf.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Mv(e.current,2,null,e,null,null),tf(),r[Pr]=null}};function Tf(e){this._internalRoot=e}Tf.prototype.unstable_scheduleHydration=function(e){if(e){var r=tc();e={blockedOn:null,target:e,priority:r};for(var o=0;o<ua.length&&r!==0&&r<ua[o].priority;o++);ua.splice(o,0,e),o===0&&Lv(e)}};var Fv=t.version;if(Fv!=="19.2.3")throw Error(i(527,Fv,"19.2.3"));R.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(r),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var xA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{Be=bf.inject(xA),ye=bf}catch{}}return iu.createRoot=function(e,r){if(!s(e))throw Error(i(299));var o=!1,u="",h=Xy,m=Zy,b=Wy;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=xv(e,1,!1,null,null,o,u,null,h,m,b,jv),e[Pr]=r.current,gm(e),new Om(r)},iu.hydrateRoot=function(e,r,o){if(!s(e))throw Error(i(299));var u=!1,h="",m=Xy,b=Zy,O=Wy,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=xv(e,1,!0,r,o??null,u,h,j,m,b,O,jv),r.context=Vv(null),o=r.current,u=Jn(),u=Ma(u),h=Ki(u),h.callback=null,Xi(o,h,u),o=u,r.current.lanes=o,xa(r,o),Wr(r),e[Pr]=r.current,gm(e),new Tf(r)},iu.version="19.2.3",iu}var $v;function jA(){if($v)return zm.exports;$v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),zm.exports=kA(),zm.exports}var FA=jA();const Jv=a=>{let t;const n=new Set,i=(p,y)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const E=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(w=>w(t,E))}},s=()=>t,d={setState:i,getState:s,getInitialState:()=>g,subscribe:p=>(n.add(p),()=>n.delete(p))},g=t=a(i,s,d);return d},qA=(a=>a?Jv(a):Jv),HA=a=>a;function GA(a,t=HA){const n=ti.useSyncExternalStore(a.subscribe,ti.useCallback(()=>t(a.getState()),[a,t]),ti.useCallback(()=>t(a.getInitialState()),[a,t]));return ti.useDebugValue(n),n}const t_=a=>{const t=qA(a),n=i=>GA(t,i);return Object.assign(n,t),n},QA=(a=>a?t_(a):t_),YA=()=>{};var e_={};const Q1=function(a){const t=[];let n=0;for(let i=0;i<a.length;i++){let s=a.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},KA=function(a){const t=[];let n=0,i=0;for(;n<a.length;){const s=a[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=a[n++];t[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=a[n++],c=a[n++],d=a[n++],g=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(g&1023))}else{const l=a[n++],c=a[n++];t[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<a.length;s+=3){const l=a[s],c=s+1<a.length,d=c?a[s+1]:0,g=s+2<a.length,p=g?a[s+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;g||(w=64,c||(E=64)),i.push(n[y],n[v],n[E],n[w])}return i.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Q1(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):KA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<a.length;){const l=n[a.charAt(s++)],d=s<a.length?n[a.charAt(s)]:0;++s;const p=s<a.length?n[a.charAt(s)]:64;++s;const v=s<a.length?n[a.charAt(s)]:64;if(++s,l==null||d==null||p==null||v==null)throw new XA;const E=l<<2|d>>4;if(i.push(E),p!==64){const w=d<<4&240|p>>2;if(i.push(w),v!==64){const M=p<<6&192|v;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class XA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(a){const t=Q1(a);return Y1.encodeByteArray(t,!0)},K1=function(a){return ZA(a).replace(/\./g,"")},WA=function(a){try{return Y1.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $A=()=>X1().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof e_>"u")return;const a=e_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},tS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&WA(a[1]);return t&&JSON.parse(t)},Z1=()=>{try{return YA()||$A()||JA()||tS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},eS=()=>Z1()?.config;class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}function W1(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rS(a){return(await fetch(a,{credentials:"include"})).ok}function Gf(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){const a=Z1()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tE(){return!$1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((a,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const aS="FirebaseError";class $o extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=aS,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nE.prototype.create)}}class nE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,l=this.errors[t],c=l?sS(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new $o(s,d,i)}}function sS(a,t){return a.replace(oS,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const oS=/\{\$([^}]+)}/g;function Qf(a,t){if(a===t)return!0;const n=Object.keys(a),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const l=a[s],c=t[s];if(n_(l)&&n_(c)){if(!Qf(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function n_(a){return a!==null&&typeof a=="object"}function wu(a){return a&&a._delegate?a._delegate:a}class Iu{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const is="[DEFAULT]";class lS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new nS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cS(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&t(l,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uS(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uS(a){return a===is?void 0:a}function cS(a){return a.instantiationMode==="EAGER"}class fS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Jt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Jt||(Jt={}));const hS={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},dS=Jt.INFO,mS={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},gS=(a,t,...n)=>{if(t<a.logLevel)return;const i=new Date().toISOString(),s=mS[t];if(s)console[s](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rE{constructor(t){this.name=t,this._logLevel=dS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...t),this._logHandler(this,Jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...t),this._logHandler(this,Jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...t),this._logHandler(this,Jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...t),this._logHandler(this,Jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...t),this._logHandler(this,Jt.ERROR,...t)}}const pS=(a,t)=>t.some(n=>a instanceof n);let r_,i_;function yS(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,eg=new WeakMap,aE=new WeakMap,jm=new WeakMap,Mg=new WeakMap;function _S(a){const t=new Promise((n,i)=>{const s=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{n(va(a.result)),s()},c=()=>{i(a.error),s()};a.addEventListener("success",l),a.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&iE.set(n,a)}).catch(()=>{}),Mg.set(t,a),t}function ES(a){if(eg.has(a))return;const t=new Promise((n,i)=>{const s=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{i(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});eg.set(a,t)}let ng={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return eg.get(a);if(t==="objectStoreNames")return a.objectStoreNames||aE.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function TS(a){ng=a(ng)}function bS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=a.call(Fm(this),t,...n);return aE.set(i,t.sort?t.sort():[t]),va(i)}:vS().includes(a)?function(...t){return a.apply(Fm(this),t),va(iE.get(this))}:function(...t){return va(a.apply(Fm(this),t))}}function AS(a){return typeof a=="function"?bS(a):(a instanceof IDBTransaction&&ES(a),pS(a,yS())?new Proxy(a,ng):a)}function va(a){if(a instanceof IDBRequest)return _S(a);if(jm.has(a))return jm.get(a);const t=AS(a);return t!==a&&(jm.set(a,t),Mg.set(t,a)),t}const Fm=a=>Mg.get(a);function SS(a,t,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(a,t),d=va(c);return i&&c.addEventListener("upgradeneeded",g=>{i(va(c.result),g.oldVersion,g.newVersion,va(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),s&&g.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const wS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],qm=new Map;function a_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(qm.get(t))return qm.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=IS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||wS.includes(n)))return;const l=async function(c,...d){const g=this.transaction(c,s?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&g.done]))[0]};return qm.set(t,l),l}TS(a=>({...a,get:(t,n,i)=>a_(t,n)||a.get(t,n,i),has:(t,n)=>!!a_(t,n)||a.has(t,n)}));class RS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DS(a){return a.getComponent()?.type==="VERSION"}const rg="@firebase/app",s_="0.14.7";const Ci=new rE("@firebase/app"),CS="@firebase/app-compat",xS="@firebase/analytics-compat",VS="@firebase/analytics",MS="@firebase/app-check-compat",NS="@firebase/app-check",OS="@firebase/auth",PS="@firebase/auth-compat",US="@firebase/database",zS="@firebase/data-connect",LS="@firebase/database-compat",BS="@firebase/functions",kS="@firebase/functions-compat",jS="@firebase/installations",FS="@firebase/installations-compat",qS="@firebase/messaging",HS="@firebase/messaging-compat",GS="@firebase/performance",QS="@firebase/performance-compat",YS="@firebase/remote-config",KS="@firebase/remote-config-compat",XS="@firebase/storage",ZS="@firebase/storage-compat",WS="@firebase/firestore",$S="@firebase/ai",JS="@firebase/firestore-compat",tw="firebase",ew="12.8.0";const nw="[DEFAULT]",rw={[rg]:"fire-core",[CS]:"fire-core-compat",[VS]:"fire-analytics",[xS]:"fire-analytics-compat",[NS]:"fire-app-check",[MS]:"fire-app-check-compat",[OS]:"fire-auth",[PS]:"fire-auth-compat",[US]:"fire-rtdb",[zS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[BS]:"fire-fn",[kS]:"fire-fn-compat",[jS]:"fire-iid",[FS]:"fire-iid-compat",[qS]:"fire-fcm",[HS]:"fire-fcm-compat",[GS]:"fire-perf",[QS]:"fire-perf-compat",[YS]:"fire-rc",[KS]:"fire-rc-compat",[XS]:"fire-gcs",[ZS]:"fire-gcs-compat",[WS]:"fire-fst",[JS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[tw]:"fire-js-all"};const ig=new Map,iw=new Map,ag=new Map;function o_(a,t){try{a.container.addComponent(t)}catch(n){Ci.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function Yf(a){const t=a.name;if(ag.has(t))return Ci.debug(`There were multiple attempts to register component ${t}.`),!1;ag.set(t,a);for(const n of ig.values())o_(n,a);for(const n of iw.values())o_(n,a);return!0}function aw(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function sw(a){return a==null?!1:a.settings!==void 0}const ow={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new nE("app","Firebase",ow);class lw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const uw=ew;function cw(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const i={name:nw,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw gs.create("bad-app-name",{appName:String(s)});if(n||(n=eS()),!n)throw gs.create("no-options");const l=ig.get(s);if(l){if(Qf(n,l.options)&&Qf(i,l.config))return l;throw gs.create("duplicate-app",{appName:s})}const c=new fS(s);for(const g of ag.values())c.addComponent(g);const d=new lw(n,i,c);return ig.set(s,d),d}function Mo(a,t,n){let i=rw[a]??a;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ci.warn(c.join(" "));return}Yf(new Iu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const fw="firebase-heartbeat-database",hw=1,Ru="firebase-heartbeat-store";let Hm=null;function sE(){return Hm||(Hm=SS(fw,hw,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(a=>{throw gs.create("idb-open",{originalErrorMessage:a.message})})),Hm}async function dw(a){try{const n=(await sE()).transaction(Ru),i=await n.objectStore(Ru).get(oE(a));return await n.done,i}catch(t){if(t instanceof $o)Ci.warn(t.message);else{const n=gs.create("idb-get",{originalErrorMessage:t?.message});Ci.warn(n.message)}}}async function l_(a,t){try{const i=(await sE()).transaction(Ru,"readwrite");await i.objectStore(Ru).put(t,oE(a)),await i.done}catch(n){if(n instanceof $o)Ci.warn(n.message);else{const i=gs.create("idb-set",{originalErrorMessage:n?.message});Ci.warn(i.message)}}}function oE(a){return`${a.name}!${a.options.appId}`}const mw=1024,gw=30;class pw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=u_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>gw){const s=_w(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ci.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u_(),{heartbeatsToSend:n,unsentEntries:i}=yw(this._heartbeatsCache.heartbeats),s=K1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ci.warn(t),""}}}function u_(){return new Date().toISOString().substring(0,10)}function yw(a,t=mw){const n=[];let i=a.slice();for(const s of a){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),c_(n)>t){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),c_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return l_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return l_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function c_(a){return K1(JSON.stringify({version:2,heartbeats:a})).length}function _w(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,t=i);return t}function Ew(a){Yf(new Iu("platform-logger",t=>new RS(t),"PRIVATE")),Yf(new Iu("heartbeat",t=>new pw(t),"PRIVATE")),Mo(rg,s_,a),Mo(rg,s_,"esm2020"),Mo("fire-js","")}Ew("");var Tw="firebase",bw="12.8.0";Mo(Tw,bw,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _a,lE;(function(){var a;function t(V,T){function A(){}A.prototype=T.prototype,V.F=T.prototype,V.prototype=new A,V.prototype.constructor=V,V.D=function(x,C,N){for(var D=Array(arguments.length-2),q=2;q<arguments.length;q++)D[q-2]=arguments[q];return T.prototype[C].apply(x,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,T,A){A||(A=0);const x=Array(16);if(typeof T=="string")for(var C=0;C<16;++C)x[C]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(C=0;C<16;++C)x[C]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=V.g[0],A=V.g[1],C=V.g[2];let N=V.g[3],D;D=T+(N^A&(C^N))+x[0]+3614090360&4294967295,T=A+(D<<7&4294967295|D>>>25),D=N+(C^T&(A^C))+x[1]+3905402710&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(A^N&(T^A))+x[2]+606105819&4294967295,C=N+(D<<17&4294967295|D>>>15),D=A+(T^C&(N^T))+x[3]+3250441966&4294967295,A=C+(D<<22&4294967295|D>>>10),D=T+(N^A&(C^N))+x[4]+4118548399&4294967295,T=A+(D<<7&4294967295|D>>>25),D=N+(C^T&(A^C))+x[5]+1200080426&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(A^N&(T^A))+x[6]+2821735955&4294967295,C=N+(D<<17&4294967295|D>>>15),D=A+(T^C&(N^T))+x[7]+4249261313&4294967295,A=C+(D<<22&4294967295|D>>>10),D=T+(N^A&(C^N))+x[8]+1770035416&4294967295,T=A+(D<<7&4294967295|D>>>25),D=N+(C^T&(A^C))+x[9]+2336552879&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(A^N&(T^A))+x[10]+4294925233&4294967295,C=N+(D<<17&4294967295|D>>>15),D=A+(T^C&(N^T))+x[11]+2304563134&4294967295,A=C+(D<<22&4294967295|D>>>10),D=T+(N^A&(C^N))+x[12]+1804603682&4294967295,T=A+(D<<7&4294967295|D>>>25),D=N+(C^T&(A^C))+x[13]+4254626195&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(A^N&(T^A))+x[14]+2792965006&4294967295,C=N+(D<<17&4294967295|D>>>15),D=A+(T^C&(N^T))+x[15]+1236535329&4294967295,A=C+(D<<22&4294967295|D>>>10),D=T+(C^N&(A^C))+x[1]+4129170786&4294967295,T=A+(D<<5&4294967295|D>>>27),D=N+(A^C&(T^A))+x[6]+3225465664&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^A&(N^T))+x[11]+643717713&4294967295,C=N+(D<<14&4294967295|D>>>18),D=A+(N^T&(C^N))+x[0]+3921069994&4294967295,A=C+(D<<20&4294967295|D>>>12),D=T+(C^N&(A^C))+x[5]+3593408605&4294967295,T=A+(D<<5&4294967295|D>>>27),D=N+(A^C&(T^A))+x[10]+38016083&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^A&(N^T))+x[15]+3634488961&4294967295,C=N+(D<<14&4294967295|D>>>18),D=A+(N^T&(C^N))+x[4]+3889429448&4294967295,A=C+(D<<20&4294967295|D>>>12),D=T+(C^N&(A^C))+x[9]+568446438&4294967295,T=A+(D<<5&4294967295|D>>>27),D=N+(A^C&(T^A))+x[14]+3275163606&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^A&(N^T))+x[3]+4107603335&4294967295,C=N+(D<<14&4294967295|D>>>18),D=A+(N^T&(C^N))+x[8]+1163531501&4294967295,A=C+(D<<20&4294967295|D>>>12),D=T+(C^N&(A^C))+x[13]+2850285829&4294967295,T=A+(D<<5&4294967295|D>>>27),D=N+(A^C&(T^A))+x[2]+4243563512&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^A&(N^T))+x[7]+1735328473&4294967295,C=N+(D<<14&4294967295|D>>>18),D=A+(N^T&(C^N))+x[12]+2368359562&4294967295,A=C+(D<<20&4294967295|D>>>12),D=T+(A^C^N)+x[5]+4294588738&4294967295,T=A+(D<<4&4294967295|D>>>28),D=N+(T^A^C)+x[8]+2272392833&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^A)+x[11]+1839030562&4294967295,C=N+(D<<16&4294967295|D>>>16),D=A+(C^N^T)+x[14]+4259657740&4294967295,A=C+(D<<23&4294967295|D>>>9),D=T+(A^C^N)+x[1]+2763975236&4294967295,T=A+(D<<4&4294967295|D>>>28),D=N+(T^A^C)+x[4]+1272893353&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^A)+x[7]+4139469664&4294967295,C=N+(D<<16&4294967295|D>>>16),D=A+(C^N^T)+x[10]+3200236656&4294967295,A=C+(D<<23&4294967295|D>>>9),D=T+(A^C^N)+x[13]+681279174&4294967295,T=A+(D<<4&4294967295|D>>>28),D=N+(T^A^C)+x[0]+3936430074&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^A)+x[3]+3572445317&4294967295,C=N+(D<<16&4294967295|D>>>16),D=A+(C^N^T)+x[6]+76029189&4294967295,A=C+(D<<23&4294967295|D>>>9),D=T+(A^C^N)+x[9]+3654602809&4294967295,T=A+(D<<4&4294967295|D>>>28),D=N+(T^A^C)+x[12]+3873151461&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^A)+x[15]+530742520&4294967295,C=N+(D<<16&4294967295|D>>>16),D=A+(C^N^T)+x[2]+3299628645&4294967295,A=C+(D<<23&4294967295|D>>>9),D=T+(C^(A|~N))+x[0]+4096336452&4294967295,T=A+(D<<6&4294967295|D>>>26),D=N+(A^(T|~C))+x[7]+1126891415&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~A))+x[14]+2878612391&4294967295,C=N+(D<<15&4294967295|D>>>17),D=A+(N^(C|~T))+x[5]+4237533241&4294967295,A=C+(D<<21&4294967295|D>>>11),D=T+(C^(A|~N))+x[12]+1700485571&4294967295,T=A+(D<<6&4294967295|D>>>26),D=N+(A^(T|~C))+x[3]+2399980690&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~A))+x[10]+4293915773&4294967295,C=N+(D<<15&4294967295|D>>>17),D=A+(N^(C|~T))+x[1]+2240044497&4294967295,A=C+(D<<21&4294967295|D>>>11),D=T+(C^(A|~N))+x[8]+1873313359&4294967295,T=A+(D<<6&4294967295|D>>>26),D=N+(A^(T|~C))+x[15]+4264355552&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~A))+x[6]+2734768916&4294967295,C=N+(D<<15&4294967295|D>>>17),D=A+(N^(C|~T))+x[13]+1309151649&4294967295,A=C+(D<<21&4294967295|D>>>11),D=T+(C^(A|~N))+x[4]+4149444226&4294967295,T=A+(D<<6&4294967295|D>>>26),D=N+(A^(T|~C))+x[11]+3174756917&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~A))+x[2]+718787259&4294967295,C=N+(D<<15&4294967295|D>>>17),D=A+(N^(C|~T))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+C&4294967295,V.g[3]=V.g[3]+N&4294967295}i.prototype.v=function(V,T){T===void 0&&(T=V.length);const A=T-this.blockSize,x=this.C;let C=this.h,N=0;for(;N<T;){if(C==0)for(;N<=A;)s(this,V,N),N+=this.blockSize;if(typeof V=="string"){for(;N<T;)if(x[C++]=V.charCodeAt(N++),C==this.blockSize){s(this,x),C=0;break}}else for(;N<T;)if(x[C++]=V[N++],C==this.blockSize){s(this,x),C=0;break}}this.h=C,this.o+=T},i.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;T=this.o*8;for(var A=V.length-8;A<V.length;++A)V[A]=T&255,T/=256;for(this.v(V),V=Array(16),T=0,A=0;A<4;++A)for(let x=0;x<32;x+=8)V[T++]=this.g[A]>>>x&255;return V};function l(V,T){var A=d;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=T(V)}function c(V,T){this.h=T;const A=[];let x=!0;for(let C=V.length-1;C>=0;C--){const N=V[C]|0;x&&N==T||(A[C]=N,x=!1)}this.g=A}var d={};function g(V){return-128<=V&&V<128?l(V,function(T){return new c([T|0],T<0?-1:0)}):new c([V|0],V<0?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return v;if(V<0)return k(p(-V));const T=[];let A=1;for(let x=0;V>=A;x++)T[x]=V/A|0,A*=4294967296;return new c(T,0)}function y(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return k(y(V.substring(1),T));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(T,8));let x=v;for(let N=0;N<V.length;N+=8){var C=Math.min(8,V.length-N);const D=parseInt(V.substring(N,N+C),T);C<8?(C=p(Math.pow(T,C)),x=x.j(C).add(p(D))):(x=x.j(A),x=x.add(p(D)))}return x}var v=g(0),E=g(1),w=g(16777216);a=c.prototype,a.m=function(){if(z(this))return-k(this).m();let V=0,T=1;for(let A=0;A<this.g.length;A++){const x=this.i(A);V+=(x>=0?x:4294967296+x)*T,T*=4294967296}return V},a.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(z(this))return"-"+k(this).toString(V);const T=p(Math.pow(V,6));var A=this;let x="";for(;;){const C=Y(A,T).g;A=L(A,C.j(T));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(V);if(A=C,M(A))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},a.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(let T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function z(V){return V.h==-1}a.l=function(V){return V=L(this,V),z(V)?-1:M(V)?0:1};function k(V){const T=V.g.length,A=[];for(let x=0;x<T;x++)A[x]=~V.g[x];return new c(A,~V.h).add(E)}a.abs=function(){return z(this)?k(this):this},a.add=function(V){const T=Math.max(this.g.length,V.g.length),A=[];let x=0;for(let C=0;C<=T;C++){let N=x+(this.i(C)&65535)+(V.i(C)&65535),D=(N>>>16)+(this.i(C)>>>16)+(V.i(C)>>>16);x=D>>>16,N&=65535,D&=65535,A[C]=D<<16|N}return new c(A,A[A.length-1]&-2147483648?-1:0)};function L(V,T){return V.add(k(T))}a.j=function(V){if(M(this)||M(V))return v;if(z(this))return z(V)?k(this).j(k(V)):k(k(this).j(V));if(z(V))return k(this.j(k(V)));if(this.l(w)<0&&V.l(w)<0)return p(this.m()*V.m());const T=this.g.length+V.g.length,A=[];for(var x=0;x<2*T;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(let C=0;C<V.g.length;C++){const N=this.i(x)>>>16,D=this.i(x)&65535,q=V.i(C)>>>16,W=V.i(C)&65535;A[2*x+2*C]+=D*W,nt(A,2*x+2*C),A[2*x+2*C+1]+=N*W,nt(A,2*x+2*C+1),A[2*x+2*C+1]+=D*q,nt(A,2*x+2*C+1),A[2*x+2*C+2]+=N*q,nt(A,2*x+2*C+2)}for(V=0;V<T;V++)A[V]=A[2*V+1]<<16|A[2*V];for(V=T;V<2*T;V++)A[V]=0;return new c(A,0)};function nt(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function Q(V,T){this.g=V,this.h=T}function Y(V,T){if(M(T))throw Error("division by zero");if(M(V))return new Q(v,v);if(z(V))return T=Y(k(V),T),new Q(k(T.g),k(T.h));if(z(T))return T=Y(V,k(T)),new Q(k(T.g),T.h);if(V.g.length>30){if(z(V)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var A=E,x=T;x.l(V)<=0;)A=at(A),x=at(x);var C=B(A,1),N=B(x,1);for(x=B(x,2),A=B(A,2);!M(x);){var D=N.add(x);D.l(V)<=0&&(C=C.add(A),N=D),x=B(x,1),A=B(A,1)}return T=L(V,C.j(T)),new Q(C,T)}for(C=v;V.l(T)>=0;){for(A=Math.max(1,Math.floor(V.m()/T.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=p(A),D=N.j(T);z(D)||D.l(V)>0;)A-=x,N=p(A),D=N.j(T);M(N)&&(N=E),C=C.add(N),V=L(V,D)}return new Q(C,V)}a.B=function(V){return Y(this,V).h},a.and=function(V){const T=Math.max(this.g.length,V.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)&V.i(x);return new c(A,this.h&V.h)},a.or=function(V){const T=Math.max(this.g.length,V.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)|V.i(x);return new c(A,this.h|V.h)},a.xor=function(V){const T=Math.max(this.g.length,V.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)^V.i(x);return new c(A,this.h^V.h)};function at(V){const T=V.g.length+1,A=[];for(let x=0;x<T;x++)A[x]=V.i(x)<<1|V.i(x-1)>>>31;return new c(A,V.h)}function B(V,T){const A=T>>5;T%=32;const x=V.g.length-A,C=[];for(let N=0;N<x;N++)C[N]=T>0?V.i(N+A)>>>T|V.i(N+A+1)<<32-T:V.i(N+A);return new c(C,V.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,lE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,_a=c}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uE,hu,cE,Mf,sg,fE,hE,dE;(function(){var a,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var _=0;_<f.length;++_){var S=f[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=n(this);function s(f,_){if(_)t:{var S=i;f=f.split(".");for(var P=0;P<f.length-1;P++){var tt=f[P];if(!(tt in S))break t;S=S[tt]}f=f[f.length-1],P=S[f],_=_(P),_!=P&&_!=null&&t(S,f,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(_){var S=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&S.push([P,_[P]]);return S}});var l=l||{},c=this||self;function d(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function g(f,_,S){return f.call.apply(f.bind,arguments)}function p(f,_,S){return p=g,p.apply(null,arguments)}function y(f,_){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function v(f,_){function S(){}S.prototype=_.prototype,f.Z=_.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(P,tt,lt){for(var vt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)vt[jt-2]=arguments[jt];return _.prototype[tt].apply(P,vt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function w(f){const _=f.length;if(_>0){const S=Array(_);for(let P=0;P<_;P++)S[P]=f[P];return S}return[]}function M(f,_){for(let P=1;P<arguments.length;P++){const tt=arguments[P];var S=typeof tt;if(S=S!="object"?S:tt?Array.isArray(tt)?"array":S:"null",S=="array"||S=="object"&&typeof tt.length=="number"){S=f.length||0;const lt=tt.length||0;f.length=S+lt;for(let vt=0;vt<lt;vt++)f[S+vt]=tt[vt]}else f.push(tt)}}class z{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(f){c.setTimeout(()=>{throw f},0)}function L(){var f=V;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class nt{constructor(){this.h=this.g=null}add(_,S){const P=Q.get();P.set(_,S),this.h?this.h.next=P:this.g=P,this.h=P}}var Q=new z(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let at,B=!1,V=new nt,T=()=>{const f=Promise.resolve(void 0);at=()=>{f.then(A)}};function A(){for(var f;f=L();){try{f.h.call(f.g)}catch(S){k(S)}var _=Q;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}B=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function q(f,_){C.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(q,C),q.prototype.init=function(f,_){const S=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(S=="mouseover"?_=f.fromElement:S=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),I=0;function R(f,_,S,P,tt){this.listener=f,this.proxy=null,this.src=_,this.type=S,this.capture=!!P,this.ha=tt,this.key=++I,this.da=this.fa=!1}function K(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function G(f,_,S){for(const P in f)_.call(S,f[P],P,f)}function J(f,_){for(const S in f)_.call(void 0,f[S],S,f)}function U(f){const _={};for(const S in f)_[S]=f[S];return _}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(f,_){let S,P;for(let tt=1;tt<arguments.length;tt++){P=arguments[tt];for(S in P)f[S]=P[S];for(let lt=0;lt<F.length;lt++)S=F[lt],Object.prototype.hasOwnProperty.call(P,S)&&(f[S]=P[S])}}function et(f){this.src=f,this.g={},this.h=0}et.prototype.add=function(f,_,S,P,tt){const lt=f.toString();f=this.g[lt],f||(f=this.g[lt]=[],this.h++);const vt=pt(f,_,P,tt);return vt>-1?(_=f[vt],S||(_.fa=!1)):(_=new R(_,this.src,lt,!!P,tt),_.fa=S,f.push(_)),_};function Z(f,_){const S=_.type;if(S in f.g){var P=f.g[S],tt=Array.prototype.indexOf.call(P,_,void 0),lt;(lt=tt>=0)&&Array.prototype.splice.call(P,tt,1),lt&&(K(_),f.g[S].length==0&&(delete f.g[S],f.h--))}}function pt(f,_,S,P){for(let tt=0;tt<f.length;++tt){const lt=f[tt];if(!lt.da&&lt.listener==_&&lt.capture==!!S&&lt.ha==P)return tt}return-1}var St="closure_lm_"+(Math.random()*1e6|0),Nt={};function Ct(f,_,S,P,tt){if(Array.isArray(_)){for(let lt=0;lt<_.length;lt++)Ct(f,_[lt],S,P,tt);return null}return S=yt(S),f&&f[W]?f.J(_,S,d(P)?!!P.capture:!1,tt):Xt(f,_,S,!1,P,tt)}function Xt(f,_,S,P,tt,lt){if(!_)throw Error("Invalid event type");const vt=d(tt)?!!tt.capture:!!tt;let jt=Se(f);if(jt||(f[St]=jt=new et(f)),S=jt.add(_,S,P,vt,lt),S.proxy)return S;if(P=ae(),S.proxy=P,P.src=f,P.listener=S,f.addEventListener)N||(tt=vt),tt===void 0&&(tt=!1),f.addEventListener(_.toString(),P,tt);else if(f.attachEvent)f.attachEvent(Ne(_.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ae(){function f(S){return _.call(f.src,f.listener,S)}const _=ne;return f}function pe(f,_,S,P,tt){if(Array.isArray(_))for(var lt=0;lt<_.length;lt++)pe(f,_[lt],S,P,tt);else P=d(P)?!!P.capture:!!P,S=yt(S),f&&f[W]?(f=f.i,lt=String(_).toString(),lt in f.g&&(_=f.g[lt],S=pt(_,S,P,tt),S>-1&&(K(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete f.g[lt],f.h--)))):f&&(f=Se(f))&&(_=f.g[_.toString()],f=-1,_&&(f=pt(_,S,P,tt)),(S=f>-1?_[f]:null)&&Tn(S))}function Tn(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[W])Z(_.i,f);else{var S=f.type,P=f.proxy;_.removeEventListener?_.removeEventListener(S,P,f.capture):_.detachEvent?_.detachEvent(Ne(S),P):_.addListener&&_.removeListener&&_.removeListener(P),(S=Se(_))?(Z(S,f),S.h==0&&(S.src=null,_[St]=null)):K(f)}}}function Ne(f){return f in Nt?Nt[f]:Nt[f]="on"+f}function ne(f,_){if(f.da)f=!0;else{_=new q(_,this);const S=f.listener,P=f.ha||f.src;f.fa&&Tn(f),f=S.call(P,_)}return f}function Se(f){return f=f[St],f instanceof et?f:null}var gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(f){return typeof f=="function"?f:(f[gt]||(f[gt]=function(_){return f.handleEvent(_)}),f[gt])}function _t(){x.call(this),this.i=new et(this),this.M=this,this.G=null}v(_t,x),_t.prototype[W]=!0,_t.prototype.removeEventListener=function(f,_,S,P){pe(this,f,_,S,P)};function Rt(f,_){var S,P=f.G;if(P)for(S=[];P;P=P.G)S.push(P);if(f=f.M,P=_.type||_,typeof _=="string")_=new C(_,f);else if(_ instanceof C)_.target=_.target||f;else{var tt=_;_=new C(P,f),ot(_,tt)}tt=!0;let lt,vt;if(S)for(vt=S.length-1;vt>=0;vt--)lt=_.g=S[vt],tt=Lt(lt,P,!0,_)&&tt;if(lt=_.g=f,tt=Lt(lt,P,!0,_)&&tt,tt=Lt(lt,P,!1,_)&&tt,S)for(vt=0;vt<S.length;vt++)lt=_.g=S[vt],tt=Lt(lt,P,!1,_)&&tt}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const S=f.g[_];for(let P=0;P<S.length;P++)K(S[P]);delete f.g[_],f.h--}}this.G=null},_t.prototype.J=function(f,_,S,P){return this.i.add(String(f),_,!1,S,P)},_t.prototype.K=function(f,_,S,P){return this.i.add(String(f),_,!0,S,P)};function Lt(f,_,S,P){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let tt=!0;for(let lt=0;lt<_.length;++lt){const vt=_[lt];if(vt&&!vt.da&&vt.capture==S){const jt=vt.listener,ke=vt.ha||vt.src;vt.fa&&Z(f.i,vt),tt=jt.call(ke,P)!==!1&&tt}}return tt&&!P.defaultPrevented}function kt(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function Mt(f){f.g=kt(()=>{f.g=null,f.i&&(f.i=!1,Mt(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Ot extends x{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Mt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(f){x.call(this),this.h=f,this.g={}}v(se,x);var Oe=[];function Pn(f){G(f.g,function(_,S){this.g.hasOwnProperty(S)&&Tn(_)},f),f.g={}}se.prototype.N=function(){se.Z.N.call(this),Pn(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=c.JSON.stringify,Er=c.JSON.parse,qe=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function bn(){}function hn(){}var Be={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ye(){C.call(this,"d")}v(ye,C);function He(){C.call(this,"c")}v(He,C);var Ie={},xs=null;function Or(){return xs=xs||new _t}Ie.Ia="serverreachability";function Ca(f){C.call(this,Ie.Ia,f)}v(Ca,C);function An(f){const _=Or();Rt(_,new Ca(_))}Ie.STAT_EVENT="statevent";function li(f,_){C.call(this,Ie.STAT_EVENT,f),this.stat=_}v(li,C);function le(f){const _=Or();Rt(_,new li(_,f))}Ie.Ja="timingevent";function en(f,_){C.call(this,Ie.Ja,f),this.size=_}v(en,C);function dn(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function mn(){this.g=!0}mn.prototype.ua=function(){this.g=!1};function Vs(f,_,S,P,tt,lt){f.info(function(){if(f.g)if(lt){var vt="",jt=lt.split("&");for(let re=0;re<jt.length;re++){var ke=jt[re].split("=");if(ke.length>1){const Ce=ke[0];ke=ke[1];const or=Ce.split("_");vt=or.length>=2&&or[1]=="type"?vt+(Ce+"="+ke+"&"):vt+(Ce+"=redacted&")}}}else vt=null;else vt=lt;return"XMLHTTP REQ ("+P+") [attempt "+tt+"]: "+_+`
`+S+`
`+vt})}function rr(f,_,S,P,tt,lt,vt){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+tt+"]: "+_+`
`+S+`
`+lt+" "+vt})}function sn(f,_,S,P){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+kh(f,S)+(P?" "+P:"")})}function xa(f,_){f.info(function(){return"TIMEOUT: "+_})}mn.prototype.info=function(){};function kh(f,_){if(!f.g)return _;if(!_)return null;try{const lt=JSON.parse(_);if(lt){for(f=0;f<lt.length;f++)if(Array.isArray(lt[f])){var S=lt[f];if(!(S.length<2)){var P=S[1];if(Array.isArray(P)&&!(P.length<1)){var tt=P[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(let vt=1;vt<P.length;vt++)P[vt]=""}}}}return we(lt)}catch{return _}}var Va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function Ma(){}v(Ma,bn),Ma.prototype.g=function(){return new XMLHttpRequest},al=new Ma;function ui(f){return encodeURIComponent(String(f))}function tc(f){var _=1;f=f.split(":");const S=[];for(;_>0&&f.length;)S.push(f.shift()),_--;return f.length&&S.push(f.join(":")),S}function Tr(f,_,S,P){this.j=f,this.i=_,this.l=S,this.S=P||1,this.V=new se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new br}function br(){this.i=null,this.g="",this.h=!1}var Ge={},on={};function Pr(f,_,S){f.M=1,f.A=Na(Ye(_)),f.u=S,f.R=!0,Ms(f,null)}function Ms(f,_){f.F=Date.now(),Ur(f),f.B=Ye(f.A);var S=f.B,P=f.S;Array.isArray(P)||(P=[String(P)]),Us(S.i,"t",P),f.C=0,S=f.j.L,f.h=new br,f.g=gc(f.j,S?_:null,!f.u),f.P>0&&(f.O=new Ot(p(f.Y,f,f.g),f.P)),_=f.V,S=f.g,P=f.ba;var tt="readystatechange";Array.isArray(tt)||(tt&&(Oe[0]=tt.toString()),tt=Oe);for(let lt=0;lt<tt.length;lt++){const vt=Ct(S,tt[lt],P||_.handleEvent,!1,_.h||_);if(!vt)break;_.g[vt.key]=vt}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),An(),Vs(f.i,f.v,f.B,f.l,f.S,f.u)}Tr.prototype.ba=function(f){f=f.target;const _=this.O;_&&wr(f)==3?_.j():this.Y(f)},Tr.prototype.Y=function(f){try{if(f==this.g)t:{const jt=wr(this.g),ke=this.g.ya(),re=this.g.ca();if(!(jt<3)&&(jt!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||jt!=4||ke==7||(ke==8||re<=0?An(3):An(2)),zr(this);var _=this.g.ca();this.X=_;var S=jh(this);if(this.o=_==200,rr(this.i,this.v,this.B,this.l,this.S,jt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var P,tt=this.g;if((P=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(P)){var lt=P;break e}}lt=null}if(f=lt)sn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lr(this,f);else{this.o=!1,this.m=3,le(12),Gn(this),ir(this);break t}}if(this.R){f=!0;let Ce;for(;!this.K&&this.C<S.length;)if(Ce=nc(this,S),Ce==on){jt==4&&(this.m=4,le(14),f=!1),sn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==Ge){this.m=4,le(15),sn(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else sn(this.i,this.l,Ce,null),Lr(this,Ce);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||S.length!=0||this.h.h||(this.m=1,le(16),f=!1),this.o=this.o&&f,!f)sn(this.i,this.l,S,"[Invalid Chunked Response]"),Gn(this),ir(this);else if(S.length>0&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.aa&&!vt.P&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),El(vt),vt.P=!0,le(11))}}else sn(this.i,this.l,S,null),Lr(this,S);jt==4&&Gn(this),this.o&&!this.K&&(jt==4?fc(this.j,this):(this.o=!1,Ur(this)))}else fi(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,le(12)):(this.m=0,le(13)),Gn(this),ir(this)}}}catch{}};function jh(f){if(!ec(f))return f.g.la();const _=gn(f.g);if(_==="")return"";let S="";const P=_.length,tt=wr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Gn(f),ir(f),"";f.h.i=new c.TextDecoder}for(let lt=0;lt<P;lt++)f.h.h=!0,S+=f.h.i.decode(_[lt],{stream:!(tt&&lt==P-1)});return _.length=0,f.h.g+=S,f.C=0,f.h.g}function ec(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function nc(f,_){var S=f.C,P=_.indexOf(`
`,S);return P==-1?on:(S=Number(_.substring(S,P)),isNaN(S)?Ge:(P+=1,P+S>_.length?on:(_=_.slice(P,P+S),f.C=P+S,_)))}Tr.prototype.cancel=function(){this.K=!0,Gn(this)};function Ur(f){f.T=Date.now()+f.H,Ns(f,f.H)}function Ns(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=dn(p(f.aa,f),_)}function zr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Tr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(xa(this.i,this.B),this.M!=2&&(An(),le(17)),Gn(this),this.m=2,ir(this)):Ns(this,this.T-f)};function ir(f){f.j.I==0||f.K||fc(f.j,f)}function Gn(f){zr(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Pn(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Lr(f,_){try{var S=f.j;if(S.I!=0&&(S.g==f||kr(S.h,f))){if(!f.L&&kr(S.h,f)&&S.I==3){try{var P=S.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var tt=P;if(tt[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)js(S),ji(S);else break t;ka(S),le(18)}}else S.xa=tt[1],0<S.xa-S.K&&tt[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=dn(p(S.Va,S),6e3));Br(S.h)<=1&&S.ta&&(S.ta=void 0)}else Qr(S,11)}else if((f.L||S.g==f)&&js(S),!D(_))for(tt=S.Ba.g.parse(_),_=0;_<tt.length;_++){let re=tt[_];const Ce=re[0];if(!(Ce<=S.K))if(S.K=Ce,re=re[1],S.I==2)if(re[0]=="c"){S.M=re[1],S.ba=re[2];const or=re[3];or!=null&&(S.ka=or,S.j.info("VER="+S.ka));const Yr=re[4];Yr!=null&&(S.za=Yr,S.j.info("SVER="+S.za));const Ir=re[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(P=1.5*Ir,S.O=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const Rr=f.g;if(Rr){const ja=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var lt=P.h;lt.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(lt.j=lt.l,lt.g=new Set,lt.h&&(ll(lt,lt.h),lt.h=null))}if(P.G){const Fs=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(P.wa=Fs,ue(P.J,P.G,Fs))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),P=S;var vt=f;if(P.na=mc(P,P.L?P.ba:null,P.W),vt.L){ul(P.h,vt);var jt=vt,ke=P.O;ke&&(jt.H=ke),jt.D&&(zr(jt),Ur(jt)),P.g=vt}else uc(P);S.i.length>0&&Gr(S)}else re[0]!="stop"&&re[0]!="close"||Qr(S,7);else S.I==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Qr(S,7):vl(S):re[0]!="noop"&&S.l&&S.l.qa(re),S.A=0)}}An(4)}catch{}}var Qe=class{constructor(f,_){this.g=f,this.map=_}};function sl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Br(f){return f.h?1:f.g?f.g.size:0}function kr(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ll(f,_){f.g?f.g.add(_):f.h=_}function ul(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}sl.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function cl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const S of f.g.values())_=_.concat(S.G);return _}return w(f.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(f,_){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const P=f[S].indexOf("=");let tt,lt=null;P>=0?(tt=f[S].substring(0,P),lt=f[S].substring(P+1)):tt=f[S],_(tt,lt?decodeURIComponent(lt.replace(/\+/g," ")):"")}}}function Qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Qn?(this.l=f.l,ln(this,f.j),this.o=f.o,this.g=f.g,Oi(this,f.u),this.h=f.h,fl(this,oc(f.i)),this.m=f.m):f&&(_=String(f).match(rc))?(this.l=!1,ln(this,_[1]||"",!0),this.o=jr(_[2]||""),this.g=jr(_[3]||"",!0),Oi(this,_[4]),this.h=jr(_[5]||"",!0),fl(this,_[6]||"",!0),this.m=jr(_[7]||"")):(this.l=!1,this.i=new Ui(null,this.l))}Qn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Oa(_,Ps,!0),":");var S=this.g;return(S||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Oa(_,Ps,!0),"@"),f.push(ui(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Oa(S,S.charAt(0)=="/"?hl:ic,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Oa(S,ac)),f.join("")},Qn.prototype.resolve=function(f){const _=Ye(this);let S=!!f.j;S?ln(_,f.j):S=!!f.o,S?_.o=f.o:S=!!f.g,S?_.g=f.g:S=f.u!=null;var P=f.h;if(S)Oi(_,f.u);else if(S=!!f.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var tt=_.h.lastIndexOf("/");tt!=-1&&(P=_.h.slice(0,tt+1)+P)}if(tt=P,tt==".."||tt==".")P="";else if(tt.indexOf("./")!=-1||tt.indexOf("/.")!=-1){P=tt.lastIndexOf("/",0)==0,tt=tt.split("/");const lt=[];for(let vt=0;vt<tt.length;){const jt=tt[vt++];jt=="."?P&&vt==tt.length&&lt.push(""):jt==".."?((lt.length>1||lt.length==1&&lt[0]!="")&&lt.pop(),P&&vt==tt.length&&lt.push("")):(lt.push(jt),P=!0)}P=lt.join("/")}else P=tt}return S?_.h=P:S=f.i.toString()!=="",S?fl(_,oc(f.i)):S=!!f.m,S&&(_.m=f.m),_};function Ye(f){return new Qn(f)}function ln(f,_,S){f.j=S?jr(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Oi(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function fl(f,_,S){_ instanceof Ui?(f.i=_,zs(f.i,f.l)):(S||(_=Oa(_,Pi)),f.i=new Ui(_,f.l))}function ue(f,_,S){f.i.set(_,S)}function Na(f){return ue(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function jr(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Oa(f,_,S){return typeof f=="string"?(f=encodeURI(f).replace(_,Un),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Un(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ps=/[#\/\?@]/g,ic=/[#\?:]/g,hl=/[#\?]/g,Pi=/[#\?@]/g,ac=/#/g;function Ui(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function zn(f){f.g||(f.g=new Map,f.h=0,f.i&&Os(f.i,function(_,S){f.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}a=Ui.prototype,a.add=function(f,_){zn(this),this.i=null,f=zi(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(_),this.h+=1,this};function sc(f,_){zn(f),_=zi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function dl(f,_){return zn(f),_=zi(f,_),f.g.has(_)}a.forEach=function(f,_){zn(this),this.g.forEach(function(S,P){S.forEach(function(tt){f.call(_,tt,P,this)},this)},this)};function ml(f,_){zn(f);let S=[];if(typeof _=="string")dl(f,_)&&(S=S.concat(f.g.get(zi(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)S=S.concat(f[_]);return S}a.set=function(f,_){return zn(this),this.i=null,f=zi(this,f),dl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},a.get=function(f,_){return f?(f=ml(this,f),f.length>0?String(f[0]):_):_};function Us(f,_,S){sc(f,_),S.length>0&&(f.i=null,f.g.set(zi(f,_),w(S)),f.h+=S.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var S=_[P];const tt=ui(S);S=ml(this,S);for(let lt=0;lt<S.length;lt++){let vt=tt;S[lt]!==""&&(vt+="="+ui(S[lt])),f.push(vt)}}return this.i=f.join("&")};function oc(f){const _=new Ui;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function zi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function zs(f,_){_&&!f.j&&(zn(f),f.i=null,f.g.forEach(function(S,P){const tt=P.toLowerCase();P!=tt&&(sc(this,P),Us(this,tt,S))},f)),f.j=_}function Ar(f,_){const S=new mn;if(c.Image){const P=new Image;P.onload=y(ar,S,"TestLoadImage: loaded",!0,_,P),P.onerror=y(ar,S,"TestLoadImage: error",!1,_,P),P.onabort=y(ar,S,"TestLoadImage: abort",!1,_,P),P.ontimeout=y(ar,S,"TestLoadImage: timeout",!1,_,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else _(!1)}function gl(f,_){const S=new mn,P=new AbortController,tt=setTimeout(()=>{P.abort(),ar(S,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:P.signal}).then(lt=>{clearTimeout(tt),lt.ok?ar(S,"TestPingServer: ok",!0,_):ar(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(tt),ar(S,"TestPingServer: error",!1,_)})}function ar(f,_,S,P,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),P(S)}catch{}}function Li(){this.g=new qe}function Fr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Fr,bn),Fr.prototype.g=function(){return new Pa(this.i,this.h)};function Pa(f,_){_t.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Pa,_t),a=Pa.prototype,a.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Sr(this)},a.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},a.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ls(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ls(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}a.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Bi(this):Sr(this),this.readyState==3&&Ls(this)}},a.Oa=function(f){this.g&&(this.response=this.responseText=f,Bi(this))},a.Na=function(f){this.g&&(this.response=f,Bi(this))},a.ga=function(){this.g&&Bi(this)};function Bi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Sr(f)}a.setRequestHeader=function(f,_){this.A.append(f,_)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=_.next();return f.join(`\r
`)};function Sr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function sr(f){let _="";return G(f,function(S,P){_+=P,_+=":",_+=S,_+=`\r
`}),_}function Ua(f,_,S){t:{for(P in S){var P=!1;break t}P=!0}P||(S=sr(S),typeof f=="string"?S!=null&&ui(S):ue(f,_,S))}function ve(f){_t.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ve,_t);var qr=/^https?$/i,pl=["POST","PUT"];a=ve.prototype,a.Fa=function(f){this.H=f},a.ea=function(f,_,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(lt){za(this,lt);return}if(f=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var tt in P)S.set(tt,P[tt]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const lt of P.keys())S.set(lt,P.get(lt));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(lt=>lt.toLowerCase()=="content-type"),tt=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(pl,_,void 0)>=0)||P||tt||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[lt,vt]of S)this.g.setRequestHeader(lt,vt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(lt){za(this,lt)}};function za(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,yl(f),ci(f)}function yl(f){f.A||(f.A=!0,Rt(f,"complete"),Rt(f,"error"))}a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Rt(this,"complete"),Rt(this,"abort"),ci(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),ve.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?La(this):this.Xa())},a.Xa=function(){La(this)};function La(f){if(f.h&&typeof l<"u"){if(f.v&&wr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Rt(f,"readystatechange"),wr(f)==4){f.h=!1;try{const lt=f.ca();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var S;if(!(S=_)){var P;if(P=lt===0){let vt=String(f.D).match(rc)[1]||null;!vt&&c.self&&c.self.location&&(vt=c.self.location.protocol.slice(0,-1)),P=!qr.test(vt?vt.toLowerCase():"")}S=P}if(S)Rt(f,"complete"),Rt(f,"success");else{f.o=6;try{var tt=wr(f)>2?f.g.statusText:""}catch{tt=""}f.l=tt+" ["+f.ca()+"]",yl(f)}}finally{ci(f)}}}}function ci(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,_||Rt(f,"ready");try{S.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function wr(f){return f.g?f.g.readyState:0}a.ca=function(){try{return wr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Er(_)}};function gn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function fi(f){const _={};f=(f.g&&wr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(D(f[P]))continue;var S=tc(f[P]);const tt=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const lt=_[tt]||[];_[tt]=lt,lt.push(S)}J(_,function(P){return P.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(f,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||_}function ki(f){this.za=0,this.i=[],this.j=new mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,f),this.Za=Hr("retryDelaySeedMs",1e4,f),this.Ta=Hr("forwardChannelMaxRetries",2,f),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(f&&f.concurrentRequestLimit),this.Ba=new Li,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ki.prototype,a.ka=8,a.I=1,a.connect=function(f,_,S,P){le(0),this.W=f,this.H=_||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.J=mc(this,null,this.W),Gr(this)};function vl(f){if(Bs(f),f.I==3){var _=f.V++,S=Ye(f.J);if(ue(S,"SID",f.M),ue(S,"RID",_),ue(S,"TYPE","terminate"),Ba(f,S),_=new Tr(f,f.j,_),_.M=2,_.A=Na(Ye(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=gc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ur(_)}dc(f)}function ji(f){f.g&&(El(f),f.g.cancel(),f.g=null)}function Bs(f){ji(f),f.v&&(c.clearTimeout(f.v),f.v=null),js(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Gr(f){if(!ol(f.h)&&!f.m){f.m=!0;var _=f.Ea;at||T(),B||(at(),B=!0),V.add(_,f),f.D=0}}function ks(f,_){return Br(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=dn(p(f.Ea,f,_),hc(f,f.D)),f.D++,!0)}a.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const tt=new Tr(this,this.j,f);let lt=this.o;if(this.U&&(lt?(lt=U(lt),ot(lt,this.U)):lt=this.U),this.u!==null||this.R||(tt.J=lt,lt=null),this.S)t:{for(var _=0,S=0;S<this.i.length;S++){e:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=S;break t}if(_===4096||S===this.i.length-1){_=S+1;break t}}_=1e3}else _=1e3;_=lc(this,tt,_),S=Ye(this.J),ue(S,"RID",f),ue(S,"CVER",22),this.G&&ue(S,"X-HTTP-Session-Id",this.G),Ba(this,S),lt&&(this.R?_="headers="+ui(sr(lt))+"&"+_:this.u&&Ua(S,this.u,lt)),ll(this.h,tt),this.Ra&&ue(S,"TYPE","init"),this.S?(ue(S,"$req",_),ue(S,"SID","null"),tt.U=!0,Pr(tt,S,null)):Pr(tt,S,_),this.I=2}}else this.I==3&&(f?_l(this,f):this.i.length==0||ol(this.h)||_l(this))};function _l(f,_){var S;_?S=_.l:S=f.V++;const P=Ye(f.J);ue(P,"SID",f.M),ue(P,"RID",S),ue(P,"AID",f.K),Ba(f,P),f.u&&f.o&&Ua(P,f.u,f.o),S=new Tr(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),_&&(f.i=_.G.concat(f.i)),_=lc(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ll(f.h,S),Pr(S,P,_)}function Ba(f,_){f.H&&G(f.H,function(S,P){ue(_,P,S)}),f.l&&G({},function(S,P){ue(_,P,S)})}function lc(f,_,S){S=Math.min(f.i.length,S);const P=f.l?p(f.l.Ka,f.l,f):null;t:{var tt=f.i;let jt=-1;for(;;){const ke=["count="+S];jt==-1?S>0?(jt=tt[0].g,ke.push("ofs="+jt)):jt=0:ke.push("ofs="+jt);let re=!0;for(let Ce=0;Ce<S;Ce++){var lt=tt[Ce].g;const or=tt[Ce].map;if(lt-=jt,lt<0)jt=Math.max(0,tt[Ce].g-100),re=!1;else try{lt="req"+lt+"_"||"";try{var vt=or instanceof Map?or:Object.entries(or);for(const[Yr,Ir]of vt){let Rr=Ir;d(Ir)&&(Rr=we(Ir)),ke.push(lt+Yr+"="+encodeURIComponent(Rr))}}catch(Yr){throw ke.push(lt+"type="+encodeURIComponent("_badmap")),Yr}}catch{P&&P(or)}}if(re){vt=ke.join("&");break t}}vt=void 0}return f=f.i.splice(0,S),_.G=f,vt}function uc(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;at||T(),B||(at(),B=!0),V.add(_,f),f.A=0}}function ka(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=dn(p(f.Da,f),hc(f,f.A)),f.A++,!0)}a.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=dn(p(this.Wa,this),f)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,le(10),ji(this),cc(this))};function El(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function cc(f){f.g=new Tr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ye(f.na);ue(_,"RID","rpc"),ue(_,"SID",f.M),ue(_,"AID",f.K),ue(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&ue(_,"TO",f.ia),ue(_,"TYPE","xmlhttp"),Ba(f,_),f.u&&f.o&&Ua(_,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=Na(Ye(_)),S.u=null,S.R=!0,Ms(S,f)}a.Va=function(){this.C!=null&&(this.C=null,ji(this),ka(this),le(19))};function js(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function fc(f,_){var S=null;if(f.g==_){js(f),El(f),f.g=null;var P=2}else if(kr(f.h,_))S=_.G,ul(f.h,_),P=1;else return;if(f.I!=0){if(_.o)if(P==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var tt=f.D;P=Or(),Rt(P,new en(P,S)),Gr(f)}else uc(f);else if(tt=_.m,tt==3||tt==0&&_.X>0||!(P==1&&ks(f,_)||P==2&&ka(f)))switch(S&&S.length>0&&(_=f.h,_.i=_.i.concat(S)),tt){case 1:Qr(f,5);break;case 4:Qr(f,10);break;case 3:Qr(f,6);break;default:Qr(f,2)}}}function hc(f,_){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*_}function Qr(f,_){if(f.j.info("Error code "+_),_==2){var S=p(f.bb,f),P=f.Ua;const tt=!P;P=new Qn(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ln(P,"https"),Na(P),tt?Ar(P.toString(),S):gl(P.toString(),S)}else le(2);f.I=0,f.l&&f.l.pa(_),dc(f),Bs(f)}a.bb=function(f){f?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function dc(f){if(f.I=0,f.ja=[],f.l){const _=cl(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ja,_),M(f.ja,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.oa()}}function mc(f,_,S){var P=S instanceof Qn?Ye(S):new Qn(S);if(P.g!="")_&&(P.g=_+"."+P.g),Oi(P,P.u);else{var tt=c.location;P=tt.protocol,_=_?_+"."+tt.hostname:tt.hostname,tt=+tt.port;const lt=new Qn(null);P&&ln(lt,P),_&&(lt.g=_),tt&&Oi(lt,tt),S&&(lt.h=S),P=lt}return S=f.G,_=f.wa,S&&_&&ue(P,S,_),ue(P,"VER",f.ka),Ba(f,P),P}function gc(f,_,S){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ve(new Fr({ab:S})):new ve(f.ma),_.Fa(f.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}a=pc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Fi(){}Fi.prototype.g=function(f,_){return new Cn(f,_)};function Cn(f,_){_t.call(this),this.g=new ki(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!D(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new hi(this)}v(Cn,_t),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){vl(this.g)},Cn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=we(f),f=S);_.i.push(new Qe(_.Ya++,f)),_.I==3&&Gr(_)},Cn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,Cn.Z.N.call(this)};function yc(f){ye.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const S in _){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(yc,ye);function vc(){He.call(this),this.status=1}v(vc,He);function hi(f){this.g=f}v(hi,pc),hi.prototype.ra=function(){Rt(this.g,"a")},hi.prototype.qa=function(f){Rt(this.g,new yc(f))},hi.prototype.pa=function(f){Rt(this.g,new vc)},hi.prototype.oa=function(){Rt(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,dE=function(){return new Fi},hE=function(){return Or()},fE=Ie,sg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,Mf=Va,il.COMPLETE="complete",cE=il,hn.EventType=Be,Be.OPEN="a",Be.CLOSE="b",Be.ERROR="c",Be.MESSAGE="d",_t.prototype.listen=_t.prototype.J,hu=hn,ve.prototype.listenOnce=ve.prototype.K,ve.prototype.getLastError=ve.prototype.Ha,ve.prototype.getLastErrorCode=ve.prototype.ya,ve.prototype.getStatus=ve.prototype.ca,ve.prototype.getResponseJson=ve.prototype.La,ve.prototype.getResponseText=ve.prototype.la,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Fa,uE=ve}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});class Vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");let Jo="12.8.0";function Aw(a){Jo=a}const Es=new rE("@firebase/firestore");function Io(){return Es.logLevel}function mt(a,...t){if(Es.logLevel<=Jt.DEBUG){const n=t.map(Ng);Es.debug(`Firestore (${Jo}): ${a}`,...n)}}function Mn(a,...t){if(Es.logLevel<=Jt.ERROR){const n=t.map(Ng);Es.error(`Firestore (${Jo}): ${a}`,...n)}}function Du(a,...t){if(Es.logLevel<=Jt.WARN){const n=t.map(Ng);Es.warn(`Firestore (${Jo}): ${a}`,...n)}}function Ng(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function At(a,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,mE(a,i,n)}function mE(a,t,n){let i=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Mn(i),new Error(i)}function Dt(a,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,a||mE(t,s,i)}function zt(a,t){return a}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends $o{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Sw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Vn.UNAUTHENTICATED)))}shutdown(){}}class Iw{constructor(t){this.t=t,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Dt(this.o===void 0,42304);let i=this.i;const s=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let l=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ai,t.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const g=l;t.enqueueRetryable((async()=>{await g.promise,await s(this.currentUser)}))},d=g=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ai)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt(typeof i.accessToken=="string",31837,{l:i}),new Sw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Dt(t===null||typeof t=="string",2055,{h:t}),new Vn(t)}}class Rw{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Dw{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new Rw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Dt(this.o===void 0,3512);const i=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const s=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}class Og{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=xw(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<n&&(i+=t.charAt(s[l]%62))}return i}}function Ut(a,t){return a<t?-1:a>t?1:0}function og(a,t){const n=Math.min(a.length,t.length);for(let i=0;i<n;i++){const s=a.charAt(i),l=t.charAt(i);if(s!==l)return Gm(s)===Gm(l)?Ut(s,l):Gm(s)?1:-1}return Ut(a.length,t.length)}const Vw=55296,Mw=57343;function Gm(a){const t=a.charCodeAt(0);return t>=Vw&&t<=Mw}function Bo(a,t,n){return a.length===t.length&&a.every(((i,s)=>n(i,t[s])))}function gE(a){return a+"\0"}const d_="__name__";class $r{constructor(t,n,i){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&At(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return $r.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $r?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const l=$r.compareSegments(t.get(s),n.get(s));if(l!==0)return l}return Ut(t.length,n.length)}static compareSegments(t,n){const i=$r.isNumericId(t),s=$r.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?$r.extractNumericId(t).compare($r.extractNumericId(n)):og(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _a.fromString(t.substring(4,t.length-2))}}class oe extends $r{construct(t,n,i){return new oe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Tt(dt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const Nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends $r{construct(t,n,i){return new Pe(t,n,i)}static isValidIdentifier(t){return Nw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new Pe([d_])}static fromServerFormat(t){const n=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Tt(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<t.length;){const d=t[s];if(d==="\\"){if(s+1===t.length)throw new Tt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Tt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new Tt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pe(n)}static emptyPath(){return new Pe([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(oe.fromString(t))}static fromName(t){return new Et(oe.fromString(t).popFirst(5))}static empty(){return new Et(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new oe(t.slice()))}}function pE(a,t,n){if(!n)throw new Tt(dt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Ow(a,t,n,i){if(t===!0&&i===!0)throw new Tt(dt.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function m_(a){if(!Et.isDocumentKey(a))throw new Tt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function g_(a){if(Et.isDocumentKey(a))throw new Tt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function yE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Pg(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":At(12329,{type:typeof a})}function ba(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Tt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pg(a);throw new Tt(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}function Je(a,t){const n={typeString:a};return t&&(n.value=t),n}function Gu(a,t){if(!yE(a))throw new Tt(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in a)){n=`JSON missing required field: '${i}'`;break}const c=a[i];if(s&&typeof c!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Tt(dt.INVALID_ARGUMENT,n);return!0}const p_=-62135596800,y_=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*y_);return new me(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<p_)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gu(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-p_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Je("string",me._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};class Vt{static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new me(0,0))}static max(){return new Vt(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cu=-1;class Kf{constructor(t,n,i,s){this.indexId=t,this.collectionGroup=n,this.fields=i,this.indexState=s}}function lg(a){return a.fields.find((t=>t.kind===2))}function as(a){return a.fields.filter((t=>t.kind!==2))}Kf.UNKNOWN_ID=-1;class Nf{constructor(t,n){this.fieldPath=t,this.kind=n}}class xu{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new xu(0,nr.min())}}function Pw(a,t){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,s=Vt.fromTimestamp(i===1e9?new me(n+1,0):new me(n,i));return new nr(s,Et.empty(),t)}function vE(a){return new nr(a.readTime,a.key,Cu)}class nr{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new nr(Vt.min(),Et.empty(),Cu)}static max(){return new nr(Vt.max(),Et.empty(),Cu)}}function Ug(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(a.documentKey,t.documentKey),n!==0?n:Ut(a.largestBatchId,t.largestBatchId))}const _E="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Rs(a){if(a.code!==dt.FAILED_PRECONDITION||a.message!==_E)throw a;mt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,i)=>{n(t)}))}static reject(t){return new $(((n,i)=>{i(t)}))}static waitFor(t){return new $(((n,i)=>{let s=0,l=0,c=!1;t.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&n()}),(g=>i(g)))})),c=!0,l===s&&n()}))}static or(t){let n=$.resolve(!1);for(const i of t)n=n.next((s=>s?$.resolve(s):i()));return n}static forEach(t,n){const i=[];return t.forEach(((s,l)=>{i.push(n.call(this,s,l))})),this.waitFor(i)}static mapArray(t,n){return new $(((i,s)=>{const l=t.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;n(t[p]).next((y=>{c[p]=y,++d,d===l&&i(c)}),(y=>s(y)))}}))}static doWhile(t,n){return new $(((i,s)=>{const l=()=>{t()===!0?n().next((()=>{l()}),s):i()};l()}))}}const tr="SimpleDb";class ph{static open(t,n,i,s){try{return new ph(n,t.transaction(s,i))}catch(l){throw new yu(n,l)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new ai,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new yu(t,n.error)):this.S.resolve()},this.transaction.onerror=i=>{const s=zg(i.target.error);this.S.reject(new yu(t,s))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(mt(tr,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new zw(n)}}class Ea{static delete(t){return mt(tr,"Removing database:",t),ls(X1().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!eE())return!1;if(Ea.F())return!0;const t=Gf(),n=Ea.M(t),i=0<n&&n<10,s=TE(t),l=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,n,i){this.name=t,this.version=n,this.N=i,this.B=null,Ea.M(Gf())===12.2&&Mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(mt(tr,"Opening database:",this.name),this.db=await new Promise(((n,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=l=>{const c=l.target.result;n(c)},s.onblocked=()=>{i(new yu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new Tt(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new Tt(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new yu(t,c))},s.onupgradeneeded=l=>{mt(tr,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,s.transaction,l.oldVersion,this.version).next((()=>{mt(tr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,i,s){const l=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const d=ph.open(this.db,t,l?"readonly":"readwrite",i),g=s(d).next((p=>(d.C(),p))).catch((p=>(d.abort(p),$.reject(p)))).toPromise();return g.catch((()=>{})),await d.D,g}catch(d){const g=d,p=g.name!=="FirebaseError"&&c<3;if(mt(tr,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function TE(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Uw{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return ls(this.U.delete())}}class yu extends Tt{constructor(t,n){super(dt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ra(a){return a.name==="IndexedDbTransactionError"}class zw{constructor(t){this.store=t}put(t,n){let i;return n!==void 0?(mt(tr,"PUT",this.store.name,t,n),i=this.store.put(n,t)):(mt(tr,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ls(i)}add(t){return mt(tr,"ADD",this.store.name,t,t),ls(this.store.add(t))}get(t){return ls(this.store.get(t)).next((n=>(n===void 0&&(n=null),mt(tr,"GET",this.store.name,t,n),n)))}delete(t){return mt(tr,"DELETE",this.store.name,t),ls(this.store.delete(t))}count(){return mt(tr,"COUNT",this.store.name),ls(this.store.count())}H(t,n){const i=this.options(t,n),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const l=s.getAll(i.range);return new $(((c,d)=>{l.onerror=g=>{d(g.target.error)},l.onsuccess=g=>{c(g.target.result)}}))}{const l=this.cursor(i),c=[];return this.J(l,((d,g)=>{c.push(g)})).next((()=>c))}}Z(t,n){const i=this.store.getAll(t,n===null?void 0:n);return new $(((s,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{s(c.target.result)}}))}X(t,n){mt(tr,"DELETE ALL",this.store.name);const i=this.options(t,n);i.Y=!1;const s=this.cursor(i);return this.J(s,((l,c,d)=>d.delete()))}ee(t,n){let i;n?i=t:(i={},n=t);const s=this.cursor(i);return this.J(s,n)}te(t){const n=this.cursor({});return new $(((i,s)=>{n.onerror=l=>{const c=zg(l.target.error);s(c)},n.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next((d=>{d?c.continue():i()})):i()}}))}J(t,n){const i=[];return new $(((s,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void s();const g=new Uw(d),p=n(d.primaryKey,d.value,g);if(p instanceof $){const y=p.catch((v=>(g.done(),$.reject(v))));i.push(y)}g.isDone?s():g.G===null?d.continue():d.continue(g.G)}})).next((()=>$.waitFor(i)))}options(t,n){let i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function ls(a){return new $(((t,n)=>{a.onsuccess=i=>{const s=i.target.result;t(s)},a.onerror=i=>{const s=zg(i.target.error);n(s)}}))}let v_=!1;function zg(a){const t=Ea.M(Gf());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(n)>=0){const i=new Tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return v_||(v_=!0,setTimeout((()=>{throw i}),0)),i}}return a}const vu="IndexBackfiller";class Lw{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){mt(vu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();mt(vu,`Documents written: ${n}`)}catch(n){Ra(n)?mt(vu,"Ignoring IndexedDB error during index backfill: ",n):await Rs(n)}await this.re(6e4)}))}}class Bw{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const i=new Set;let s=n,l=!0;return $.doWhile((()=>l===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!i.has(c))return mt(vu,`Processing collection: ${c}`),this.oe(t,c,s).next((d=>{s-=d,i.add(c)}));l=!1})))).next((()=>n-s))}oe(t,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((s=>this.localStore.localDocuments.getNextDocuments(t,n,s,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(s,l))).next((d=>(mt(vu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,n,d)))).next((()=>c.size))}))))}_e(t,n){let i=t;return n.changes.forEach(((s,l)=>{const c=vE(l);Ug(c,i)>0&&(i=c)})),new nr(i.readTime,i.documentKey,Math.max(n.batchId,t.largestBatchId))}}class yr{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yr.ce=-1;const ps=-1;function yh(a){return a==null}function Vu(a){return a===0&&1/a==-1/0}function kw(a){return typeof a=="number"&&Number.isInteger(a)&&!Vu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const Xf="";function Dn(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=__(t)),t=jw(a.get(n),t);return __(t)}function jw(a,t){let n=t;const i=a.length;for(let s=0;s<i;s++){const l=a.charAt(s);switch(l){case"\0":n+="";break;case Xf:n+="";break;default:n+=l}}return n}function __(a){return a+Xf+""}function ri(a){const t=a.length;if(Dt(t>=2,64408,{path:a}),t===2)return Dt(a.charAt(0)===Xf&&a.charAt(1)==="",56145,{path:a}),oe.emptyPath();const n=t-2,i=[];let s="";for(let l=0;l<t;){const c=a.indexOf(Xf,l);switch((c<0||c>n)&&At(50515,{path:a}),a.charAt(c+1)){case"":const d=a.substring(l,c);let g;s.length===0?g=d:(s+=d,g=s,s=""),i.push(g);break;case"":s+=a.substring(l,c),s+="\0";break;case"":s+=a.substring(l,c+1);break;default:At(61167,{path:a})}l=c+2}return new oe(i)}const ss="remoteDocuments",Qu="owner",_o="owner",Mu="mutationQueues",Fw="userId",Mr="mutations",E_="batchId",ds="userMutationsIndex",T_=["userId","batchId"];function Of(a,t){return[a,Dn(t)]}function bE(a,t,n){return[a,Dn(t),n]}const qw={},ko="documentMutations",Zf="remoteDocumentsV14",Hw=["prefixPath","collectionGroup","readTime","documentId"],Pf="documentKeyIndex",Gw=["prefixPath","collectionGroup","documentId"],AE="collectionGroupIndex",Qw=["collectionGroup","readTime","prefixPath","documentId"],Nu="remoteDocumentGlobal",ug="remoteDocumentGlobalKey",jo="targets",SE="queryTargetsIndex",Yw=["canonicalId","targetId"],Fo="targetDocuments",Kw=["targetId","path"],Lg="documentTargetsIndex",Xw=["path","targetId"],Wf="targetGlobalKey",ys="targetGlobal",Ou="collectionParents",Zw=["collectionId","parent"],qo="clientMetadata",Ww="clientId",vh="bundles",$w="bundleId",_h="namedQueries",Jw="name",Bg="indexConfiguration",tI="indexId",cg="collectionGroupIndex",eI="collectionGroup",_u="indexState",nI=["indexId","uid"],wE="sequenceNumberIndex",rI=["uid","sequenceNumber"],Eu="indexEntries",iI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IE="documentKeyIndex",aI=["indexId","uid","orderedDocumentKey"],Eh="documentOverlays",sI=["userId","collectionPath","documentId"],fg="collectionPathOverlayIndex",oI=["userId","collectionPath","largestBatchId"],RE="collectionGroupOverlayIndex",lI=["userId","collectionGroup","largestBatchId"],kg="globals",uI="name",DE=[Mu,Mr,ko,ss,jo,Qu,ys,Fo,qo,Nu,Ou,vh,_h],cI=[...DE,Eh],CE=[Mu,Mr,ko,Zf,jo,Qu,ys,Fo,qo,Nu,Ou,vh,_h,Eh],xE=CE,jg=[...xE,Bg,_u,Eu],fI=jg,VE=[...jg,kg],hI=VE;class hg extends EE{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function an(a,t){const n=zt(a);return Ea.O(n.le,t)}function b_(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function Ds(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function ME(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Me{constructor(t,n){this.comparator=t,this.root=n||En.EMPTY}insert(t,n){return new Me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(t){return new Me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,En.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sf(this.root,t,this.comparator,!0)}}class Sf{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&s&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class En{constructor(t,n,i,s,l){this.key=t,this.value=n,this.color=i??En.RED,this.left=s??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,l){return new En(t??this.key,n??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const l=i(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,n,i),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return En.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,i,s,l){return this}insert(t,n,i){return new En(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ge{constructor(t){this.comparator=t,this.data=new Me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(t){return new A_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ge(this.comparator);return n.data=t,n}}class A_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eo(a){return a.hasNext()?a.getNext():void 0}class vr{constructor(t){this.fields=t,t.sort(Pe.comparator)}static empty(){return new vr([])}unionWith(t){let n=new ge(Pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new vr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Bo(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new NE("Invalid base64 string: "+l):l}})(t);return new tn(n)}static fromUint8Array(t){const n=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(t);return new tn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const dI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(a){if(Dt(!!a,39018),typeof a=="string"){let t=0;const n=dI.exec(a);if(Dt(!!n,46558,{timestamp:a}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ve(a.seconds),nanos:Ve(a.nanos)}}function Ve(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Vi(a){return typeof a=="string"?tn.fromBase64String(a):tn.fromUint8Array(a)}const OE="server_timestamp",PE="__type__",UE="__previous_value__",zE="__local_write_time__";function Fg(a){return(a?.mapValue?.fields||{})[PE]?.stringValue===OE}function Th(a){const t=a.mapValue.fields[UE];return Fg(t)?Th(t):t}function Pu(a){const t=xi(a.mapValue.fields[zE].timestampValue);return new me(t.seconds,t.nanos)}class mI{constructor(t,n,i,s,l,c,d,g,p,y,v){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const $f="(default)";class Ts{constructor(t,n){this.projectId=t,this.database=n||$f}static empty(){return new Ts("","")}get isDefaultDatabase(){return this.database===$f}isEqual(t){return t instanceof Ts&&t.projectId===this.projectId&&t.database===this.database}}function gI(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Tt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ts(a.options.projectId,t)}const qg="__type__",LE="__max__",ya={mapValue:{fields:{__type__:{stringValue:LE}}}},Hg="__vector__",Ho="value",Uf={nullValue:"NULL_VALUE"};function Aa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Fg(a)?4:BE(a)?9007199254740991:bh(a)?10:11:At(28295,{value:a})}function oi(a,t){if(a===t)return!0;const n=Aa(a);if(n!==Aa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Pu(a).isEqual(Pu(t));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=xi(s.timestampValue),d=xi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(s,l){return Vi(s.bytesValue).isEqual(Vi(l.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(s,l){return Ve(s.geoPointValue.latitude)===Ve(l.geoPointValue.latitude)&&Ve(s.geoPointValue.longitude)===Ve(l.geoPointValue.longitude)})(a,t);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return Ve(s.integerValue)===Ve(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ve(s.doubleValue),d=Ve(l.doubleValue);return c===d?Vu(c)===Vu(d):isNaN(c)&&isNaN(d)}return!1})(a,t);case 9:return Bo(a.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(b_(c)!==b_(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!oi(c[g],d[g])))return!1;return!0})(a,t);default:return At(52216,{left:a})}}function Uu(a,t){return(a.values||[]).find((n=>oi(n,t)))!==void 0}function Sa(a,t){if(a===t)return 0;const n=Aa(a),i=Aa(t);if(n!==i)return Ut(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(a.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Ve(l.integerValue||l.doubleValue),g=Ve(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(a,t);case 3:return S_(a.timestampValue,t.timestampValue);case 4:return S_(Pu(a),Pu(t));case 5:return og(a.stringValue,t.stringValue);case 6:return(function(l,c){const d=Vi(l),g=Vi(c);return d.compareTo(g)})(a.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const y=Ut(d[p],g[p]);if(y!==0)return y}return Ut(d.length,g.length)})(a.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ut(Ve(l.latitude),Ve(c.latitude));return d!==0?d:Ut(Ve(l.longitude),Ve(c.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return w_(a.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},g=c.fields||{},p=d[Ho]?.arrayValue,y=g[Ho]?.arrayValue,v=Ut(p?.values?.length||0,y?.values?.length||0);return v!==0?v:w_(p,y)})(a.mapValue,t.mapValue);case 11:return(function(l,c){if(l===ya.mapValue&&c===ya.mapValue)return 0;if(l===ya.mapValue)return 1;if(c===ya.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},y=Object.keys(p);g.sort(),y.sort();for(let v=0;v<g.length&&v<y.length;++v){const E=og(g[v],y[v]);if(E!==0)return E;const w=Sa(d[g[v]],p[y[v]]);if(w!==0)return w}return Ut(g.length,y.length)})(a.mapValue,t.mapValue);default:throw At(23264,{he:n})}}function S_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ut(a,t);const n=xi(a),i=xi(t),s=Ut(n.seconds,i.seconds);return s!==0?s:Ut(n.nanos,i.nanos)}function w_(a,t){const n=a.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const l=Sa(n[s],i[s]);if(l)return l}return Ut(n.length,i.length)}function Go(a){return dg(a)}function dg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const i=xi(n);return`time(${i.seconds},${i.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Vi(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return Et.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let i="[",s=!0;for(const l of n.values||[])s?s=!1:i+=",",i+=dg(l);return i+"]"})(a.arrayValue):"mapValue"in a?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${dg(n.fields[c])}`;return s+"}"})(a.mapValue):At(61005,{value:a})}function zf(a){switch(Aa(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(a);return t?16+zf(t):16;case 5:return 2*a.stringValue.length;case 6:return Vi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+zf(l)),0)})(a.arrayValue);case 10:case 11:return(function(i){let s=0;return Ds(i.fields,((l,c)=>{s+=l.length+zf(c)})),s})(a.mapValue);default:throw At(13486,{value:a})}}function Gg(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function mg(a){return!!a&&"integerValue"in a}function zu(a){return!!a&&"arrayValue"in a}function I_(a){return!!a&&"nullValue"in a}function R_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Lf(a){return!!a&&"mapValue"in a}function bh(a){return(a?.mapValue?.fields||{})[qg]?.stringValue===Hg}function Tu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ds(a.mapValue.fields,((n,i)=>t.mapValue.fields[n]=Tu(i))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Tu(a.arrayValue.values[n]);return t}return{...a}}function BE(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===LE}const kE={mapValue:{fields:{[qg]:{stringValue:Hg},[Ho]:{arrayValue:{}}}}};function pI(a){return"nullValue"in a?Uf:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Gg(Ts.empty(),Et.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?bh(a)?kE:{mapValue:{}}:At(35942,{value:a})}function yI(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Gg(Ts.empty(),Et.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?kE:"mapValue"in a?bh(a)?{mapValue:{}}:ya:At(61959,{value:a})}function D_(a,t){const n=Sa(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function C_(a,t){const n=Sa(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Lf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tu(n)}setAll(t){let n=Pe.emptyPath(),i={},s=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,i,s),i={},s=[],n=d.popLast()}c?i[d.lastSegment()]=Tu(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,s)}delete(t){const n=this.field(t.popLast());Lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Lf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Ds(n,((s,l)=>t[s]=l));for(const s of i)delete t[s]}clone(){return new Hn(Tu(this.value))}}function jE(a){const t=[];return Ds(a.fields,((n,i)=>{const s=new Pe([n]);if(Lf(i)){const l=jE(i.mapValue).fields;if(l.length===0)t.push(s);else for(const c of l)t.push(s.child(c))}else t.push(s)})),new vr(t)}class Le{constructor(t,n,i,s,l,c,d){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Le(t,0,Vt.min(),Vt.min(),Vt.min(),Hn.empty(),0)}static newFoundDocument(t,n,i,s){return new Le(t,1,n,Vt.min(),i,s,0)}static newNoDocument(t,n){return new Le(t,2,n,Vt.min(),Vt.min(),Hn.empty(),0)}static newUnknownDocument(t,n){return new Le(t,3,n,Vt.min(),Vt.min(),Hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qo{constructor(t,n){this.position=t,this.inclusive=n}}function x_(a,t,n){let i=0;for(let s=0;s<a.position.length;s++){const l=t[s],c=a.position[s];if(l.field.isKeyField()?i=Et.comparator(Et.fromName(c.referenceValue),n.key):i=Sa(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function V_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!oi(a.position[n],t.position[n]))return!1;return!0}class Jf{constructor(t,n="asc"){this.field=t,this.dir=n}}function vI(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class FE{}class Wt extends FE{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new _I(t,n,i):n==="array-contains"?new bI(t,i):n==="in"?new KE(t,i):n==="not-in"?new AI(t,i):n==="array-contains-any"?new SI(t,i):new Wt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new EI(t,i):new TI(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sa(n,this.value)):n!==null&&Aa(this.value)===Aa(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class be extends FE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new be(t,n)}matches(t){return Yo(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yo(a){return a.op==="and"}function gg(a){return a.op==="or"}function Qg(a){return qE(a)&&Yo(a)}function qE(a){for(const t of a.filters)if(t instanceof be)return!1;return!0}function pg(a){if(a instanceof Wt)return a.field.canonicalString()+a.op.toString()+Go(a.value);if(Qg(a))return a.filters.map((t=>pg(t))).join(",");{const t=a.filters.map((n=>pg(n))).join(",");return`${a.op}(${t})`}}function HE(a,t){return a instanceof Wt?(function(i,s){return s instanceof Wt&&i.op===s.op&&i.field.isEqual(s.field)&&oi(i.value,s.value)})(a,t):a instanceof be?(function(i,s){return s instanceof be&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,d)=>l&&HE(c,s.filters[d])),!0):!1})(a,t):void At(19439)}function GE(a,t){const n=a.filters.concat(t);return be.create(n,a.op)}function QE(a){return a instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`})(a):a instanceof be?(function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"})(a):"Filter"}class _I extends Wt{constructor(t,n,i){super(t,n,i),this.key=Et.fromName(i.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class EI extends Wt{constructor(t,n){super(t,"in",n),this.keys=YE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class TI extends Wt{constructor(t,n){super(t,"not-in",n),this.keys=YE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function YE(a,t){return(t.arrayValue?.values||[]).map((n=>Et.fromName(n.referenceValue)))}class bI extends Wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zu(n)&&Uu(n.arrayValue,this.value)}}class KE extends Wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class AI extends Wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uu(this.value.arrayValue,n)}}class SI extends Wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Uu(this.value.arrayValue,i)))}}class wI{constructor(t,n=null,i=[],s=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function yg(a,t=null,n=[],i=[],s=null,l=null,c=null){return new wI(a,t,n,i,s,l,c)}function bs(a){const t=zt(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>pg(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),yh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Go(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Go(i))).join(",")),t.Te=n}return t.Te}function Yu(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!vI(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!HE(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!V_(a.startAt,t.startAt)&&V_(a.endAt,t.endAt)}function th(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function eh(a,t){return a.filters.filter((n=>n instanceof Wt&&n.field.isEqual(t)))}function M_(a,t,n){let i=Uf,s=!0;for(const l of eh(a,t)){let c=Uf,d=!0;switch(l.op){case"<":case"<=":c=pI(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Uf}D_({value:i,inclusive:s},{value:c,inclusive:d})<0&&(i=c,s=d)}if(n!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=n.position[l];D_({value:i,inclusive:s},{value:c,inclusive:n.inclusive})<0&&(i=c,s=n.inclusive);break}}return{value:i,inclusive:s}}function N_(a,t,n){let i=ya,s=!0;for(const l of eh(a,t)){let c=ya,d=!0;switch(l.op){case">=":case">":c=yI(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=ya}C_({value:i,inclusive:s},{value:c,inclusive:d})>0&&(i=c,s=d)}if(n!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=n.position[l];C_({value:i,inclusive:s},{value:c,inclusive:n.inclusive})>0&&(i=c,s=n.inclusive);break}}return{value:i,inclusive:s}}class Ah{constructor(t,n=null,i=[],s=[],l=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function II(a,t,n,i,s,l,c,d){return new Ah(a,t,n,i,s,l,c,d)}function Sh(a){return new Ah(a)}function O_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function RI(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function DI(a){return a.collectionGroup!==null}function bu(a){const t=zt(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ge(Pe.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Jf(l,i))})),n.has(Pe.keyField().canonicalString())||t.Ie.push(new Jf(Pe.keyField(),i))}return t.Ie}function _r(a){const t=zt(a);return t.Ee||(t.Ee=CI(t,bu(a))),t.Ee}function CI(a,t){if(a.limitType==="F")return yg(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new Jf(s.field,l)}));const n=a.endAt?new Qo(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new Qo(a.startAt.position,a.startAt.inclusive):null;return yg(a.path,a.collectionGroup,t,a.filters,a.limit,n,i)}}function vg(a,t,n){return new Ah(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function wh(a,t){return Yu(_r(a),_r(t))&&a.limitType===t.limitType}function XE(a){return`${bs(_r(a))}|lt:${a.limitType}`}function Ro(a){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>QE(s))).join(", ")}]`),yh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>Go(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>Go(s))).join(",")),`Target(${i})`})(_r(a))}; limitType=${a.limitType})`}function Ku(a,t){return t.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Et.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(a,t)&&(function(i,s){for(const l of bu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(a,t)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(a,t)&&(function(i,s){return!(i.startAt&&!(function(c,d,g){const p=x_(c,d,g);return c.inclusive?p<=0:p<0})(i.startAt,bu(i),s)||i.endAt&&!(function(c,d,g){const p=x_(c,d,g);return c.inclusive?p>=0:p>0})(i.endAt,bu(i),s))})(a,t)}function xI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function ZE(a){return(t,n)=>{let i=!1;for(const s of bu(a)){const l=VI(s,t,n);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function VI(a,t,n){const i=a.field.isKeyField()?Et.comparator(t.key,n.key):(function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?Sa(g,p):At(42886)})(a.field,t,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return At(19790,{direction:a.dir})}}class Ni{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return void(s[l]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,((n,i)=>{for(const[s,l]of i)t(s,l)}))}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}const MI=new Me(Et.comparator);function er(){return MI}const WE=new Me(Et.comparator);function du(...a){let t=WE;for(const n of a)t=t.insert(n.key,n);return t}function $E(a){let t=WE;return a.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function ii(){return Au()}function JE(){return Au()}function Au(){return new Ni((a=>a.toString()),((a,t)=>a.isEqual(t)))}const NI=new Me(Et.comparator),OI=new ge(Et.comparator);function Ht(...a){let t=OI;for(const n of a)t=t.add(n);return t}const PI=new ge(Ut);function UI(){return PI}function Yg(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(t)?"-0":t}}function tT(a){return{integerValue:""+a}}function zI(a,t){return kw(t)?tT(t):Yg(a,t)}class Ih{constructor(){this._=void 0}}function LI(a,t,n){return a instanceof Lu?(function(s,l){const c={fields:{[PE]:{stringValue:OE},[zE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Fg(l)&&(l=Th(l)),l&&(c.fields[UE]=l),{mapValue:c}})(n,t):a instanceof Ko?nT(a,t):a instanceof Xo?rT(a,t):(function(s,l){const c=eT(s,l),d=P_(c)+P_(s.Ae);return mg(c)&&mg(s.Ae)?tT(d):Yg(s.serializer,d)})(a,t)}function BI(a,t,n){return a instanceof Ko?nT(a,t):a instanceof Xo?rT(a,t):n}function eT(a,t){return a instanceof Bu?(function(i){return mg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Lu extends Ih{}class Ko extends Ih{constructor(t){super(),this.elements=t}}function nT(a,t){const n=iT(t);for(const i of a.elements)n.some((s=>oi(s,i)))||n.push(i);return{arrayValue:{values:n}}}class Xo extends Ih{constructor(t){super(),this.elements=t}}function rT(a,t){let n=iT(t);for(const i of a.elements)n=n.filter((s=>!oi(s,i)));return{arrayValue:{values:n}}}class Bu extends Ih{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function P_(a){return Ve(a.integerValue||a.doubleValue)}function iT(a){return zu(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class kI{constructor(t,n){this.field=t,this.transform=n}}function jI(a,t){return a.field.isEqual(t.field)&&(function(i,s){return i instanceof Ko&&s instanceof Ko||i instanceof Xo&&s instanceof Xo?Bo(i.elements,s.elements,oi):i instanceof Bu&&s instanceof Bu?oi(i.Ae,s.Ae):i instanceof Lu&&s instanceof Lu})(a.transform,t.transform)}class FI{constructor(t,n){this.version=t,this.transformResults=n}}class Nn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Nn}static exists(t){return new Nn(void 0,t)}static updateTime(t){return new Nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bf(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Rh{}function aT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Dh(a.key,Nn.none()):new tl(a.key,a.data,Nn.none());{const n=a.data,i=Hn.empty();let s=new ge(Pe.comparator);for(let l of t.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Da(a.key,i,new vr(s.toArray()),Nn.none())}}function qI(a,t,n){a instanceof tl?(function(s,l,c){const d=s.value.clone(),g=z_(s.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,t,n):a instanceof Da?(function(s,l,c){if(!Bf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=z_(s.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(sT(s)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(a,t,n):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Su(a,t,n,i){return a instanceof tl?(function(l,c,d,g){if(!Bf(l.precondition,c))return d;const p=l.value.clone(),y=L_(l.fieldTransforms,g,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(a,t,n,i):a instanceof Da?(function(l,c,d,g){if(!Bf(l.precondition,c))return d;const p=L_(l.fieldTransforms,g,c),y=c.data;return y.setAll(sT(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(a,t,n,i):(function(l,c,d){return Bf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,t,n)}function HI(a,t){let n=null;for(const i of a.fieldTransforms){const s=t.data.field(i.field),l=eT(i.transform,s||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(i.field,l))}return n||null}function U_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Bo(i,s,((l,c)=>jI(l,c)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class tl extends Rh{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Da extends Rh{constructor(t,n,i,s,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function sT(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=a.data.field(n);t.set(n,i)}})),t}function z_(a,t,n){const i=new Map;Dt(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let s=0;s<n.length;s++){const l=a[s],c=l.transform,d=t.data.field(l.field);i.set(l.field,BI(c,d,n[s]))}return i}function L_(a,t,n){const i=new Map;for(const s of a){const l=s.transform,c=n.data.field(s.field);i.set(s.field,LI(l,c,t))}return i}class Dh extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oT extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kg{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(t.key)&&qI(l,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Su(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Su(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=JE();return this.mutations.forEach((s=>{const l=t.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const g=aT(c,d);g!==null&&i.set(s.key,g),c.isValidDocument()||c.convertToNoDocument(Vt.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&Bo(this.mutations,t.mutations,((n,i)=>U_(n,i)))&&Bo(this.baseMutations,t.baseMutations,((n,i)=>U_(n,i)))}}class Xg{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Dt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=(function(){return NI})();const l=t.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Xg(t,n,i,s)}}class Zg{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class GI{constructor(t,n){this.count=t,this.unchangedNames=n}}var $e,$t;function QI(a){switch(a){case dt.OK:return At(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return At(15467,{code:a})}}function lT(a){if(a===void 0)return Mn("GRPC error has no .code"),dt.UNKNOWN;switch(a){case $e.OK:return dt.OK;case $e.CANCELLED:return dt.CANCELLED;case $e.UNKNOWN:return dt.UNKNOWN;case $e.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case $e.INTERNAL:return dt.INTERNAL;case $e.UNAVAILABLE:return dt.UNAVAILABLE;case $e.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case $e.NOT_FOUND:return dt.NOT_FOUND;case $e.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case $e.ABORTED:return dt.ABORTED;case $e.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case $e.DATA_LOSS:return dt.DATA_LOSS;default:return At(39323,{code:a})}}($t=$e||($e={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function YI(){return new TextEncoder}const KI=new _a([4294967295,4294967295],0);function B_(a){const t=YI().encode(a),n=new lE;return n.update(t),new Uint8Array(n.digest())}function k_(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new _a([n,i],0),new _a([s,l],0)]}class Wg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mu(`Invalid padding: ${n}`);if(i<0)throw new mu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=_a.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(_a.fromNumber(i)));return s.compare(KI)===1&&(s=new _a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=B_(t),[i,s]=k_(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);if(!this.we(c))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Wg(l,s,n);return i.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=B_(t),[i,s]=k_(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);this.be(c)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(t,n,i,s,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Xu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ch(Vt.min(),s,new Me(Ut),er(),Ht())}}class Xu{constructor(t,n,i,s,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Xu(i,n,Ht(),Ht(),Ht())}}class kf{constructor(t,n,i,s){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=s}}class uT{constructor(t,n){this.targetId=t,this.Ce=n}}class cT{constructor(t,n,i=tn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class j_{constructor(){this.ve=0,this.Fe=F_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),n=Ht(),i=Ht();return this.Fe.forEach(((s,l)=>{switch(l){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:At(38017,{changeType:l})}})),new Xu(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=F_()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Dt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XI{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.He=wf(),this.Je=wf(),this.Ze=new Me(Ut)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const l=s.target;if(th(l))if(i===0){const c=new Et(l.path);this.et(n,c,Le.newNoDocument(c,Vt.min()))}else Dt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(t),g=d?this.ct(d,t,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=Vi(i).toUint8Array()}catch(g){if(g instanceof NE)return Du("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Wg(c,s,l)}catch(g){return Du(g instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&th(d.target)){const g=new Et(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,Le.newNoDocument(g,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ht();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const s=new Ch(t,n,this.Ze,this.je,i);return this.je=er(),this.He=wf(),this.Je=wf(),this.Ze=new Me(Ut),s}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new j_,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new ge(Ut),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new ge(Ut),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new j_),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function wf(){return new Me(Et.comparator)}function F_(){return new Me(Et.comparator)}const ZI={asc:"ASCENDING",desc:"DESCENDING"},WI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"};class JI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _g(a,t){return a.useProto3Json||yh(t)?t:{value:t}}function Zo(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function tR(a,t){return Zo(a,t.toTimestamp())}function On(a){return Dt(!!a,49232),Vt.fromTimestamp((function(n){const i=xi(n);return new me(i.seconds,i.nanos)})(a))}function $g(a,t){return Eg(a,t).canonicalString()}function Eg(a,t){const n=(function(s){return new oe(["projects",s.projectId,"databases",s.database])})(a).child("documents");return t===void 0?n:n.child(t)}function hT(a){const t=oe.fromString(a);return Dt(TT(t),10190,{key:t.toString()}),t}function nh(a,t){return $g(a.databaseId,t.path)}function vs(a,t){const n=hT(t);if(n.get(1)!==a.databaseId.projectId)throw new Tt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new Tt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Et(gT(n))}function dT(a,t){return $g(a.databaseId,t)}function mT(a){const t=hT(a);return t.length===4?oe.emptyPath():gT(t)}function Tg(a){return new oe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function gT(a){return Dt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function q_(a,t,n){return{name:nh(a,t),fields:n.value.mapValue.fields}}function eR(a,t,n){const i=vs(a,t.name),s=On(t.updateTime),l=t.createTime?On(t.createTime):Vt.min(),c=new Hn({mapValue:{fields:t.fields}}),d=Le.newFoundDocument(i,s,l,c);return n&&d.setHasCommittedMutations(),n?d.setHasCommittedMutations():d}function nR(a,t){let n;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:At(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Dt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Dt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))})(a,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?dt.UNKNOWN:lT(p.code);return new Tt(y,p.message||"")})(c);n=new cT(i,s,l,d||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=vs(a,i.document.name),l=On(i.document.updateTime),c=i.document.createTime?On(i.document.createTime):Vt.min(),d=new Hn({mapValue:{fields:i.document.fields}}),g=Le.newFoundDocument(s,l,c,d),p=i.targetIds||[],y=i.removedTargetIds||[];n=new kf(p,y,g.key,g)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=vs(a,i.document),l=i.readTime?On(i.readTime):Vt.min(),c=Le.newNoDocument(s,l),d=i.removedTargetIds||[];n=new kf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=vs(a,i.document),l=i.removedTargetIds||[];n=new kf([],l,s,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new GI(s,l),d=i.targetId;n=new uT(d,c)}}return n}function rh(a,t){let n;if(t instanceof tl)n={update:q_(a,t.key,t.value)};else if(t instanceof Dh)n={delete:nh(a,t.key)};else if(t instanceof Da)n={update:q_(a,t.key,t.data),updateMask:lR(t.fieldMask)};else{if(!(t instanceof oT))return At(16599,{dt:t.type});n={verify:nh(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ko)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bu)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw At(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:tR(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:At(27497)})(a,t.precondition)),n}function bg(a,t){const n=t.currentDocument?(function(l){return l.updateTime!==void 0?Nn.updateTime(On(l.updateTime)):l.exists!==void 0?Nn.exists(l.exists):Nn.none()})(t.currentDocument):Nn.none(),i=t.updateTransforms?t.updateTransforms.map((s=>(function(c,d){let g=null;if("setToServerValue"in d)Dt(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),g=new Lu;else if("appendMissingElements"in d){const y=d.appendMissingElements.values||[];g=new Ko(y)}else if("removeAllFromArray"in d){const y=d.removeAllFromArray.values||[];g=new Xo(y)}else"increment"in d?g=new Bu(c,d.increment):At(16584,{proto:d});const p=Pe.fromServerFormat(d.fieldPath);return new kI(p,g)})(a,s))):[];if(t.update){t.update.name;const s=vs(a,t.update.name),l=new Hn({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new vr(p.map((y=>Pe.fromServerFormat(y))))})(t.updateMask);return new Da(s,l,c,n,i)}return new tl(s,l,n,i)}if(t.delete){const s=vs(a,t.delete);return new Dh(s,n)}if(t.verify){const s=vs(a,t.verify);return new oT(s,n)}return At(1463,{proto:t})}function rR(a,t){return a&&a.length>0?(Dt(t!==void 0,14353),a.map((n=>(function(s,l){let c=s.updateTime?On(s.updateTime):On(l);return c.isEqual(Vt.min())&&(c=On(l)),new FI(c,s.transformResults||[])})(n,t)))):[]}function pT(a,t){return{documents:[dT(a,t.path)]}}function yT(a,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=dT(a,s);const l=(function(p){if(p.length!==0)return ET(be.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Do(E.field),direction:aR(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=_g(a,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:s}}function vT(a){let t=mT(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Dt(i===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const E=_T(v);return E instanceof be&&Qg(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((E=>(function(M){return new Jf(Co(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let E;return E=typeof v=="object"?v.value:v,yh(E)?null:E})(n.limit));let g=null;n.startAt&&(g=(function(v){const E=!!v.before,w=v.values||[];return new Qo(w,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const E=!v.before,w=v.values||[];return new Qo(w,E)})(n.endAt)),II(t,s,c,l,d,"F",g,p)}function iR(a,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Co(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Co(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(n.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(n.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Wt.create(Co(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return be.create(n.compositeFilter.filters.map((i=>_T(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(n.compositeFilter.op))})(a):At(30097,{filter:a})}function aR(a){return ZI[a]}function sR(a){return WI[a]}function oR(a){return $I[a]}function Do(a){return{fieldPath:a.canonicalString()}}function Co(a){return Pe.fromServerFormat(a.fieldPath)}function ET(a){return a instanceof Wt?(function(n){if(n.op==="=="){if(R_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(I_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(I_(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:sR(n.op),value:n.value}}})(a):a instanceof be?(function(n){const i=n.getFilters().map((s=>ET(s)));return i.length===1?i[0]:{compositeFilter:{op:oR(n.op),filters:i}}})(a):At(54877,{filter:a})}function lR(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function TT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function bT(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Di{constructor(t,n,i,s,l=Vt.min(),c=Vt.min(),d=tn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new Di(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class AT{constructor(t){this.yt=t}}function uR(a,t){let n;if(t.document)n=eR(a.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Et.fromSegments(t.noDocument.path),s=Ss(t.noDocument.readTime);n=Le.newNoDocument(i,s),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return At(56709);{const i=Et.fromSegments(t.unknownDocument.path),s=Ss(t.unknownDocument.version);n=Le.newUnknownDocument(i,s)}}return t.readTime&&n.setReadTime((function(s){const l=new me(s[0],s[1]);return Vt.fromTimestamp(l)})(t.readTime)),n}function H_(a,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ih(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,c){return{name:nh(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Zo(l,c.version.toTimestamp()),createTime:Zo(l,c.createTime.toTimestamp())}})(a.yt,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:As(t.version)};else{if(!t.isUnknownDocument())return At(57904,{document:t});i.unknownDocument={path:n.path.toArray(),version:As(t.version)}}return i}function ih(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function As(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ss(a){const t=new me(a.seconds,a.nanoseconds);return Vt.fromTimestamp(t)}function us(a,t){const n=(t.baseMutations||[]).map((l=>bg(a.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>bg(a.yt,l))),s=me.fromMillis(t.localWriteTimeMs);return new Kg(t.batchId,s,n,i)}function gu(a){const t=Ss(a.readTime),n=a.lastLimboFreeSnapshotVersion!==void 0?Ss(a.lastLimboFreeSnapshotVersion):Vt.min();let i;return i=(function(l){return l.documents!==void 0})(a.query)?(function(l){const c=l.documents.length;return Dt(c===1,1966,{count:c}),_r(Sh(mT(l.documents[0])))})(a.query):(function(l){return _r(vT(l))})(a.query),new Di(i,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,n,tn.fromBase64String(a.resumeToken))}function ST(a,t){const n=As(t.snapshotVersion),i=As(t.lastLimboFreeSnapshotVersion);let s;s=th(t.target)?pT(a.yt,t.target):yT(a.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bs(t.target),readTime:n,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function wT(a){const t=vT({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?vg(t,t.limit,"L"):t}function Qm(a,t){return new Zg(t.largestBatchId,bg(a.yt,t.overlayMutation))}function G_(a,t){const n=t.path.lastSegment();return[a,Dn(t.path.popLast()),n]}function Q_(a,t,n,i){return{indexId:a,uid:t,sequenceNumber:n,readTime:As(i.readTime),documentKey:Dn(i.documentKey.path),largestBatchId:i.largestBatchId}}class cR{getBundleMetadata(t,n){return Y_(t).get(n).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:Ss(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,n){return Y_(t).put((function(s){return{bundleId:s.id,createTime:As(On(s.createTime)),version:s.version}})(n))}getNamedQuery(t,n){return K_(t).get(n).next((i=>{if(i)return(function(l){return{name:l.name,query:wT(l.bundledQuery),readTime:Ss(l.readTime)}})(i)}))}saveNamedQuery(t,n){return K_(t).put((function(s){return{name:s.name,readTime:As(On(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function Y_(a){return an(a,vh)}function K_(a){return an(a,_h)}class xh{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const i=n.uid||"";return new xh(t,i)}getOverlay(t,n){return au(t).get(G_(this.userId,n)).next((i=>i?Qm(this.serializer,i):null))}getOverlays(t,n){const i=ii();return $.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(t,n,i){const s=[];return i.forEach(((l,c)=>{const d=new Zg(n,c);s.push(this.bt(t,d))})),$.waitFor(s)}removeOverlaysForBatchId(t,n,i){const s=new Set;n.forEach((c=>s.add(Dn(c.getCollectionPath()))));const l=[];return s.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(au(t).X(fg,d))})),$.waitFor(l)}getOverlaysForCollection(t,n,i){const s=ii(),l=Dn(n),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return au(t).H(fg,c).next((d=>{for(const g of d){const p=Qm(this.serializer,g);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(t,n,i,s){const l=ii();let c;const d=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return au(t).ee({index:RE,range:d},((g,p,y)=>{const v=Qm(this.serializer,p);l.size()<s||v.largestBatchId===c?(l.set(v.getKey(),v),c=v.largestBatchId):y.done()})).next((()=>l))}bt(t,n){return au(t).put((function(s,l,c){const[d,g,p]=G_(l,c.mutation.key);return{userId:l,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:rh(s.yt,c.mutation)}})(this.serializer,this.userId,n))}}function au(a){return an(a,Eh)}class fR{St(t){return an(t,kg)}getSessionToken(t){return this.St(t).get("sessionToken").next((n=>{const i=n?.value;return i?tn.fromUint8Array(i):tn.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.St(t).put({name:"sessionToken",value:n.toUint8Array()})}}class cs{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(Ve(t.integerValue));else if("doubleValue"in t){const i=Ve(t.doubleValue);isNaN(i)?this.Ft(n,13):(this.Ft(n,15),Vu(i)?n.Mt(0):n.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(n,20),typeof i=="string"&&(i=xi(i)),n.xt(`${i.seconds||""}`),n.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(Vi(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(n,45),n.Mt(i.latitude||0),n.Mt(i.longitude||0)}else"mapValue"in t?BE(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):bh(t)?this.kt(t.mapValue,n):(this.Kt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.qt(t.arrayValue,n),this.Nt(n)):At(19022,{Ut:t})}Ot(t,n){this.Ft(n,25),this.$t(t,n)}$t(t,n){n.xt(t)}Kt(t,n){const i=t.fields||{};this.Ft(n,55);for(const s of Object.keys(i))this.Ot(s,n),this.Ct(i[s],n)}kt(t,n){const i=t.fields||{};this.Ft(n,53);const s=Ho,l=i[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ve(l)),this.Ot(s,n),this.Ct(i[s],n)}qt(t,n){const i=t.values||[];this.Ft(n,50);for(const s of i)this.Ct(s,n)}Lt(t,n){this.Ft(n,37),Et.fromName(t).path.forEach((i=>{this.Ft(n,60),this.$t(i,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}cs.Wt=new cs;const To=255;function hR(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function X_(a){const t=64-(function(i){let s=0;for(let l=0;l<8;++l){const c=hR(255&i[l]);if(s+=c,c!==8)break}return s})(a);return Math.ceil(t/8)}class dR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const n=t[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Gt(i.value),i=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ht(i.value),i=n.next();this.Jt()}Zt(t){for(const n of t){const i=n.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(t){for(const n of t){const i=n.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const s=n.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(t){const n=this.en(t),i=X_(n);this.tn(1+i),this.buffer[this.position++]=255&i;for(let s=n.length-i;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(t){const n=this.en(t),i=X_(n);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let s=n.length-i;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(To),this.sn(255)}_n(){this.an(To),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(t),i=!!(128&n[0]);n[0]^=i?255:128;for(let s=1;s<n.length;++s)n[s]^=i?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===To?(this.sn(To),this.sn(0)):this.sn(n)}Ht(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===To?(this.an(To),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class mR{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class gR{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class su{constructor(){this.cn=new dR,this.ascending=new mR(this.cn),this.descending=new gR(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class fs{constructor(t,n,i,s){this.hn=t,this.Pn=n,this.Tn=i,this.In=s}En(){const t=this.In.length,n=t===0||this.In[t-1]===255?t+1:t,i=new Uint8Array(n);return i.set(this.In,0),n!==t?i.set([0],this.In.length):++i[i.length-1],new fs(this.hn,this.Pn,this.Tn,i)}Rn(t,n,i){return{indexId:this.hn,uid:t,arrayValue:jf(this.Tn),directionalValue:jf(this.In),orderedDocumentKey:jf(n),documentKey:i.path.toArray()}}An(t,n,i){const s=this.Rn(t,n,i);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function fa(a,t){let n=a.hn-t.hn;return n!==0?n:(n=Z_(a.Tn,t.Tn),n!==0?n:(n=Z_(a.In,t.In),n!==0?n:Et.comparator(a.Pn,t.Pn)))}function Z_(a,t){for(let n=0;n<a.length&&n<t.length;++n){const i=a[n]-t[n];if(i!==0)return i}return a.length-t.length}function jf(a){return tE()?(function(n){let i="";for(let s=0;s<n.length;s++)i+=String.fromCharCode(n[s]);return i})(a):a}function W_(a){return typeof a!="string"?a:(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(a)}class $_{constructor(t){this.Vn=new ge(((n,i)=>Pe.comparator(n.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const n of t.filters){const i=n;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(t){if(Dt(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=lg(t);if(n!==void 0&&!this.pn(n))return!1;const i=as(t);let s=new Set,l=0,c=0;for(;l<i.length&&this.pn(i[l]);++l)s=s.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!s.has(d.field.canonicalString())){const g=i[l];if(!this.yn(d,g)||!this.wn(this.dn[c++],g))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let t=new ge(Pe.comparator);const n=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new Nf(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Nf(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),n.push(new Nf(i.field,i.dir==="asc"?0:1)));return new Kf(Kf.UNKNOWN_ID,this.collectionId,n,xu.empty())}pn(t){for(const n of this.mn)if(this.yn(n,t))return!0;return!1}yn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===i}wn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}function IT(a){if(Dt(a instanceof Wt||a instanceof be,20012),a instanceof Wt){if(a instanceof KE){const n=a.value.arrayValue?.values?.map((i=>Wt.create(a.field,"==",i)))||[];return be.create(n,"or")}return a}const t=a.filters.map((n=>IT(n)));return be.create(t,a.op)}function pR(a){if(a.getFilters().length===0)return[];const t=wg(IT(a));return Dt(RT(t),7391),Ag(t)||Sg(t)?[t]:t.getFilters()}function Ag(a){return a instanceof Wt}function Sg(a){return a instanceof be&&Qg(a)}function RT(a){return Ag(a)||Sg(a)||(function(n){if(n instanceof be&&gg(n)){for(const i of n.getFilters())if(!Ag(i)&&!Sg(i))return!1;return!0}return!1})(a)}function wg(a){if(Dt(a instanceof Wt||a instanceof be,34018),a instanceof Wt)return a;if(a.filters.length===1)return wg(a.filters[0]);const t=a.filters.map((i=>wg(i)));let n=be.create(t,a.op);return n=ah(n),RT(n)?n:(Dt(n instanceof be,64498),Dt(Yo(n),40251),Dt(n.filters.length>1,57927),n.filters.reduce(((i,s)=>Jg(i,s))))}function Jg(a,t){let n;return Dt(a instanceof Wt||a instanceof be,38388),Dt(t instanceof Wt||t instanceof be,25473),n=a instanceof Wt?t instanceof Wt?(function(s,l){return be.create([s,l],"and")})(a,t):J_(a,t):t instanceof Wt?J_(t,a):(function(s,l){if(Dt(s.filters.length>0&&l.filters.length>0,48005),Yo(s)&&Yo(l))return GE(s,l.getFilters());const c=gg(s)?s:l,d=gg(s)?l:s,g=c.filters.map((p=>Jg(p,d)));return be.create(g,"or")})(a,t),ah(n)}function J_(a,t){if(Yo(t))return GE(t,a.getFilters());{const n=t.filters.map((i=>Jg(a,i)));return be.create(n,"or")}}function ah(a){if(Dt(a instanceof Wt||a instanceof be,11850),a instanceof Wt)return a;const t=a.getFilters();if(t.length===1)return ah(t[0]);if(qE(a))return a;const n=t.map((s=>ah(s))),i=[];return n.forEach((s=>{s instanceof Wt?i.push(s):s instanceof be&&(s.op===a.op?i.push(...s.filters):i.push(s))})),i.length===1?i[0]:be.create(i,a.op)}class yR{constructor(){this.Sn=new tp}addToCollectionParentIndex(t,n){return this.Sn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(nr.min())}updateCollectionGroup(t,n,i){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class tp{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new ge(oe.comparator),l=!s.has(i);return this.index[n]=s.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ge(oe.comparator)).toArray()}}const t1="IndexedDbIndexManager",If=new Uint8Array(0);class vR{constructor(t,n){this.databaseId=n,this.Dn=new tp,this.Cn=new Ni((i=>bs(i)),((i,s)=>Yu(i,s))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.Dn.has(n)){const i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener((()=>{this.Dn.add(n)}));const l={collectionId:i,parent:Dn(s)};return e1(t).put(l)}return $.resolve()}getCollectionParents(t,n){const i=[],s=IDBKeyRange.bound([n,""],[gE(n),""],!1,!0);return e1(t).H(s).next((l=>{for(const c of l){if(c.collectionId!==n)break;i.push(ri(c.parent))}return i}))}addFieldIndex(t,n){const i=ou(t),s=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete s.indexId;const l=i.add(s);if(n.indexState){const c=Ao(t);return l.next((d=>{c.put(Q_(d,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return l.next()}deleteFieldIndex(t,n){const i=ou(t),s=Ao(t),l=bo(t);return i.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=ou(t),i=bo(t),s=Ao(t);return n.X().next((()=>i.X())).next((()=>s.X()))}createTargetIndexes(t,n){return $.forEach(this.vn(n),(i=>this.getIndexType(t,i).next((s=>{if(s===0||s===1){const l=new $_(i).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,n){const i=bo(t);let s=!0;const l=new Map;return $.forEach(this.vn(n),(c=>this.Fn(t,c).next((d=>{s&&(s=!!d),l.set(c,d)})))).next((()=>{if(s){let c=Ht();const d=[];return $.forEach(l,((g,p)=>{mt(t1,`Using index ${(function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map((Y=>`${Y.fieldPath}:${Y.kind}`)).join(",")}`})(g)} to execute ${bs(n)}`);const y=(function(Q,Y){const at=lg(Y);if(at===void 0)return null;for(const B of eh(Q,at.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null})(p,g),v=(function(Q,Y){const at=new Map;for(const B of as(Y))for(const V of eh(Q,B.fieldPath))switch(V.op){case"==":case"in":at.set(B.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return at.set(B.fieldPath.canonicalString(),V.value),Array.from(at.values())}return null})(p,g),E=(function(Q,Y){const at=[];let B=!0;for(const V of as(Y)){const T=V.kind===0?M_(Q,V.fieldPath,Q.startAt):N_(Q,V.fieldPath,Q.startAt);at.push(T.value),B&&(B=T.inclusive)}return new Qo(at,B)})(p,g),w=(function(Q,Y){const at=[];let B=!0;for(const V of as(Y)){const T=V.kind===0?N_(Q,V.fieldPath,Q.endAt):M_(Q,V.fieldPath,Q.endAt);at.push(T.value),B&&(B=T.inclusive)}return new Qo(at,B)})(p,g),M=this.Mn(g,p,E),z=this.Mn(g,p,w),k=this.xn(g,p,v),L=this.On(g.indexId,y,M,E.inclusive,z,w.inclusive,k);return $.forEach(L,(nt=>i.Z(nt,n.limit).next((Q=>{Q.forEach((Y=>{const at=Et.fromSegments(Y.documentKey);c.has(at)||(c=c.add(at),d.push(at))}))}))))})).next((()=>d))}return $.resolve(null)}))}vn(t){let n=this.Cn.get(t);return n||(t.filters.length===0?n=[t]:n=pR(be.create(t.filters,"and")).map((i=>yg(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,n),n)}On(t,n,i,s,l,c,d){const g=(n!=null?n.length:1)*Math.max(i.length,l.length),p=g/(n!=null?n.length:1),y=[];for(let v=0;v<g;++v){const E=n?this.Nn(n[v/p]):If,w=this.Bn(t,E,i[v%p],s),M=this.Ln(t,E,l[v%p],c),z=d.map((k=>this.Bn(t,E,k,!0)));y.push(...this.createRange(w,M,z))}return y}Bn(t,n,i,s){const l=new fs(t,Et.empty(),n,i);return s?l:l.En()}Ln(t,n,i,s){const l=new fs(t,Et.empty(),n,i);return s?l.En():l}Fn(t,n){const i=new $_(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,s).next((l=>{let c=null;for(const d of l)i.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(t,n){let i=2;const s=this.vn(n);return $.forEach(s,(l=>this.Fn(t,l).next((c=>{c?i!==0&&c.fields.length<(function(g){let p=new ge(Pe.comparator),y=!1;for(const v of g.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of g.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(n)&&s.length>1&&i===2?1:i))}kn(t,n){const i=new su;for(const s of as(t)){const l=n.data.field(s.fieldPath);if(l==null)return null;const c=i.ln(s.kind);cs.Wt.Dt(l,c)}return i.un()}Nn(t){const n=new su;return cs.Wt.Dt(t,n.ln(0)),n.un()}Kn(t,n){const i=new su;return cs.Wt.Dt(Gg(this.databaseId,n),i.ln((function(l){const c=as(l);return c.length===0?0:c[c.length-1].kind})(t))),i.un()}xn(t,n,i){if(i===null)return[];let s=[];s.push(new su);let l=0;for(const c of as(t)){const d=i[l++];for(const g of s)if(this.qn(n,c.fieldPath)&&zu(d))s=this.Un(s,c,d);else{const p=g.ln(c.kind);cs.Wt.Dt(d,p)}}return this.$n(s)}Mn(t,n,i){return this.xn(t,n,i.position)}$n(t){const n=[];for(let i=0;i<t.length;++i)n[i]=t[i].un();return n}Un(t,n,i){const s=[...t],l=[];for(const c of i.arrayValue.values||[])for(const d of s){const g=new su;g.seed(d.un()),cs.Wt.Dt(c,g.ln(n.kind)),l.push(g)}return l}qn(t,n){return!!t.filters.find((i=>i instanceof Wt&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,n){const i=ou(t),s=Ao(t);return(n?i.H(cg,IDBKeyRange.bound(n,n)):i.H()).next((l=>{const c=[];return $.forEach(l,(d=>s.get([d.indexId,this.uid]).next((g=>{c.push((function(y,v){const E=v?new xu(v.sequenceNumber,new nr(Ss(v.readTime),new Et(ri(v.documentKey)),v.largestBatchId)):xu.empty(),w=y.fields.map((([M,z])=>new Nf(Pe.fromServerFormat(M),z)));return new Kf(y.indexId,y.collectionGroup,w,E)})(d,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((i,s)=>{const l=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return l!==0?l:Ut(i.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,i){const s=ou(t),l=Ao(t);return this.Wn(t).next((c=>s.H(cg,IDBKeyRange.bound(n,n)).next((d=>$.forEach(d,(g=>l.put(Q_(g.indexId,this.uid,c,i))))))))}updateIndexEntries(t,n){const i=new Map;return $.forEach(n,((s,l)=>{const c=i.get(s.collectionGroup);return(c?$.resolve(c):this.getFieldIndexes(t,s.collectionGroup)).next((d=>(i.set(s.collectionGroup,d),$.forEach(d,(g=>this.Qn(t,s,g).next((p=>{const y=this.Gn(l,g);return p.isEqual(y)?$.resolve():this.zn(t,l,g,p,y)})))))))}))}jn(t,n,i,s){return bo(t).put(s.Rn(this.uid,this.Kn(i,n.key),n.key))}Hn(t,n,i,s){return bo(t).delete(s.An(this.uid,this.Kn(i,n.key),n.key))}Qn(t,n,i){const s=bo(t);let l=new ge(fa);return s.ee({index:IE,range:IDBKeyRange.only([i.indexId,this.uid,jf(this.Kn(i,n))])},((c,d)=>{l=l.add(new fs(i.indexId,n,W_(d.arrayValue),W_(d.directionalValue)))})).next((()=>l))}Gn(t,n){let i=new ge(fa);const s=this.kn(n,t);if(s==null)return i;const l=lg(n);if(l!=null){const c=t.data.field(l.fieldPath);if(zu(c))for(const d of c.arrayValue.values||[])i=i.add(new fs(n.indexId,t.key,this.Nn(d),s))}else i=i.add(new fs(n.indexId,t.key,If,s));return i}zn(t,n,i,s,l){mt(t1,"Updating index entries for document '%s'",n.key);const c=[];return(function(g,p,y,v,E){const w=g.getIterator(),M=p.getIterator();let z=Eo(w),k=Eo(M);for(;z||k;){let L=!1,nt=!1;if(z&&k){const Q=y(z,k);Q<0?nt=!0:Q>0&&(L=!0)}else z!=null?nt=!0:L=!0;L?(v(k),k=Eo(M)):nt?(E(z),z=Eo(w)):(z=Eo(w),k=Eo(M))}})(s,l,fa,(d=>{c.push(this.jn(t,n,i,d))}),(d=>{c.push(this.Hn(t,n,i,d))})),$.waitFor(c)}Wn(t){let n=1;return Ao(t).ee({index:wE,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,s,l)=>{l.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(t,n,i){i=i.sort(((c,d)=>fa(c,d))).filter(((c,d,g)=>!d||fa(c,g[d-1])!==0));const s=[];s.push(t);for(const c of i){const d=fa(c,t),g=fa(c,n);if(d===0)s[0]=t.En();else if(d>0&&g<0)s.push(c),s.push(c.En());else if(g>0)break}s.push(n);const l=[];for(let c=0;c<s.length;c+=2){if(this.Jn(s[c],s[c+1]))return[];const d=s[c].An(this.uid,If,Et.empty()),g=s[c+1].An(this.uid,If,Et.empty());l.push(IDBKeyRange.bound(d,g))}return l}Jn(t,n){return fa(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(n1)}getMinOffset(t,n){return $.mapArray(this.vn(n),(i=>this.Fn(t,i).next((s=>s||At(44426))))).next(n1)}}function e1(a){return an(a,Ou)}function bo(a){return an(a,Eu)}function ou(a){return an(a,Bg)}function Ao(a){return an(a,_u)}function n1(a){Dt(a.length!==0,28825);let t=a[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<a.length;i++){const s=a[i].indexState.offset;Ug(s,t)<0&&(t=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new nr(t.readTime,t.documentKey,n)}const r1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class Rn{static withCacheSize(t){return new Rn(t,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}function CT(a,t,n){const i=a.store(Mr),s=a.store(ko),l=[],c=IDBKeyRange.only(n.batchId);let d=0;const g=i.ee({range:c},((y,v,E)=>(d++,E.delete())));l.push(g.next((()=>{Dt(d===1,47070,{batchId:n.batchId})})));const p=[];for(const y of n.mutations){const v=bE(t,y.key.path,n.batchId);l.push(s.delete(v)),p.push(y.key)}return $.waitFor(l).next((()=>p))}function sh(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw At(14731);t=a.noDocument}return JSON.stringify(t).length}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(DT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Vh{constructor(t,n,i,s){this.userId=t,this.serializer=n,this.indexManager=i,this.referenceDelegate=s,this.Zn={}}static wt(t,n,i,s){Dt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Vh(l,n,i,s)}checkEmpty(t){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ha(t).ee({index:ds,range:i},((s,l,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(t,n,i,s){const l=xo(t),c=ha(t);return c.add({}).next((d=>{Dt(typeof d=="number",49019);const g=new Kg(d,n,i,s),p=(function(w,M,z){const k=z.baseMutations.map((nt=>rh(w.yt,nt))),L=z.mutations.map((nt=>rh(w.yt,nt)));return{userId:M,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:k,mutations:L}})(this.serializer,this.userId,g),y=[];let v=new ge(((E,w)=>Ut(E.canonicalString(),w.canonicalString())));for(const E of s){const w=bE(this.userId,E.key.path,d);v=v.add(E.key.path.popLast()),y.push(c.put(p)),y.push(l.put(w,qw))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[d]=g.keys()})),$.waitFor(y).next((()=>g))}))}lookupMutationBatch(t,n){return ha(t).get(n).next((i=>i?(Dt(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:n}),us(this.serializer,i)):null))}Xn(t,n){return this.Zn[n]?$.resolve(this.Zn[n]):this.lookupMutationBatch(t,n).next((i=>{if(i){const s=i.keys();return this.Zn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return ha(t).ee({index:ds,range:s},((c,d,g)=>{d.userId===this.userId&&(Dt(d.batchId>=i,47524,{Yn:i}),l=us(this.serializer,d)),g.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=ps;return ha(t).ee({index:ds,range:n,reverse:!0},((s,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,ps],[this.userId,Number.POSITIVE_INFINITY]);return ha(t).H(ds,n).next((i=>i.map((s=>us(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const i=Of(this.userId,n.path),s=IDBKeyRange.lowerBound(i),l=[];return xo(t).ee({range:s},((c,d,g)=>{const[p,y,v]=c,E=ri(y);if(p===this.userId&&n.path.isEqual(E))return ha(t).get(v).next((w=>{if(!w)throw At(61480,{er:c,batchId:v});Dt(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:v}),l.push(us(this.serializer,w))}));g.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ge(Ut);const s=[];return n.forEach((l=>{const c=Of(this.userId,l.path),d=IDBKeyRange.lowerBound(c),g=xo(t).ee({range:d},((p,y,v)=>{const[E,w,M]=p,z=ri(w);E===this.userId&&l.path.isEqual(z)?i=i.add(M):v.done()}));s.push(g)})),$.waitFor(s).next((()=>this.tr(t,i)))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1,l=Of(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new ge(Ut);return xo(t).ee({range:c},((g,p,y)=>{const[v,E,w]=g,M=ri(E);v===this.userId&&i.isPrefixOf(M)?M.length===s&&(d=d.add(w)):y.done()})).next((()=>this.tr(t,d)))}tr(t,n){const i=[],s=[];return n.forEach((l=>{s.push(ha(t).get(l).next((c=>{if(c===null)throw At(35274,{batchId:l});Dt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(us(this.serializer,c))})))})),$.waitFor(s).next((()=>i))}removeMutationBatch(t,n){return CT(t.le,this.userId,n).next((i=>(t.addOnCommittedListener((()=>{this.nr(n.batchId)})),$.forEach(i,(s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return $.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),s=[];return xo(t).ee({range:i},((l,c,d)=>{if(l[0]===this.userId){const g=ri(l[1]);s.push(g)}else d.done()})).next((()=>{Dt(s.length===0,56720,{rr:s.map((l=>l.canonicalString()))})}))}))}containsKey(t,n){return xT(t,this.userId,n)}ir(t){return VT(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ps,lastStreamToken:""}))}}function xT(a,t,n){const i=Of(t,n.path),s=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return xo(a).ee({range:l,Y:!0},((d,g,p)=>{const[y,v,E]=d;y===t&&v===s&&(c=!0),p.done()})).next((()=>c))}function ha(a){return an(a,Mr)}function xo(a){return an(a,ko)}function VT(a){return an(a,Mu)}class ws{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ws(0)}static ar(){return new ws(-1)}}class _R{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.ur(t).next((n=>{const i=new ws(n.highestTargetId);return n.highestTargetId=i.next(),this.cr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((n=>Vt.fromTimestamp(new me(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,i){return this.ur(t).next((s=>(s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.cr(t,s))))}addTargetData(t,n){return this.lr(t,n).next((()=>this.ur(t).next((i=>(i.targetCount+=1,this.hr(n,i),this.cr(t,i))))))}updateTargetData(t,n){return this.lr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>So(t).delete(n.targetId))).next((()=>this.ur(t))).next((i=>(Dt(i.targetCount>0,8065),i.targetCount-=1,this.cr(t,i))))}removeTargets(t,n,i){let s=0;const l=[];return So(t).ee(((c,d)=>{const g=gu(d);g.sequenceNumber<=n&&i.get(g.targetId)===null&&(s++,l.push(this.removeTargetData(t,g)))})).next((()=>$.waitFor(l))).next((()=>s))}forEachTarget(t,n){return So(t).ee(((i,s)=>{const l=gu(s);n(l)}))}ur(t){return i1(t).get(Wf).next((n=>(Dt(n!==null,2888),n)))}cr(t,n){return i1(t).put(Wf,n)}lr(t,n){return So(t).put(ST(this.serializer,n))}hr(t,n){let i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.ur(t).next((n=>n.targetCount))}getTargetData(t,n){const i=bs(n),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return So(t).ee({range:s,index:SE},((c,d,g)=>{const p=gu(d);Yu(n,p.target)&&(l=p,g.done())})).next((()=>l))}addMatchingKeys(t,n,i){const s=[],l=ga(t);return n.forEach((c=>{const d=Dn(c.path);s.push(l.put({targetId:i,path:d})),s.push(this.referenceDelegate.addReference(t,i,c))})),$.waitFor(s)}removeMatchingKeys(t,n,i){const s=ga(t);return $.forEach(n,(l=>{const c=Dn(l.path);return $.waitFor([s.delete([i,c]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,n){const i=ga(t),s=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),s=ga(t);let l=Ht();return s.ee({range:i,Y:!0},((c,d,g)=>{const p=ri(c[1]),y=new Et(p);l=l.add(y)})).next((()=>l))}containsKey(t,n){const i=Dn(n.path),s=IDBKeyRange.bound([i],[gE(i)],!1,!0);let l=0;return ga(t).ee({index:Lg,Y:!0,range:s},(([c,d],g,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(t,n){return So(t).get(n).next((i=>i?gu(i):null))}}function So(a){return an(a,jo)}function i1(a){return an(a,ys)}function ga(a){return an(a,Fo)}const a1="LruGarbageCollector",MT=1048576;function s1([a,t],[n,i]){const s=Ut(a,n);return s===0?Ut(t,i):s}class ER{constructor(t){this.Pr=t,this.buffer=new ge(s1),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();s1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NT{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(a1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ra(n)?mt(a1,"Ignoring IndexedDB error during garbage collection: ",n):await Rs(n)}await this.Ar(3e5)}))}}class TR{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(yr.ce);const i=new ER(n);return this.Vr.forEachTarget(t,(s=>i.Er(s.sequenceNumber))).next((()=>this.Vr.mr(t,(s=>i.Er(s))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(r1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r1):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,s,l,c,d,g,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(t,s)))).next((v=>(i=v,d=Date.now(),this.removeTargets(t,i,n)))).next((v=>(l=v,g=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),Io()<=Jt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${v} documents in `+(p-g)+`ms
Total Duration: ${p-y}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:v}))))}}function OT(a,t){return new TR(a,t)}class bR{constructor(t,n){this.db=t,this.garbageCollector=OT(this,n)}dr(t){const n=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>n.next((s=>i+s))))}pr(t){let n=0;return this.mr(t,(i=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}mr(t,n){return this.yr(t,((i,s)=>n(s)))}addReference(t,n,i){return Rf(t,i)}removeReference(t,n,i){return Rf(t,i)}removeTargets(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)}markPotentiallyOrphaned(t,n){return Rf(t,n)}wr(t,n){return(function(s,l){let c=!1;return VT(s).te((d=>xT(s,d,l).next((g=>(g&&(c=!0),$.resolve(!g)))))).next((()=>c))})(t,n)}removeOrphanedDocuments(t,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.yr(t,((c,d)=>{if(d<=n){const g=this.wr(t,c).next((p=>{if(!p)return l++,i.getEntry(t,c).next((()=>(i.removeEntry(c,Vt.min()),ga(t).delete((function(v){return[0,Dn(v.path)]})(c)))))}));s.push(g)}})).next((()=>$.waitFor(s))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,n){return Rf(t,n)}yr(t,n){const i=ga(t);let s,l=yr.ce;return i.ee({index:Lg},(([c,d],{path:g,sequenceNumber:p})=>{c===0?(l!==yr.ce&&n(new Et(ri(s)),l),l=p,s=g):l=yr.ce})).next((()=>{l!==yr.ce&&n(new Et(ri(s)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Rf(a,t){return ga(a).put((function(i,s){return{targetId:0,path:Dn(i.path),sequenceNumber:s}})(t,a.currentSequenceNumber))}class PT{constructor(){this.changes=new Ni((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Le.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?$.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AR{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,i){return rs(t).put(i)}removeEntry(t,n,i){return rs(t).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],ih(c),d[d.length-1]]})(n,i))}updateMetadata(t,n){return this.getMetadata(t).next((i=>(i.byteSize+=n,this.br(t,i))))}getEntry(t,n){let i=Le.newInvalidDocument(n);return rs(t).ee({index:Pf,range:IDBKeyRange.only(lu(n))},((s,l)=>{i=this.Sr(n,l)})).next((()=>i))}Dr(t,n){let i={size:0,document:Le.newInvalidDocument(n)};return rs(t).ee({index:Pf,range:IDBKeyRange.only(lu(n))},((s,l)=>{i={document:this.Sr(n,l),size:sh(l)}})).next((()=>i))}getEntries(t,n){let i=er();return this.Cr(t,n,((s,l)=>{const c=this.Sr(s,l);i=i.insert(s,c)})).next((()=>i))}vr(t,n){let i=er(),s=new Me(Et.comparator);return this.Cr(t,n,((l,c)=>{const d=this.Sr(l,c);i=i.insert(l,d),s=s.insert(l,sh(c))})).next((()=>({documents:i,Fr:s})))}Cr(t,n,i){if(n.isEmpty())return $.resolve();let s=new ge(u1);n.forEach((g=>s=s.add(g)));const l=IDBKeyRange.bound(lu(s.first()),lu(s.last())),c=s.getIterator();let d=c.getNext();return rs(t).ee({index:Pf,range:l},((g,p,y)=>{const v=Et.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&u1(d,v)<0;)i(d,null),d=c.getNext();d&&d.isEqual(v)&&(i(d,p),d=c.hasNext()?c.getNext():null),d?y.j(lu(d)):y.done()})).next((()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,n,i,s,l){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),ih(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rs(t).H(IDBKeyRange.bound(d,g,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=er();for(const v of p){const E=this.Sr(Et.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Ku(n,E)||s.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,n,i,s){let l=er();const c=l1(n,i),d=l1(n,nr.max());return rs(t).ee({index:AE,range:IDBKeyRange.bound(c,d,!0)},((g,p,y)=>{const v=this.Sr(Et.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===s&&y.done()})).next((()=>l))}newChangeBuffer(t){return new SR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return o1(t).get(ug).next((n=>(Dt(!!n,20021),n)))}br(t,n){return o1(t).put(ug,n)}Sr(t,n){if(n){const i=uR(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(Vt.min())))return i}return Le.newInvalidDocument(t)}}function UT(a){return new AR(a)}class SR extends PT{constructor(t,n){super(),this.Mr=t,this.trackRemovals=n,this.Or=new Ni((i=>i.toString()),((i,s)=>i.isEqual(s)))}applyChanges(t){const n=[];let i=0,s=new ge(((l,c)=>Ut(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Or.get(l);if(n.push(this.Mr.removeEntry(t,l,d.readTime)),c.isValidDocument()){const g=H_(this.Mr.serializer,c);s=s.add(l.path.popLast());const p=sh(g);i+=p-d.size,n.push(this.Mr.addEntry(t,l,g))}else if(i-=d.size,this.trackRemovals){const g=H_(this.Mr.serializer,c.convertToNoDocument(Vt.min()));n.push(this.Mr.addEntry(t,l,g))}})),s.forEach((l=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),n.push(this.Mr.updateMetadata(t,i)),$.waitFor(n)}getFromCache(t,n){return this.Mr.Dr(t,n).next((i=>(this.Or.set(n,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,n){return this.Mr.vr(t,n).next((({documents:i,Fr:s})=>(s.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function o1(a){return an(a,Nu)}function rs(a){return an(a,Zf)}function lu(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function l1(a,t){const n=t.documentKey.path.toArray();return[a,ih(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function u1(a,t){const n=a.path.toArray(),i=t.path.toArray();let s=0;for(let l=0;l<n.length-2&&l<i.length-2;++l)if(s=Ut(n[l],i[l]),s)return s;return s=Ut(n.length,i.length),s||(s=Ut(n[n.length-2],i[i.length-2]),s||Ut(n[n.length-1],i[i.length-1]))}class wR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class zT{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(i!==null&&Su(i.mutation,s,vr.empty(),me.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,Ht()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=Ht()){const s=ii();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,i).next((l=>{let c=du();return l.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const i=ii();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,Ht())))}populateOverlays(t,n,i){const s=[];return i.forEach((l=>{n.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(t,s).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,i,s){let l=er();const c=Au(),d=(function(){return Au()})();return n.forEach(((g,p)=>{const y=i.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Da)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Su(y.mutation,p,y.mutation.getFieldMask(),me.now())):c.set(p.key,vr.empty())})),this.recalculateAndSaveOverlays(t,l).next((g=>(g.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new wR(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const i=Au();let s=new Me(((c,d)=>c-d)),l=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let y=i.get(g)||vr.empty();y=d.applyToLocalView(p,y),i.set(g,y);const v=(s.get(d.batchId)||Ht()).add(g);s=s.insert(d.batchId,v)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,y=g.value,v=JE();y.forEach((E=>{if(!l.has(E)){const w=aT(n.get(E),i.get(E));w!==null&&v.set(E,w),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,v))}return $.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,s){return RI(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):DI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-l.size):$.resolve(ii());let d=Cu,g=l;return c.next((p=>$.forEach(p,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(y)?$.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{g=g.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,g,p,Ht()))).next((y=>({batchId:d,changes:$E(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next((i=>{let s=du();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const l=n.collectionGroup;let c=du();return this.indexManager.getCollectionParents(t,l).next((d=>$.forEach(d,(g=>{const p=(function(v,E){return new Ah(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,s).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,s)))).next((c=>{l.forEach(((g,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Le.newInvalidDocument(y)))}));let d=du();return c.forEach(((g,p)=>{const y=l.get(g);y!==void 0&&Su(y.mutation,p,vr.empty(),me.now()),Ku(n,p)&&(d=d.insert(g,p))})),d}))}}class IR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:On(s.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:wT(s.bundledQuery),readTime:On(s.readTime)}})(n)),$.resolve()}}class RR{constructor(){this.overlays=new Me(Et.comparator),this.Lr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ii();return $.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((s,l)=>{this.bt(t,n,l)})),$.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),$.resolve()}getOverlaysForCollection(t,n,i){const s=ii(),l=n.length+1,c=new Et(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>i&&s.set(g.getKey(),g)}return $.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let l=new Me(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=ii(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ii(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=s)););return $.resolve(d)}bt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Zg(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ht(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class DR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class ep{constructor(){this.kr=new ge(cn.Kr),this.qr=new ge(cn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new cn(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Wr(new cn(t,n))}Qr(t,n){t.forEach((i=>this.removeReference(i,n)))}Gr(t){const n=new Et(new oe([])),i=new cn(n,t),s=new cn(n,t+1),l=[];return this.qr.forEachInRange([i,s],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Et(new oe([])),i=new cn(n,t),s=new cn(n,t+1);let l=Ht();return this.qr.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new cn(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class cn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Et.comparator(t.key,n.key)||Ut(t.Hr,n.Hr)}static Ur(t,n){return Ut(t.Hr,n.Hr)||Et.comparator(t.key,n.key)}}class CR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ge(cn.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Kg(l,n,i,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new cn(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return $.resolve(c)}lookupMutationBatch(t,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Xr(i),l=s<0?0:s;return $.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ps:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new cn(n,0),s=new cn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,s],(c=>{const d=this.Zr(c.Hr);l.push(d)})),$.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ge(Ut);return n.forEach((s=>{const l=new cn(s,0),c=new cn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),$.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let l=i;Et.isDocumentKey(l)||(l=l.child(""));const c=new cn(new Et(l),0);let d=new ge(Ut);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(d=d.add(g.Hr)),!0)}),c),$.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((i=>{const s=this.Zr(i);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){Dt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return $.forEach(n.mutations,(s=>{const l=new cn(s.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,n){const i=new cn(n,0),s=this.Jr.firstAfterOrEqual(i);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xR{constructor(t){this.ti=t,this.docs=(function(){return new Me(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),l=s?s.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return $.resolve(i?i.document.mutableCopy():Le.newInvalidDocument(n))}getEntries(t,n){let i=er();return n.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():Le.newInvalidDocument(s))})),$.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let l=er();const c=n.path,d=new Et(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:y}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Ug(vE(y),i)<=0||(s.has(y.key)||Ku(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return $.resolve(l)}getAllFromCollectionGroup(t,n,i,s){At(9500)}ni(t,n){return $.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new VR(this)}getSize(t){return $.resolve(this.size)}}class VR extends PT{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(i)})),$.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class MR{constructor(t){this.persistence=t,this.ri=new Ni((n=>bs(n)),Yu),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.ii=0,this.si=new ep,this.targetCount=0,this.oi=ws._r()}forEachTarget(t,n){return this.ri.forEach(((i,s)=>n(s))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),$.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ws(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.lr(n),$.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,i){let s=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)})),$.waitFor(l).next((()=>s))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return $.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),$.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach((c=>{l.push(s.markPotentiallyOrphaned(t,c))})),$.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return $.resolve(i)}containsKey(t,n){return $.resolve(this.si.containsKey(n))}}class np{constructor(t,n){this._i={},this.overlays={},this.ai=new yr(0),this.ui=!1,this.ui=!0,this.ci=new DR,this.referenceDelegate=t(this),this.li=new MR(this),this.indexManager=new yR,this.remoteDocumentCache=(function(s){return new xR(s)})((i=>this.referenceDelegate.hi(i))),this.serializer=new AT(n),this.Pi=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new RR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new CR(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){mt("MemoryPersistence","Starting transaction:",t);const s=new NR(this.ai.next());return this.referenceDelegate.Ti(),i(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(t,n){return $.or(Object.values(this._i).map((i=>()=>i.containsKey(t,n))))}}class NR extends EE{constructor(t){super(),this.currentSequenceNumber=t}}class Mh{constructor(t){this.persistence=t,this.Ri=new ep,this.Ai=null}static Vi(t){return new Mh(t)}get di(){if(this.Ai)return this.Ai;throw At(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),$.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(i=>{const s=Et.fromPath(i);return this.mi(t,s).next((l=>{l||n.removeEntry(s,Vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class oh{constructor(t,n){this.persistence=t,this.fi=new Ni((i=>Dn(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=OT(this,n)}static Vi(t,n){return new oh(t,n)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((s=>i+s))))}pr(t){let n=0;return this.mr(t,(i=>{n++})).next((()=>n))}mr(t,n){return $.forEach(this.fi,((i,s)=>this.wr(t,i,s).next((l=>l?$.resolve():n(s)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(i++,l.removeEntry(c,Vt.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zf(t.data.value)),n}wr(t,n,i){return $.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return $.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class OR{constructor(t){this.serializer=t}k(t,n,i,s){const l=new ph("createOrUpgrade",n);i<1&&s>=1&&((function(g){g.createObjectStore(Qu)})(t),(function(g){g.createObjectStore(Mu,{keyPath:Fw}),g.createObjectStore(Mr,{keyPath:E_,autoIncrement:!0}).createIndex(ds,T_,{unique:!0}),g.createObjectStore(ko)})(t),c1(t),(function(g){g.createObjectStore(ss)})(t));let c=$.resolve();return i<3&&s>=3&&(i!==0&&((function(g){g.deleteObjectStore(Fo),g.deleteObjectStore(jo),g.deleteObjectStore(ys)})(t),c1(t)),c=c.next((()=>(function(g){const p=g.store(ys),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return p.put(Wf,y)})(l)))),i<4&&s>=4&&(i!==0&&(c=c.next((()=>(function(g,p){return p.store(Mr).H().next((v=>{g.deleteObjectStore(Mr),g.createObjectStore(Mr,{keyPath:E_,autoIncrement:!0}).createIndex(ds,T_,{unique:!0});const E=p.store(Mr),w=v.map((M=>E.put(M)));return $.waitFor(w)}))})(t,l)))),c=c.next((()=>{(function(g){g.createObjectStore(qo,{keyPath:Ww})})(t)}))),i<5&&s>=5&&(c=c.next((()=>this.gi(l)))),i<6&&s>=6&&(c=c.next((()=>((function(g){g.createObjectStore(Nu)})(t),this.pi(l))))),i<7&&s>=7&&(c=c.next((()=>this.yi(l)))),i<8&&s>=8&&(c=c.next((()=>this.wi(t,l)))),i<9&&s>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&s>=10&&(c=c.next((()=>this.bi(l)))),i<11&&s>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(vh,{keyPath:$w})})(t),(function(g){g.createObjectStore(_h,{keyPath:Jw})})(t)}))),i<12&&s>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(Eh,{keyPath:sI});p.createIndex(fg,oI,{unique:!1}),p.createIndex(RE,lI,{unique:!1})})(t)}))),i<13&&s>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(Zf,{keyPath:Hw});p.createIndex(Pf,Gw),p.createIndex(AE,Qw)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(ss)))),i<14&&s>=14&&(c=c.next((()=>this.Di(t,l)))),i<15&&s>=15&&(c=c.next((()=>(function(g){g.createObjectStore(Bg,{keyPath:tI,autoIncrement:!0}).createIndex(cg,eI,{unique:!1}),g.createObjectStore(_u,{keyPath:nI}).createIndex(wE,rI,{unique:!1}),g.createObjectStore(Eu,{keyPath:iI}).createIndex(IE,aI,{unique:!1})})(t)))),i<16&&s>=16&&(c=c.next((()=>{n.objectStore(_u).clear()})).next((()=>{n.objectStore(Eu).clear()}))),i<17&&s>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(kg,{keyPath:uI})})(t)}))),i<18&&s>=18&&tE()&&(c=c.next((()=>{n.objectStore(_u).clear()})).next((()=>{n.objectStore(Eu).clear()}))),c}pi(t){let n=0;return t.store(ss).ee(((i,s)=>{n+=sh(s)})).next((()=>{const i={byteSize:n};return t.store(Nu).put(ug,i)}))}gi(t){const n=t.store(Mu),i=t.store(Mr);return n.H().next((s=>$.forEach(s,(l=>{const c=IDBKeyRange.bound([l.userId,ps],[l.userId,l.lastAcknowledgedBatchId]);return i.H(ds,c).next((d=>$.forEach(d,(g=>{Dt(g.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=us(this.serializer,g);return CT(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const n=t.store(Fo),i=t.store(ss);return t.store(ys).get(Wf).next((s=>{const l=[];return i.ee(((c,d)=>{const g=new oe(c),p=(function(v){return[0,Dn(v)]})(g);l.push(n.get(p).next((y=>y?$.resolve():(v=>n.put({targetId:0,path:Dn(v),sequenceNumber:s.highestListenSequenceNumber}))(g))))})).next((()=>$.waitFor(l)))}))}wi(t,n){t.createObjectStore(Ou,{keyPath:Zw});const i=n.store(Ou),s=new tp,l=c=>{if(s.add(c)){const d=c.lastSegment(),g=c.popLast();return i.put({collectionId:d,parent:Dn(g)})}};return n.store(ss).ee({Y:!0},((c,d)=>{const g=new oe(c);return l(g.popLast())})).next((()=>n.store(ko).ee({Y:!0},(([c,d,g],p)=>{const y=ri(d);return l(y.popLast())}))))}bi(t){const n=t.store(jo);return n.ee(((i,s)=>{const l=gu(s),c=ST(this.serializer,l);return n.put(c)}))}Si(t,n){const i=n.store(ss),s=[];return i.ee(((l,c)=>{const d=n.store(Zf),g=(function(v){return v.document?new Et(oe.fromString(v.document.name).popFirst(5)):v.noDocument?Et.fromSegments(v.noDocument.path):v.unknownDocument?Et.fromSegments(v.unknownDocument.path):At(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(d.put(p))})).next((()=>$.waitFor(s)))}Di(t,n){const i=n.store(Mr),s=UT(this.serializer),l=new np(Mh.Vi,this.serializer.yt);return i.H().next((c=>{const d=new Map;return c.forEach((g=>{let p=d.get(g.userId)??Ht();us(this.serializer,g).keys().forEach((y=>p=p.add(y))),d.set(g.userId,p)})),$.forEach(d,((g,p)=>{const y=new Vn(p),v=xh.wt(this.serializer,y),E=l.getIndexManager(y),w=Vh.wt(y,this.serializer,E,l.referenceDelegate);return new zT(s,w,v,E).recalculateAndSaveOverlaysForDocumentKeys(new hg(n,yr.ce),g).next()}))}))}}function c1(a){a.createObjectStore(Fo,{keyPath:Kw}).createIndex(Lg,Xw,{unique:!0}),a.createObjectStore(jo,{keyPath:"targetId"}).createIndex(SE,Yw,{unique:!0}),a.createObjectStore(ys)}const da="IndexedDbPersistence",Ym=18e5,Km=5e3,Xm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",PR="main";class rp{constructor(t,n,i,s,l,c,d,g,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Ci=l,this.window=c,this.document=d,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!rp.v())throw new Tt(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bR(this,s),this.Ki=n+PR,this.serializer=new AT(g),this.qi=new Ea(this.Ki,this.xi,new OR(this.serializer)),this.ci=new fR,this.li=new _R(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UT(this.serializer),this.Pi=new cR,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&Mn(da,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tt(dt.FAILED_PRECONDITION,Xm);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new yr(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Df(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((n=>this.isPrimary&&!n?this.Ji(t).next((()=>!1)):!!n&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(Ra(t))return mt(da,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return mt(da,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return uu(t).get(_o).next((n=>$.resolve(this.Xi(n))))}Yi(t){return Df(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Ym)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const i=an(n,qo);return i.H().next((s=>{const l=this.ns(s,Ym),c=s.filter((d=>l.indexOf(d)===-1));return $.forEach(c,(d=>i.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const n of t)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?$.resolve(!0):uu(t).get(_o).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Km)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new Tt(dt.FAILED_PRECONDITION,Xm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Df(t).H().next((i=>this.ns(i,Km).find((s=>{if(this.clientId!==s.clientId){const l=!this.networkEnabled&&s.networkEnabled,c=!this.inForeground&&s.inForeground,d=this.networkEnabled===s.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&mt(da,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Qu,qo],(t=>{const n=new hg(t,yr.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(t,n){return t.filter((i=>this.ts(i.updateTimeMs,n)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>Df(t).H().next((n=>this.ns(n,Ym).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,n){return Vh.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new vR(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return xh.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,n,i){mt(da,"Starting transaction:",t);const s=n==="readonly"?"readonly":"readwrite",l=(function(g){return g===18?hI:g===17?VE:g===16?fI:g===15?jg:g===14?xE:g===13?CE:g===12?cI:g===11?DE:void At(60245)})(this.xi);let c;return this.qi.runTransaction(t,s,l,(d=>(c=new hg(d,this.ai?this.ai.next():yr.ce),n==="readwrite-primary"?this.ji(c).next((g=>!!g||this.Hi(c))).next((g=>{if(!g)throw Mn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new Tt(dt.FAILED_PRECONDITION,_E);return i(c)})).next((g=>this.Zi(c).next((()=>g)))):this.Ps(c).next((()=>i(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(t){return uu(t).get(_o).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Km)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Tt(dt.FAILED_PRECONDITION,Xm)}))}Zi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uu(t).put(_o,n)}static v(){return Ea.v()}Ji(t){const n=uu(t);return n.get(_o).next((i=>this.Xi(i)?(mt(da,"Releasing primary lease."),n.delete(_o)):$.resolve()))}ts(t,n){const i=Date.now();return!(t<i-n)&&(!(t>i)||(Mn(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;J1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const n=this.Ui?.getItem(this.rs(t))!==null;return mt(da,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Mn(da,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){Mn("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function uu(a){return an(a,Qu)}function Df(a){return an(a,qo)}function UR(a,t){let n=a.projectId;return a.isDefaultDatabase||(n+="."+a.database),"firestore/"+t+"/"+n+"/"}class ip{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=s}static Es(t,n){let i=Ht(),s=Ht();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new ip(t,n.fromCache,i,s)}}class zR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class LT{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return J1()?8:TE(Gf())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new zR;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,i,s){return i.documentReadCount<this.Vs?(Io()<=Jt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Io()<=Jt.DEBUG&&mt("QueryEngine","Query:",Ro(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Io()<=Jt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_r(n))):$.resolve())}gs(t,n){if(O_(n))return $.resolve(null);let i=_r(n);return this.indexManager.getIndexType(t,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=vg(n,null,"F"),i=_r(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const c=Ht(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,i).next((g=>{const p=this.bs(n,d);return this.Ss(n,p,c,g.readTime)?this.gs(t,vg(n,null,"F")):this.Ds(t,p,n,g)}))))})))))}ps(t,n,i,s){return O_(n)||s.isEqual(Vt.min())?$.resolve(null):this.fs.getDocuments(t,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,s)?$.resolve(null):(Io()<=Jt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ro(n)),this.Ds(t,c,n,Pw(s,Cu)).next((d=>d)))}))}bs(t,n){let i=new ge(ZE(t));return n.forEach(((s,l)=>{Ku(t,l)&&(i=i.add(l))})),i}Ss(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(t,n,i){return Io()<=Jt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.fs.getDocumentsMatchingQuery(t,n,nr.min(),i)}Ds(t,n,i,s){return this.fs.getDocumentsMatchingQuery(t,i,s).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const ap="LocalStore",LR=3e8;class BR{constructor(t,n,i,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new Me(Ut),this.Fs=new Ni((l=>bs(l)),Yu),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zT(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function BT(a,t,n,i){return new BR(a,t,n,i)}async function kT(a,t){const n=zt(a);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,n.Os(t),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let g=Ht();for(const p of s){c.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}return n.localDocuments.getDocuments(i,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function kR(a,t){const n=zt(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,p,y){const v=p.batch,E=v.keys();let w=$.resolve();return E.forEach((M=>{w=w.next((()=>y.getEntry(g,M))).next((z=>{const k=p.docVersions.get(M);Dt(k!==null,48541),z.version.compareTo(k)<0&&(v.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(g,v)))})(n,i,t,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let g=Ht();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function jT(a){const t=zt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function jR(a,t){const n=zt(a),i=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const d=[];t.targetChanges.forEach(((y,v)=>{const E=s.get(v);if(!E)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let w=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(tn.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),s=s.insert(v,w),(function(z,k,L){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=LR?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(E,w,y)&&d.push(n.li.updateTargetData(l,w))}));let g=er(),p=Ht();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(FR(l,c,t.documentUpdates).next((y=>{g=y.Bs,p=y.Ls}))),!i.isEqual(Vt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(y)}return $.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(n.vs=s,l)))}function FR(a,t,n){let i=Ht(),s=Ht();return n.forEach((l=>i=i.add(l))),t.getEntries(a,i).next((l=>{let c=er();return n.forEach(((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),g.isNoDocument()&&g.version.isEqual(Vt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):mt(ap,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:s}}))}function qR(a,t){const n=zt(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=ps),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function HR(a,t){const n=zt(a);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.li.getTargetData(i,t).next((l=>l?(s=l,$.resolve(s)):n.li.allocateTargetId(i).next((c=>(s=new Di(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i}))}async function Ig(a,t,n){const i=zt(a),s=i.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Ra(c))throw c;mt(ap,`Failed to update sequence numbers for target ${t}: ${c}`)}i.vs=i.vs.remove(t),i.Fs.delete(s.target)}function f1(a,t,n){const i=zt(a);let s=Vt.min(),l=Ht();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,y){const v=zt(g),E=v.Fs.get(y);return E!==void 0?$.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(i,c,_r(t)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((g=>{l=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,t,n?s:Vt.min(),n?l:Ht()))).next((d=>(GR(i,xI(t),d),{documents:d,ks:l})))))}function GR(a,t,n){let i=a.Ms.get(t)||Vt.min();n.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),a.Ms.set(t,i)}class h1{constructor(){this.activeTargetIds=UI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FT{constructor(){this.vo=new h1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new h1,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class QR{Mo(t){}shutdown(){}}const d1="ConnectivityMonitor";class m1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(d1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(d1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cf=null;function Rg(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}const Zm="RestConnection",YR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===$f?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(t,n,i,s,l){const c=Rg(),d=this.Qo(t,n.toUriEncodedString());mt(Zm,`Sending RPC '${t}' ${c}:`,d,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,s,l);const{host:p}=new URL(d),y=W1(p);return this.zo(t,d,g,i,y).then((v=>(mt(Zm,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Du(Zm,`RPC '${t}' ${c} failed with error: `,v,"url: ",d,"request:",i),v}))}jo(t,n,i,s,l,c){return this.Wo(t,n,i,s,l)}Go(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>t[l]=s)),i&&i.headers.forEach(((s,l)=>t[l]=s))}Qo(t,n){const i=YR[t];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class XR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const wn="WebChannelConnection",cu=(a,t,n)=>{a.listen(t,(i=>{try{n(i)}catch(s){setTimeout((()=>{throw s}),0)}}))};class No extends KR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!No.c_){const t=hE();cu(t,fE.STAT_EVENT,(n=>{n.stat===sg.PROXY?mt(wn,"STAT_EVENT: detected buffering proxy"):n.stat===sg.NOPROXY&&mt(wn,"STAT_EVENT: detected no buffering proxy")})),No.c_=!0}}zo(t,n,i,s,l){const c=Rg();return new Promise(((d,g)=>{const p=new uE;p.setWithCredentials(!0),p.listenOnce(cE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const v=p.getResponseJson();mt(wn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),d(v);break;case Mf.TIMEOUT:mt(wn,`RPC '${t}' ${c} timed out`),g(new Tt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const E=p.getStatus();if(mt(wn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const M=w?.error;if(M&&M.status&&M.message){const z=(function(L){const nt=L.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(nt)>=0?nt:dt.UNKNOWN})(M.status);g(new Tt(z,M.message))}else g(new Tt(dt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new Tt(dt.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{mt(wn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(s);mt(wn,`RPC '${t}' ${c} sending request:`,s),p.send(n,"POST",y,i,15)}))}T_(t,n,i){const s=Rg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");mt(wn,`Creating RPC '${t}' stream ${s}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let v=!1,E=!1;const w=new XR({Ho:M=>{E?mt(wn,`Not sending because RPC '${t}' stream ${s} is closed:`,M):(v||(mt(wn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),v=!0),mt(wn,`RPC '${t}' stream ${s} sending:`,M),y.send(M))},Jo:()=>y.close()});return cu(y,hu.EventType.OPEN,(()=>{E||(mt(wn,`RPC '${t}' stream ${s} transport opened.`),w.i_())})),cu(y,hu.EventType.CLOSE,(()=>{E||(E=!0,mt(wn,`RPC '${t}' stream ${s} transport closed`),w.o_(),this.E_(y))})),cu(y,hu.EventType.ERROR,(M=>{E||(E=!0,Du(wn,`RPC '${t}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),w.o_(new Tt(dt.UNAVAILABLE,"The operation could not be completed")))})),cu(y,hu.EventType.MESSAGE,(M=>{if(!E){const z=M.data[0];Dt(!!z,16349);const k=z,L=k?.error||k[0]?.error;if(L){mt(wn,`RPC '${t}' stream ${s} received error:`,L);const nt=L.status;let Q=(function(B){const V=$e[B];if(V!==void 0)return lT(V)})(nt),Y=L.message;Q===void 0&&(Q=dt.INTERNAL,Y="Unknown error status: "+nt+" with message "+L.message),E=!0,w.o_(new Tt(Q,Y)),y.close()}else mt(wn,`RPC '${t}' stream ${s} received:`,z),w.__(z)}})),No.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return dE()}}function ZR(a){return new No(a)}function WR(){return typeof window<"u"?window:null}function Ff(){return typeof document<"u"?document:null}function Nh(a){return new JI(a,!0)}No.c_=!1;class qT{constructor(t,n,i=1e3,s=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const g1="PersistentStream";class HT{constructor(t,n,i,s,l,c,d,g){this.Ci=t,this.b_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{t((()=>{const s=new Tt(dt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(g1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(mt(g1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $R extends HT{constructor(t,n,i,s,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=nR(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Vt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Vt.min():c.readTime?On(c.readTime):Vt.min()})(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=Tg(this.serializer),n.addTarget=(function(l,c){let d;const g=c.target;if(d=th(g)?{documents:pT(l,g)}:{query:yT(l,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=fT(l,c.resumeToken);const p=_g(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Vt.min())>0){d.readTime=Zo(l,c.snapshotVersion.toTimestamp());const p=_g(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const i=iR(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=Tg(this.serializer),n.removeTarget=t,this.K_(n)}}class JR extends HT{constructor(t,n,i,s,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Dt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Dt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Dt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=rR(t.writeResults,t.commitTime),i=On(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Tg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>rh(this.serializer,i)))};this.K_(n)}}class tD{}class eD extends tD{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Tt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,Eg(n,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Tt(dt.UNKNOWN,l.toString())}))}jo(t,n,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,Eg(n,i),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Tt(dt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nD(a,t,n,i){return new eD(a,t,n,i)}class rD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mn(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Is="RemoteStore";class iD{constructor(t,n,i,s,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Cs(this)&&(mt(Is,"Restarting streams for network reachability change."),await(async function(g){const p=zt(g);p.Ea.add(4),await Zu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Oh(p)})(this))}))})),this.Va=new rD(i,s)}}async function Oh(a){if(Cs(a))for(const t of a.Ra)await t(!0)}async function Zu(a){for(const t of a.Ra)await t(!1)}function GT(a,t){const n=zt(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),up(n)?lp(n):el(n).O_()&&op(n,t))}function sp(a,t){const n=zt(a),i=el(n);n.Ia.delete(t),i.O_()&&QT(n,t),n.Ia.size===0&&(i.O_()?i.L_():Cs(n)&&n.Va.set("Unknown"))}function op(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vt.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}el(a).Z_(t)}function QT(a,t){a.da.$e(t),el(a).X_(t)}function lp(a){a.da=new XI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),el(a).start(),a.Va.ua()}function up(a){return Cs(a)&&!el(a).x_()&&a.Ia.size>0}function Cs(a){return zt(a).Ea.size===0}function YT(a){a.da=void 0}async function aD(a){a.Va.set("Online")}async function sD(a){a.Ia.forEach(((t,n)=>{op(a,t)}))}async function oD(a,t){YT(a),up(a)?(a.Va.ha(t),lp(a)):a.Va.set("Unknown")}async function lD(a,t,n){if(a.Va.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(a,t)}catch(i){mt(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await lh(a,i)}else if(t instanceof kf?a.da.Xe(t):t instanceof uT?a.da.st(t):a.da.tt(t),!n.isEqual(Vt.min()))try{const i=await jT(a.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,p)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),QT(l,g);const v=new Di(y.target,g,p,y.sequenceNumber);op(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(a,n)}catch(i){mt(Is,"Failed to raise snapshot:",i),await lh(a,i)}}async function lh(a,t,n){if(!Ra(t))throw t;a.Ea.add(1),await Zu(a),a.Va.set("Offline"),n||(n=()=>jT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{mt(Is,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Oh(a)}))}function KT(a,t){return t().catch((n=>lh(a,n,t)))}async function Wu(a){const t=zt(a),n=wa(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ps;for(;uD(t);)try{const s=await qR(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,cD(t,s)}catch(s){await lh(t,s)}XT(t)&&ZT(t)}function uD(a){return Cs(a)&&a.Ta.length<10}function cD(a,t){a.Ta.push(t);const n=wa(a);n.O_()&&n.Y_&&n.ea(t.mutations)}function XT(a){return Cs(a)&&!wa(a).x_()&&a.Ta.length>0}function ZT(a){wa(a).start()}async function fD(a){wa(a).ra()}async function hD(a){const t=wa(a);for(const n of a.Ta)t.ea(n.mutations)}async function dD(a,t,n){const i=a.Ta.shift(),s=Xg.from(i,t,n);await KT(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await Wu(a)}async function mD(a,t){t&&wa(a).Y_&&await(async function(i,s){if((function(c){return QI(c)&&c!==dt.ABORTED})(s.code)){const l=i.Ta.shift();wa(i).B_(),await KT(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Wu(i)}})(a,t),XT(a)&&ZT(a)}async function p1(a,t){const n=zt(a);n.asyncQueue.verifyOperationInProgress(),mt(Is,"RemoteStore received new credentials");const i=Cs(n);n.Ea.add(3),await Zu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Oh(n)}async function gD(a,t){const n=zt(a);t?(n.Ea.delete(2),await Oh(n)):t||(n.Ea.add(2),await Zu(n),n.Va.set("Unknown"))}function el(a){return a.ma||(a.ma=(function(n,i,s){const l=zt(n);return l.sa(),new $R(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Zo:aD.bind(null,a),Yo:sD.bind(null,a),t_:oD.bind(null,a),J_:lD.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),up(a)?lp(a):a.Va.set("Unknown")):(await a.ma.stop(),YT(a))}))),a.ma}function wa(a){return a.fa||(a.fa=(function(n,i,s){const l=zt(n);return l.sa(),new JR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fD.bind(null,a),t_:mD.bind(null,a),ta:hD.bind(null,a),na:dD.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Wu(a)):(await a.fa.stop(),a.Ta.length>0&&(mt(Is,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class cp{constructor(t,n,i,s,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,l){const c=Date.now()+i,d=new cp(t,n,c,s,l);return d.start(i),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(a,t){if(Mn("AsyncQueue",`${t}: ${a}`),Ra(a))return new Tt(dt.UNAVAILABLE,`${t}: ${a}`);throw a}class Oo{static emptySet(t){return new Oo(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Et.comparator(n.key,i.key):(n,i)=>Et.comparator(n.key,i.key),this.keyedMap=du(),this.sortedSet=new Me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}class y1{constructor(){this.ga=new Me(Et.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):At(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class Wo{constructor(t,n,i,s,l,c,d,g,p){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,i,s,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Wo(t,n,Oo.emptySet(n),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}class pD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class yD{constructor(){this.queries=v1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=zt(n),l=s.queries;s.queries=v1(),l.forEach(((c,d)=>{for(const g of d.ba)g.onError(i)}))})(this,new Tt(dt.ABORTED,"Firestore shutting down"))}}function v1(){return new Ni((a=>XE(a)),wh)}async function WT(a,t){const n=zt(a);let i=3;const s=t.query;let l=n.queries.get(s);l?!l.Sa()&&t.Da()&&(i=2):(l=new pD,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(s,!0);break;case 1:l.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=fp(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(d)}n.queries.set(s,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&hp(n)}async function $T(a,t){const n=zt(a),i=t.query;let s=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?s=t.Da()?0:1:!l.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function vD(a,t){const n=zt(a);let i=!1;for(const s of t){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(s)&&(i=!0);c.wa=s}}i&&hp(n)}function _D(a,t,n){const i=zt(a),s=i.queries.get(t);if(s)for(const l of s.ba)l.onError(n);i.queries.delete(t)}function hp(a){a.Ca.forEach((t=>{t.next()}))}var Dg,_1;(_1=Dg||(Dg={})).Ma="default",_1.Cache="cache";class JT{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Wo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dg.Cache}}class tb{constructor(t){this.key=t}}class eb{constructor(t){this.key=t}}class ED{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ht(),this.mutatedKeys=Ht(),this.eu=ZE(t),this.tu=new Oo(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new y1,s=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((y,v)=>{const E=s.get(y),w=Ku(this.query,v)?v:null,M=!!E&&this.mutatedKeys.has(E.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;E&&w?E.data.isEqual(w.data)?M!==z&&(i.track({type:3,doc:w}),k=!0):this.su(E,w)||(i.track({type:2,doc:w}),k=!0,(g&&this.eu(w,g)>0||p&&this.eu(w,p)<0)&&(d=!0)):!E&&w?(i.track({type:0,doc:w}),k=!0):E&&!w&&(i.track({type:1,doc:E}),k=!0,(g||p)&&(d=!0)),k&&(w?(c=c.add(w),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(w,M){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:k})}};return z(w)-z(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),s=s??!1;const d=n&&!s?this._u():[],g=this.Ya.size===0&&this.current&&!s?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new Wo(this.query,t.tu,l,c,t.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ht(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return t.forEach((i=>{this.Ya.has(i)||n.push(new eb(i))})),this.Ya.forEach((i=>{t.has(i)||n.push(new tb(i))})),n}cu(t){this.Za=t.ks,this.Ya=Ht();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const dp="SyncEngine";class TD{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class bD{constructor(t){this.key=t,this.hu=!1}}class AD{constructor(t,n,i,s,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ni((d=>XE(d)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Me(Et.comparator),this.Au=new Map,this.Vu=new ep,this.du={},this.mu=new Map,this.fu=ws.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SD(a,t,n=!0){const i=ob(a);let s;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await nb(i,t,n,!0),s}async function wD(a,t){const n=ob(a);await nb(n,t,!0,!1)}async function nb(a,t,n,i){const s=await HR(a.localStore,_r(t)),l=s.targetId,c=a.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await ID(a,t,l,c==="current",s.resumeToken)),a.isPrimaryClient&&n&&GT(a.remoteStore,s),d}async function ID(a,t,n,i,s){a.pu=(v,E,w)=>(async function(z,k,L,nt){let Q=k.view.ru(L);Q.Ss&&(Q=await f1(z.localStore,k.query,!1).then((({documents:V})=>k.view.ru(V,Q))));const Y=nt&&nt.targetChanges.get(k.targetId),at=nt&&nt.targetMismatches.get(k.targetId)!=null,B=k.view.applyChanges(Q,z.isPrimaryClient,Y,at);return T1(z,k.targetId,B.au),B.snapshot})(a,v,E,w);const l=await f1(a.localStore,t,!0),c=new ED(t,l.ks),d=c.ru(l.documents),g=Xu.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",s),p=c.applyChanges(d,a.isPrimaryClient,g);T1(a,n,p.au);const y=new TD(t,n,c);return a.Tu.set(t,y),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),p.snapshot}async function RD(a,t,n){const i=zt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);if(l.length>1)return i.Iu.set(s.targetId,l.filter((c=>!wh(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ig(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&sp(i.remoteStore,s.targetId),Cg(i,s.targetId)})).catch(Rs)):(Cg(i,s.targetId),await Ig(i.localStore,s.targetId,!0))}async function DD(a,t){const n=zt(a),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sp(n.remoteStore,i.targetId))}async function CD(a,t,n){const i=lb(a);try{const s=await(function(c,d){const g=zt(c),p=me.now(),y=d.reduce(((w,M)=>w.add(M.key)),Ht());let v,E;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let M=er(),z=Ht();return g.xs.getEntries(w,y).next((k=>{M=k,M.forEach(((L,nt)=>{nt.isValidDocument()||(z=z.add(L))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,M))).next((k=>{v=k;const L=[];for(const nt of d){const Q=HI(nt,v.get(nt.key).overlayedDocument);Q!=null&&L.push(new Da(nt.key,Q,jE(Q.value.mapValue),Nn.exists(!0)))}return g.mutationQueue.addMutationBatch(w,p,L,d)})).next((k=>{E=k;const L=k.applyToLocalDocumentSet(v,z);return g.documentOverlayCache.saveOverlays(w,k.batchId,L)}))})).then((()=>({batchId:E.batchId,changes:$E(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),(function(c,d,g){let p=c.du[c.currentUser.toKey()];p||(p=new Me(Ut)),p=p.insert(d,g),c.du[c.currentUser.toKey()]=p})(i,s.batchId,n),await $u(i,s.changes),await Wu(i.remoteStore)}catch(s){const l=fp(s,"Failed to persist write");n.reject(l)}}async function rb(a,t){const n=zt(a);try{const i=await jR(n.localStore,t);t.targetChanges.forEach(((s,l)=>{const c=n.Au.get(l);c&&(Dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Dt(c.hu,14607):s.removedDocuments.size>0&&(Dt(c.hu,42227),c.hu=!1))})),await $u(n,i,t)}catch(i){await Rs(i)}}function E1(a,t,n){const i=zt(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const g=zt(c);g.onlineState=d;let p=!1;g.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(d)&&(p=!0)})),p&&hp(g)})(i.eventManager,t),s.length&&i.Pu.J_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function xD(a,t,n){const i=zt(a);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),l=s&&s.key;if(l){let c=new Me(Et.comparator);c=c.insert(l,Le.newNoDocument(l,Vt.min()));const d=Ht().add(l),g=new Ch(Vt.min(),new Map,new Me(Ut),c,d);await rb(i,g),i.Ru=i.Ru.remove(l),i.Au.delete(t),mp(i)}else await Ig(i.localStore,t,!1).then((()=>Cg(i,t,n))).catch(Rs)}async function VD(a,t){const n=zt(a),i=t.batch.batchId;try{const s=await kR(n.localStore,t);ab(n,i,null),ib(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $u(n,s)}catch(s){await Rs(s)}}async function MD(a,t,n){const i=zt(a);try{const s=await(function(c,d){const g=zt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return g.mutationQueue.lookupMutationBatch(p,d).next((v=>(Dt(v!==null,37113),y=v.keys(),g.mutationQueue.removeMutationBatch(p,v)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>g.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);ab(i,t,n),ib(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await $u(i,s)}catch(s){await Rs(s)}}function ib(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function ab(a,t,n){const i=zt(a);let s=i.du[i.currentUser.toKey()];if(s){const l=s.get(t);l&&(n?l.reject(n):l.resolve(),s=s.remove(t)),i.du[i.currentUser.toKey()]=s}}function Cg(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const i of a.Iu.get(t))a.Tu.delete(i),n&&a.Pu.yu(i,n);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((i=>{a.Vu.containsKey(i)||sb(a,i)}))}function sb(a,t){a.Eu.delete(t.path.canonicalString());const n=a.Ru.get(t);n!==null&&(sp(a.remoteStore,n),a.Ru=a.Ru.remove(t),a.Au.delete(n),mp(a))}function T1(a,t,n){for(const i of n)i instanceof tb?(a.Vu.addReference(i.key,t),ND(a,i)):i instanceof eb?(mt(dp,"Document no longer in limbo: "+i.key),a.Vu.removeReference(i.key,t),a.Vu.containsKey(i.key)||sb(a,i.key)):At(19791,{wu:i})}function ND(a,t){const n=t.key,i=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(i)||(mt(dp,"New document in limbo: "+n),a.Eu.add(i),mp(a))}function mp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new Et(oe.fromString(t)),i=a.fu.next();a.Au.set(i,new bD(n)),a.Ru=a.Ru.insert(n,i),GT(a.remoteStore,new Di(_r(Sh(n.path)),i,"TargetPurposeLimboResolution",yr.ce))}}async function $u(a,t,n){const i=zt(a),s=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,g)=>{c.push(i.pu(g,t,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(p){s.push(p);const y=ip.Es(g.targetId,p);l.push(y)}})))})),await Promise.all(c),i.Pu.J_(s),await(async function(g,p){const y=zt(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>$.forEach(p,(E=>$.forEach(E.Ts,(w=>y.persistence.referenceDelegate.addReference(v,E.targetId,w))).next((()=>$.forEach(E.Is,(w=>y.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))))))}catch(v){if(!Ra(v))throw v;mt(ap,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const w=y.vs.get(E),M=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(E,z)}}})(i.localStore,l))}async function OD(a,t){const n=zt(a);if(!n.currentUser.isEqual(t)){mt(dp,"User change. New user:",t.toKey());const i=await kT(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new Tt(dt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await $u(n,i.Ns)}}function PD(a,t){const n=zt(a),i=n.Au.get(t);if(i&&i.hu)return Ht().add(i.key);{let s=Ht();const l=n.Iu.get(t);if(!l)return s;for(const c of l){const d=n.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function ob(a){const t=zt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xD.bind(null,t),t.Pu.J_=vD.bind(null,t.eventManager),t.Pu.yu=_D.bind(null,t.eventManager),t}function lb(a){const t=zt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,t),t}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return BT(this.persistence,new LT,t.initialUser,this.serializer)}Cu(t){return new np(Mh.Vi,this.serializer)}Du(t){return new FT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class UD extends ku{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Dt(this.persistence.referenceDelegate instanceof oh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new NT(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new np((i=>oh.Vi(i,n)),this.serializer)}}class zD extends ku{constructor(t,n,i){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await lb(this.xu.syncEngine),await Wu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return BT(this.persistence,new LT,t.initialUser,this.serializer)}Fu(t,n){const i=this.persistence.referenceDelegate.garbageCollector;return new NT(i,t.asyncQueue,n)}Mu(t,n){const i=new Bw(n,this.persistence);return new Lw(t.asyncQueue,i)}Cu(t){const n=UR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new rp(this.synchronizeTabs,n,t.clientId,i,t.asyncQueue,WR(),Ff(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new FT}}class uh{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>E1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yD})()}createDatastore(t){const n=Nh(t.databaseInfo.databaseId),i=ZR(t.databaseInfo);return nD(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,s,l,c,d){return new iD(i,s,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>E1(this.syncEngine,n,0)),(function(){return m1.v()?new m1:new QR})())}createSyncEngine(t,n){return(function(s,l,c,d,g,p,y){const v=new AD(s,l,c,d,g,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=zt(n);mt(Is,"RemoteStore shutting down."),i.Ea.add(5),await Zu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}uh.provider={build:()=>new uh};class ub{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Mn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ia="FirestoreClient";class LD{constructor(t,n,i,s,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=Vn.UNAUTHENTICATED,this.clientId=Og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{mt(Ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(mt(Ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=fp(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Wm(a,t){a.asyncQueue.verifyOperationInProgress(),mt(Ia,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let i=n.initialUser;a.setCredentialChangeListener((async s=>{i.isEqual(s)||(await kT(t.localStore,s),i=s)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function b1(a,t){a.asyncQueue.verifyOperationInProgress();const n=await BD(a);mt(Ia,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((i=>p1(t.remoteStore,i))),a.setAppCheckTokenChangeListener(((i,s)=>p1(t.remoteStore,s))),a._onlineComponents=t}async function BD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){mt(Ia,"Using user provided OfflineComponentProvider");try{await Wm(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===dt.FAILED_PRECONDITION||s.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Du("Error using user provided cache. Falling back to memory cache: "+n),await Wm(a,new ku)}}else mt(Ia,"Using default OfflineComponentProvider"),await Wm(a,new UD(void 0));return a._offlineComponents}async function cb(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(mt(Ia,"Using user provided OnlineComponentProvider"),await b1(a,a._uninitializedComponentsProvider._online)):(mt(Ia,"Using default OnlineComponentProvider"),await b1(a,new uh))),a._onlineComponents}function kD(a){return cb(a).then((t=>t.syncEngine))}async function fb(a){const t=await cb(a),n=t.eventManager;return n.onListen=SD.bind(null,t.syncEngine),n.onUnlisten=RD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=DD.bind(null,t.syncEngine),n}function jD(a,t,n={}){const i=new ai;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const y=new ub({next:E=>{y.Nu(),c.enqueueAndForget((()=>$T(l,v)));const w=E.docs.has(d);!w&&E.fromCache?p.reject(new Tt(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&g&&g.source==="server"?p.reject(new Tt(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new JT(Sh(d.path),y,{includeMetadataChanges:!0,Ka:!0});return WT(l,v)})(await fb(a),a.asyncQueue,t,n,i))),i.promise}function FD(a,t,n={}){const i=new ai;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const y=new ub({next:E=>{y.Nu(),c.enqueueAndForget((()=>$T(l,v))),E.fromCache&&g.source==="server"?p.reject(new Tt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new JT(d,y,{includeMetadataChanges:!0,Ka:!0});return WT(l,v)})(await fb(a),a.asyncQueue,t,n,i))),i.promise}function qD(a,t){const n=new ai;return a.asyncQueue.enqueueAndForget((async()=>CD(await kD(a),t,n))),n.promise}function hb(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const HD="ComponentProvider",A1=new Map;function GD(a,t,n,i,s){return new mI(a,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,hb(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}const QD="firestore.googleapis.com",S1=!0;class w1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QD,this.ssl=S1}else this.host=t.host,this.ssl=t.ssl??S1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MT)throw new Tt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ow("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hb(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Tt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Tt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Tt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gp{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ww;switch(i.type){case"firstParty":return new Dw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Tt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=A1.get(n);i&&(mt(HD,"Removing Datastore"),A1.delete(n),i.terminate())})(this),Promise.resolve()}}class Ph{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ph(this.firestore,t,this._query)}}class rn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Gu(n,rn._jsonSchema))return new rn(t,i||null,new Et(oe.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Je("string",rn._jsonSchemaVersion),referencePath:Je("string")};class Ta extends Ph{constructor(t,n,i){super(t,n,Sh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new Et(t))}withConverter(t){return new Ta(this.firestore,t,this._path)}}function I1(a,t,...n){if(a=wu(a),pE("collection","path",t),a instanceof gp){const i=oe.fromString(t,...n);return g_(i),new Ta(a,null,i)}{if(!(a instanceof rn||a instanceof Ta))throw new Tt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(oe.fromString(t,...n));return g_(i),new Ta(a.firestore,null,i)}}function Ju(a,t,...n){if(a=wu(a),arguments.length===1&&(t=Og.newId()),pE("doc","path",t),a instanceof gp){const i=oe.fromString(t,...n);return m_(i),new rn(a,null,new Et(i))}{if(!(a instanceof rn||a instanceof Ta))throw new Tt(dt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(oe.fromString(t,...n));return m_(i),new rn(a.firestore,a instanceof Ta?a.converter:null,new Et(i))}}const R1="AsyncQueue";class D1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const i=Ff();i&&mt(R1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Ff();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ff();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ra(t))throw t;mt(R1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Mn("INTERNAL UNHANDLED ERROR: ",C1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=cp.createAndSchedule(this,t,n,i,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&At(47125,{Pc:C1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function C1(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class nl extends gp{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new D1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new D1(t),this._firestoreClient=void 0,await t}}}function YD(a,t,n){n||(n=$f);const i=aw(a,"firestore");if(i.isInitialized(n)){const s=i.getImmediate({identifier:n}),l=i.getOptions(n);if(Qf(l,t))return s;throw new Tt(dt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Tt(dt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MT)throw new Tt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&W1(t.host)&&rS(t.host),i.initialize({options:t,instanceIdentifier:n})}function pp(a){if(a._terminated)throw new Tt(dt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||KD(a),a._firestoreClient}function KD(a){const t=a._freezeSettings(),n=GD(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new LD(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(a._componentsProvider))}class pr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pr(tn.fromBase64String(t))}catch(n){throw new Tt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new pr(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gu(t,pr._jsonSchema))return pr.fromBase64String(t.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Je("string",pr._jsonSchemaVersion),bytes:Je("string")};class db{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Tt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class mb{constructor(t){this._methodName=t}}class si{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Tt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(t){if(Gu(t,si._jsonSchema))return new si(t.latitude,t.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Je("string",si._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};class Nr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gu(t,Nr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Nr(t.vectorValues);throw new Tt(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Je("string",Nr._jsonSchemaVersion),vectorValues:Je("object")};const XD=/^__.*__$/;class ZD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Da(t,this.data,this.fieldMask,n,this.fieldTransforms):new tl(t,this.data,n,this.fieldTransforms)}}function gb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{dataSource:a})}}class yp{constructor(t,n,i,s,l,c){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new yp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const n=this.path?.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ch(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(gb(this.dataSource)&&XD.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WD{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Nh(t)}createContext(t,n,i,s=!1){return new yp({dataSource:t,methodName:n,targetDoc:i,path:Pe.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pb(a){const t=a._freezeSettings(),n=Nh(a._databaseId);return new WD(a._databaseId,!!t.ignoreUndefinedProperties,n)}function yb(a,t,n,i,s,l={}){const c=a.createContext(l.merge||l.mergeFields?2:0,t,n,s);Tb("Data must be an object, but it was:",c,i);const d=_b(i,c);let g,p;if(l.merge)g=new vr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=vp(t,v,n);if(!c.contains(E))throw new Tt(dt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);tC(y,E)||y.push(E)}g=new vr(y),p=c.fieldTransforms.filter((v=>g.covers(v.field)))}else g=null,p=c.fieldTransforms;return new ZD(new Hn(d),g,p)}function vb(a,t){if(Eb(a=wu(a)))return Tb("Unsupported field value:",t,a),_b(a,t);if(a instanceof mb)return(function(i,s){if(!gb(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const d of i){let g=vb(d,s.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(a,t)}return(function(i,s){if((i=wu(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zI(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=me.fromDate(i);return{timestampValue:Zo(s.serializer,l)}}if(i instanceof me){const l=new me(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zo(s.serializer,l)}}if(i instanceof si)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pr)return{bytesValue:fT(s.serializer,i._byteString)};if(i instanceof rn){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$g(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Nr)return(function(c,d){const g=c instanceof Nr?c.toArray():c;return{mapValue:{fields:{[qg]:{stringValue:Hg},[Ho]:{arrayValue:{values:g.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return Yg(d.serializer,y)}))}}}}}})(i,s);if(bT(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Pg(i)}`)})(a,t)}function _b(a,t){const n={};return ME(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(a,((i,s)=>{const l=vb(s,t.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function Eb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof me||a instanceof si||a instanceof pr||a instanceof rn||a instanceof mb||a instanceof Nr||bT(a))}function Tb(a,t,n){if(!Eb(n)||!yE(n)){const i=Pg(n);throw i==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+i)}}function vp(a,t,n){if((t=wu(t))instanceof db)return t._internalPath;if(typeof t=="string")return JD(a,t);throw ch("Field path arguments must be of type string or ",a,!1,void 0,n)}const $D=new RegExp("[~\\*/\\[\\]]");function JD(a,t,n){if(t.search($D)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new db(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function ch(a,t,n,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${i}`),c&&(g+=` in document ${s}`),g+=")"),new Tt(dt.INVALID_ARGUMENT,d+a+g)}function tC(a,t){return a.some((n=>n.isEqual(t)))}class eC{convertValue(t,n="none"){switch(Aa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ds(t,((s,l)=>{i[s]=this.convertValue(l,n)})),i}convertVectorValue(t){const n=t.fields?.[Ho].arrayValue?.values?.map((i=>Ve(i.doubleValue)));return new Nr(n)}convertGeoPoint(t){return new si(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Th(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pu(t));default:return null}}convertTimestamp(t){const n=xi(t);return new me(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=oe.fromString(t);Dt(TT(i),9688,{name:t});const s=new Ts(i.get(1),i.get(3)),l=new Et(i.popFirst(5));return s.isEqual(n)||Mn(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class bb extends eC{constructor(t){super(),this.firestore=t}convertBytes(t){return new pr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,n)}}const x1="@firebase/firestore",V1="4.10.0";class Ab{constructor(t,n,i,s,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(vp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nC extends Ab{data(){return super.data()}}function rC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Tt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Sb(a,t,n){let i;return i=a?a.toFirestore(t):t,i}class iC{constructor(t){let n;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),n=t.tabManager):(n=oC(void 0),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function aC(a){return new iC(a)}class sC{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=uh.provider,this._offlineComponentProvider={build:n=>new zD(n,t?.cacheSizeBytes,this.forceOwnership)}}}function oC(a){return new sC(a?.forceOwnership)}class pu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _s extends Ab{constructor(t,n,i,s,l,c){super(t,n,i,s,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(vp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=_s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:Je("string",_s._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class qf extends _s{data(t={}){return super.data(t)}}class Po{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new pu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new qf(this._firestore,this._userDataWriter,i.key,i,new pu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const g=new qf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new pu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new qf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new pu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:lC(d.type),doc:g,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:a})}}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:Je("string",Po._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};function uC(a){a=ba(a,rn);const t=ba(a.firestore,nl),n=pp(t);return jD(n,a._key).then((i=>dC(t,a,i)))}function cC(a){a=ba(a,Ph);const t=ba(a.firestore,nl),n=pp(t),i=new bb(t);return rC(a._query),FD(n,a._query).then((s=>new Po(t,i,a,s)))}function fC(a,t,n){a=ba(a,rn);const i=ba(a.firestore,nl),s=Sb(a.converter,t),l=pb(i);return _p(i,[yb(l,"setDoc",a._key,s,a.converter!==null,n).toMutation(a._key,Nn.none())])}function wb(a){return _p(ba(a.firestore,nl),[new Dh(a._key,Nn.none())])}function hC(a,t){const n=ba(a.firestore,nl),i=Ju(a),s=Sb(a.converter,t),l=pb(a.firestore);return _p(n,[yb(l,"addDoc",i._key,s,a.converter!==null,{}).toMutation(i._key,Nn.exists(!1))]).then((()=>i))}function _p(a,t){const n=pp(a);return qD(n,t)}function dC(a,t,n){const i=n.docs.get(t._key),s=new bb(a);return new _s(a,s,t._key,i,new pu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Aw(uw),Yf(new Iu("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new nl(new Iw(i.getProvider("auth-internal")),new Cw(c,i.getProvider("app-check-internal")),gI(c,s),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Mo(x1,V1,t),Mo(x1,V1,"esm2020")})();const Ib={apiKey:"AIzaSyDm53ojMBFXyUdQyf_-p2y4vr6iF7hZkNA",authDomain:"gastosabuelo.firebaseapp.com",projectId:"gastosabuelo",storageBucket:"gastosabuelo.firebasestorage.app",messagingSenderId:"856217062498",appId:"1:856217062498:web:d80e9d2af5516d4bcf153b",measurementId:"G-9E2TC7DBE4"};Ib.projectId||console.error("Firebase Auth Config Missing! Check your .env file or GitHub Secrets.");const mC=cw(Ib),Uo=YD(mC,{localCache:aC({tabManager:void 0})});function gC(a,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(i){if(i!=="default"&&!(i in a)){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(a,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}}))})),Object.freeze(a)}function Rb(a,t){return new Promise((function(n,i){let s;return pC(a).then((function(l){try{return s=l,n(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(c){return i(c)}}),i)}))}const pC=a=>new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(({target:{result:s}})=>{const l=new DataView(s);let c=0;if(l.getUint16(c)!==65496)return n("not a valid JPEG");for(c+=2;;){const d=l.getUint16(c);if(d===65498)break;const g=l.getUint16(c+2);if(d===65505&&l.getUint32(c+4)===1165519206){const p=c+10;let y;switch(l.getUint16(p)){case 18761:y=!0;break;case 19789:y=!1;break;default:return n("TIFF header contains invalid endian")}if(l.getUint16(p+2,y)!==42)return n("TIFF header contains invalid version");const v=l.getUint32(p+4,y),E=p+v+2+12*l.getUint16(p+v,y);for(let w=p+v+2;w<E;w+=12)if(l.getUint16(w,y)==274){if(l.getUint16(w+2,y)!==3)return n("Orientation data type is invalid");if(l.getUint32(w+4,y)!==1)return n("Orientation data count is invalid");l.setUint16(w+8,1,y);break}return t(s.slice(c,c+2+g))}c+=2+g}return t(new Blob)})),i.readAsArrayBuffer(a)}));var fh={},yC={get exports(){return fh},set exports(a){fh=a}};(function(a){var t,n,i={};yC.exports=i,i.parse=function(s,l){for(var c=i.bin.readUshort,d=i.bin.readUint,g=0,p={},y=new Uint8Array(s),v=y.length-4;d(y,v)!=101010256;)v--;g=v,g+=4;var E=c(y,g+=4);c(y,g+=2);var w=d(y,g+=2),M=d(y,g+=4);g+=4,g=M;for(var z=0;z<E;z++){d(y,g),g+=4,g+=4,g+=4,d(y,g+=4),w=d(y,g+=4);var k=d(y,g+=4),L=c(y,g+=4),nt=c(y,g+2),Q=c(y,g+4);g+=6;var Y=d(y,g+=8);g+=4,g+=L+nt+Q,i._readLocal(y,Y,p,w,k,l)}return p},i._readLocal=function(s,l,c,d,g,p){var y=i.bin.readUshort,v=i.bin.readUint;v(s,l),y(s,l+=4),y(s,l+=2);var E=y(s,l+=2);v(s,l+=2),v(s,l+=4),l+=4;var w=y(s,l+=8),M=y(s,l+=2);l+=2;var z=i.bin.readUTF8(s,l,w);if(l+=w,l+=M,p)c[z]={size:g,csize:d};else{var k=new Uint8Array(s.buffer,l);if(E==0)c[z]=new Uint8Array(k.buffer.slice(l,l+d));else{if(E!=8)throw"unknown compression method: "+E;var L=new Uint8Array(g);i.inflateRaw(k,L),c[z]=L}}},i.inflateRaw=function(s,l){return i.F.inflate(s,l)},i.inflate=function(s,l){return s[0],s[1],i.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),l)},i.deflate=function(s,l){l==null&&(l={level:6});var c=0,d=new Uint8Array(50+Math.floor(1.1*s.length));d[c]=120,d[c+1]=156,c+=2,c=i.F.deflateRaw(s,d,c,l.level);var g=i.adler(s,0,s.length);return d[c+0]=g>>>24&255,d[c+1]=g>>>16&255,d[c+2]=g>>>8&255,d[c+3]=g>>>0&255,new Uint8Array(d.buffer,0,c+4)},i.deflateRaw=function(s,l){l==null&&(l={level:6});var c=new Uint8Array(50+Math.floor(1.1*s.length)),d=i.F.deflateRaw(s,c,d,l.level);return new Uint8Array(c.buffer,0,d)},i.encode=function(s,l){l==null&&(l=!1);var c=0,d=i.bin.writeUint,g=i.bin.writeUshort,p={};for(var y in s){var v=!i._noNeed(y)&&!l,E=s[y],w=i.crc.crc(E,0,E.length);p[y]={cpr:v,usize:E.length,crc:w,file:v?i.deflateRaw(E):E}}for(var y in p)c+=p[y].file.length+30+46+2*i.bin.sizeUTF8(y);c+=22;var M=new Uint8Array(c),z=0,k=[];for(var y in p){var L=p[y];k.push(z),z=i._writeHeader(M,z,y,L,0)}var nt=0,Q=z;for(var y in p)L=p[y],k.push(z),z=i._writeHeader(M,z,y,L,1,k[nt++]);var Y=z-Q;return d(M,z,101010256),z+=4,g(M,z+=4,nt),g(M,z+=2,nt),d(M,z+=2,Y),d(M,z+=4,Q),z+=4,z+=2,M.buffer},i._noNeed=function(s){var l=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},i._writeHeader=function(s,l,c,d,g,p){var y=i.bin.writeUint,v=i.bin.writeUshort,E=d.file;return y(s,l,g==0?67324752:33639248),l+=4,g==1&&(l+=2),v(s,l,20),v(s,l+=2,0),v(s,l+=2,d.cpr?8:0),y(s,l+=2,0),y(s,l+=4,d.crc),y(s,l+=4,E.length),y(s,l+=4,d.usize),v(s,l+=4,i.bin.sizeUTF8(c)),v(s,l+=2,0),l+=2,g==1&&(l+=2,l+=2,y(s,l+=6,p),l+=4),l+=i.bin.writeUTF8(s,l,c),g==0&&(s.set(E,l),l+=E.length),l},i.crc={table:(function(){for(var s=new Uint32Array(256),l=0;l<256;l++){for(var c=l,d=0;d<8;d++)1&c?c=3988292384^c>>>1:c>>>=1;s[l]=c}return s})(),update:function(s,l,c,d){for(var g=0;g<d;g++)s=i.crc.table[255&(s^l[c+g])]^s>>>8;return s},crc:function(s,l,c){return 4294967295^i.crc.update(4294967295,s,l,c)}},i.adler=function(s,l,c){for(var d=1,g=0,p=l,y=l+c;p<y;){for(var v=Math.min(p+5552,y);p<v;)g+=d+=s[p++];d%=65521,g%=65521}return g<<16|d},i.bin={readUshort:function(s,l){return s[l]|s[l+1]<<8},writeUshort:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255},readUint:function(s,l){return 16777216*s[l+3]+(s[l+2]<<16|s[l+1]<<8|s[l])},writeUint:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255,s[l+2]=c>>16&255,s[l+3]=c>>24&255},readASCII:function(s,l,c){for(var d="",g=0;g<c;g++)d+=String.fromCharCode(s[l+g]);return d},writeASCII:function(s,l,c){for(var d=0;d<c.length;d++)s[l+d]=c.charCodeAt(d)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,l,c){for(var d,g="",p=0;p<c;p++)g+="%"+i.bin.pad(s[l+p].toString(16));try{d=decodeURIComponent(g)}catch{return i.bin.readASCII(s,l,c)}return d},writeUTF8:function(s,l,c){for(var d=c.length,g=0,p=0;p<d;p++){var y=c.charCodeAt(p);if((4294967168&y)==0)s[l+g]=y,g++;else if((4294965248&y)==0)s[l+g]=192|y>>6,s[l+g+1]=128|y>>0&63,g+=2;else if((4294901760&y)==0)s[l+g]=224|y>>12,s[l+g+1]=128|y>>6&63,s[l+g+2]=128|y>>0&63,g+=3;else{if((4292870144&y)!=0)throw"e";s[l+g]=240|y>>18,s[l+g+1]=128|y>>12&63,s[l+g+2]=128|y>>6&63,s[l+g+3]=128|y>>0&63,g+=4}}return g},sizeUTF8:function(s){for(var l=s.length,c=0,d=0;d<l;d++){var g=s.charCodeAt(d);if((4294967168&g)==0)c++;else if((4294965248&g)==0)c+=2;else if((4294901760&g)==0)c+=3;else{if((4292870144&g)!=0)throw"e";c+=4}}return c}},i.F={},i.F.deflateRaw=function(s,l,c,d){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],p=i.F.U,y=i.F._goodIndex;i.F._hash;var v=i.F._putsE,E=0,w=c<<3,M=0,z=s.length;if(d==0){for(;E<z;)v(l,w,E+(C=Math.min(65535,z-E))==z?1:0),w=i.F._copyExact(s,E,C,l,w+8),E+=C;return w>>>3}var k=p.lits,L=p.strt,nt=p.prev,Q=0,Y=0,at=0,B=0,V=0,T=0;for(z>2&&(L[T=i.F._hash(s,0)]=0),E=0;E<z;E++){if(V=T,E+1<z-2){T=i.F._hash(s,E+1);var A=E+1&32767;nt[A]=L[T],L[T]=A}if(M<=E){(Q>14e3||Y>26697)&&z-E>100&&(M<E&&(k[Q]=E-M,Q+=2,M=E),w=i.F._writeBlock(E==z-1||M==z?1:0,k,Q,B,s,at,E-at,l,w),Q=Y=B=0,at=E);var x=0;E<z-2&&(x=i.F._bestMatch(s,E,nt,V,Math.min(g[2],z-E),g[3]));var C=x>>>16,N=65535&x;if(x!=0){N=65535&x;var D=y(C=x>>>16,p.of0);p.lhst[257+D]++;var q=y(N,p.df0);p.dhst[q]++,B+=p.exb[D]+p.dxb[q],k[Q]=C<<23|E-M,k[Q+1]=N<<16|D<<8|q,Q+=2,M=E+C}else p.lhst[s[E]]++;Y++}}for(at==E&&s.length!=0||(M<E&&(k[Q]=E-M,Q+=2,M=E),w=i.F._writeBlock(1,k,Q,B,s,at,E-at,l,w),Q=0,Y=0,Q=Y=B=0,at=E);(7&w)!=0;)w++;return w>>>3},i.F._bestMatch=function(s,l,c,d,g,p){var y=32767&l,v=c[y],E=y-v+32768&32767;if(v==y||d!=i.F._hash(s,l-E))return 0;for(var w=0,M=0,z=Math.min(32767,l);E<=z&&--p!=0&&v!=y;){if(w==0||s[l+w]==s[l+w-E]){var k=i.F._howLong(s,l,E);if(k>w){if(M=E,(w=k)>=g)break;E+2<k&&(k=E+2);for(var L=0,nt=0;nt<k-2;nt++){var Q=l-E+nt+32768&32767,Y=Q-c[Q]+32768&32767;Y>L&&(L=Y,v=Q)}}}E+=(y=v)-(v=c[y])+32768&32767}return w<<16|M},i.F._howLong=function(s,l,c){if(s[l]!=s[l-c]||s[l+1]!=s[l+1-c]||s[l+2]!=s[l+2-c])return 0;var d=l,g=Math.min(s.length,l+258);for(l+=3;l<g&&s[l]==s[l-c];)l++;return l-d},i.F._hash=function(s,l){return(s[l]<<8|s[l+1])+(s[l+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(s,l,c,d,g,p,y,v,E){var w,M,z,k,L,nt,Q,Y,at,B=i.F.U,V=i.F._putsF,T=i.F._putsE;B.lhst[256]++,M=(w=i.F.getTrees())[0],z=w[1],k=w[2],L=w[3],nt=w[4],Q=w[5],Y=w[6],at=w[7];var A=32+((E+3&7)==0?0:8-(E+3&7))+(y<<3),x=d+i.F.contSize(B.fltree,B.lhst)+i.F.contSize(B.fdtree,B.dhst),C=d+i.F.contSize(B.ltree,B.lhst)+i.F.contSize(B.dtree,B.dhst);C+=14+3*Q+i.F.contSize(B.itree,B.ihst)+(2*B.ihst[16]+3*B.ihst[17]+7*B.ihst[18]);for(var N=0;N<286;N++)B.lhst[N]=0;for(N=0;N<30;N++)B.dhst[N]=0;for(N=0;N<19;N++)B.ihst[N]=0;var D=A<x&&A<C?0:x<C?1:2;if(V(v,E,s),V(v,E+1,D),E+=3,D==0){for(;(7&E)!=0;)E++;E=i.F._copyExact(g,p,y,v,E)}else{var q,W;if(D==1&&(q=B.fltree,W=B.fdtree),D==2){i.F.makeCodes(B.ltree,M),i.F.revCodes(B.ltree,M),i.F.makeCodes(B.dtree,z),i.F.revCodes(B.dtree,z),i.F.makeCodes(B.itree,k),i.F.revCodes(B.itree,k),q=B.ltree,W=B.dtree,T(v,E,L-257),T(v,E+=5,nt-1),T(v,E+=5,Q-4),E+=4;for(var I=0;I<Q;I++)T(v,E+3*I,B.itree[1+(B.ordr[I]<<1)]);E+=3*Q,E=i.F._codeTiny(Y,B.itree,v,E),E=i.F._codeTiny(at,B.itree,v,E)}for(var R=p,K=0;K<c;K+=2){for(var G=l[K],J=G>>>23,U=R+(8388607&G);R<U;)E=i.F._writeLit(g[R++],q,v,E);if(J!=0){var F=l[K+1],ot=F>>16,et=F>>8&255,Z=255&F;T(v,E=i.F._writeLit(257+et,q,v,E),J-B.of0[et]),E+=B.exb[et],V(v,E=i.F._writeLit(Z,W,v,E),ot-B.df0[Z]),E+=B.dxb[Z],R+=J}}E=i.F._writeLit(256,q,v,E)}return E},i.F._copyExact=function(s,l,c,d,g){var p=g>>>3;return d[p]=c,d[p+1]=c>>>8,d[p+2]=255-d[p],d[p+3]=255-d[p+1],p+=4,d.set(new Uint8Array(s.buffer,l,c),p),g+(c+4<<3)},i.F.getTrees=function(){for(var s=i.F.U,l=i.F._hufTree(s.lhst,s.ltree,15),c=i.F._hufTree(s.dhst,s.dtree,15),d=[],g=i.F._lenCodes(s.ltree,d),p=[],y=i.F._lenCodes(s.dtree,p),v=0;v<d.length;v+=2)s.ihst[d[v]]++;for(v=0;v<p.length;v+=2)s.ihst[p[v]]++;for(var E=i.F._hufTree(s.ihst,s.itree,7),w=19;w>4&&s.itree[1+(s.ordr[w-1]<<1)]==0;)w--;return[l,c,E,g,y,w,d,p]},i.F.getSecond=function(s){for(var l=[],c=0;c<s.length;c+=2)l.push(s[c+1]);return l},i.F.nonZero=function(s){for(var l="",c=0;c<s.length;c+=2)s[c+1]!=0&&(l+=(c>>1)+",");return l},i.F.contSize=function(s,l){for(var c=0,d=0;d<l.length;d++)c+=l[d]*s[1+(d<<1)];return c},i.F._codeTiny=function(s,l,c,d){for(var g=0;g<s.length;g+=2){var p=s[g],y=s[g+1];d=i.F._writeLit(p,l,c,d);var v=p==16?2:p==17?3:7;p>15&&(i.F._putsE(c,d,y,v),d+=v)}return d},i.F._lenCodes=function(s,l){for(var c=s.length;c!=2&&s[c-1]==0;)c-=2;for(var d=0;d<c;d+=2){var g=s[d+1],p=d+3<c?s[d+3]:-1,y=d+5<c?s[d+5]:-1,v=d==0?-1:s[d-1];if(g==0&&p==g&&y==g){for(var E=d+5;E+2<c&&s[E+2]==g;)E+=2;(w=Math.min(E+1-d>>>1,138))<11?l.push(17,w-3):l.push(18,w-11),d+=2*w-2}else if(g==v&&p==g&&y==g){for(E=d+5;E+2<c&&s[E+2]==g;)E+=2;var w=Math.min(E+1-d>>>1,6);l.push(16,w-3),d+=2*w-2}else l.push(g,0)}return c>>>1},i.F._hufTree=function(s,l,c){var d=[],g=s.length,p=l.length,y=0;for(y=0;y<p;y+=2)l[y]=0,l[y+1]=0;for(y=0;y<g;y++)s[y]!=0&&d.push({lit:y,f:s[y]});var v=d.length,E=d.slice(0);if(v==0)return 0;if(v==1){var w=d[0].lit;return E=w==0?1:0,l[1+(w<<1)]=1,l[1+(E<<1)]=1,1}d.sort((function(Y,at){return Y.f-at.f}));var M=d[0],z=d[1],k=0,L=1,nt=2;for(d[0]={lit:-1,f:M.f+z.f,l:M,r:z,d:0};L!=v-1;)M=k!=L&&(nt==v||d[k].f<d[nt].f)?d[k++]:d[nt++],z=k!=L&&(nt==v||d[k].f<d[nt].f)?d[k++]:d[nt++],d[L++]={lit:-1,f:M.f+z.f,l:M,r:z};var Q=i.F.setDepth(d[L-1],0);for(Q>c&&(i.F.restrictDepth(E,c,Q),Q=c),y=0;y<v;y++)l[1+(E[y].lit<<1)]=E[y].d;return Q},i.F.setDepth=function(s,l){return s.lit!=-1?(s.d=l,l):Math.max(i.F.setDepth(s.l,l+1),i.F.setDepth(s.r,l+1))},i.F.restrictDepth=function(s,l,c){var d=0,g=1<<c-l,p=0;for(s.sort((function(v,E){return E.d==v.d?v.f-E.f:E.d-v.d})),d=0;d<s.length&&s[d].d>l;d++){var y=s[d].d;s[d].d=l,p+=g-(1<<c-y)}for(p>>>=c-l;p>0;)(y=s[d].d)<l?(s[d].d++,p-=1<<l-y-1):d++;for(;d>=0;d--)s[d].d==l&&p<0&&(s[d].d--,p++);p!=0&&console.log("debt left")},i.F._goodIndex=function(s,l){var c=0;return l[16|c]<=s&&(c|=16),l[8|c]<=s&&(c|=8),l[4|c]<=s&&(c|=4),l[2|c]<=s&&(c|=2),l[1|c]<=s&&(c|=1),c},i.F._writeLit=function(s,l,c,d){return i.F._putsF(c,d,l[s<<1]),d+l[1+(s<<1)]},i.F.inflate=function(s,l){var c=Uint8Array;if(s[0]==3&&s[1]==0)return l||new c(0);var d=i.F,g=d._bitsF,p=d._bitsE,y=d._decodeTiny,v=d.makeCodes,E=d.codes2map,w=d._get17,M=d.U,z=l==null;z&&(l=new c(s.length>>>2<<3));for(var k,L,nt=0,Q=0,Y=0,at=0,B=0,V=0,T=0,A=0,x=0;nt==0;)if(nt=g(s,x,1),Q=g(s,x+1,2),x+=3,Q!=0){if(z&&(l=i.F._check(l,A+(1<<17))),Q==1&&(k=M.flmap,L=M.fdmap,V=511,T=31),Q==2){Y=p(s,x,5)+257,at=p(s,x+5,5)+1,B=p(s,x+10,4)+4,x+=14;for(var C=0;C<38;C+=2)M.itree[C]=0,M.itree[C+1]=0;var N=1;for(C=0;C<B;C++){var D=p(s,x+3*C,3);M.itree[1+(M.ordr[C]<<1)]=D,D>N&&(N=D)}x+=3*B,v(M.itree,N),E(M.itree,N,M.imap),k=M.lmap,L=M.dmap,x=y(M.imap,(1<<N)-1,Y+at,s,x,M.ttree);var q=d._copyOut(M.ttree,0,Y,M.ltree);V=(1<<q)-1;var W=d._copyOut(M.ttree,Y,at,M.dtree);T=(1<<W)-1,v(M.ltree,q),E(M.ltree,q,k),v(M.dtree,W),E(M.dtree,W,L)}for(;;){var I=k[w(s,x)&V];x+=15&I;var R=I>>>4;if(!(R>>>8))l[A++]=R;else{if(R==256)break;var K=A+R-254;if(R>264){var G=M.ldef[R-257];K=A+(G>>>3)+p(s,x,7&G),x+=7&G}var J=L[w(s,x)&T];x+=15&J;var U=J>>>4,F=M.ddef[U],ot=(F>>>4)+g(s,x,15&F);for(x+=15&F,z&&(l=i.F._check(l,A+(1<<17)));A<K;)l[A]=l[A++-ot],l[A]=l[A++-ot],l[A]=l[A++-ot],l[A]=l[A++-ot];A=K}}}else{(7&x)!=0&&(x+=8-(7&x));var et=4+(x>>>3),Z=s[et-4]|s[et-3]<<8;z&&(l=i.F._check(l,A+Z)),l.set(new c(s.buffer,s.byteOffset+et,Z),A),x=et+Z<<3,A+=Z}return l.length==A?l:l.slice(0,A)},i.F._check=function(s,l){var c=s.length;if(l<=c)return s;var d=new Uint8Array(Math.max(c<<1,l));return d.set(s,0),d},i.F._decodeTiny=function(s,l,c,d,g,p){for(var y=i.F._bitsE,v=i.F._get17,E=0;E<c;){var w=s[v(d,g)&l];g+=15&w;var M=w>>>4;if(M<=15)p[E]=M,E++;else{var z=0,k=0;M==16?(k=3+y(d,g,2),g+=2,z=p[E-1]):M==17?(k=3+y(d,g,3),g+=3):M==18&&(k=11+y(d,g,7),g+=7);for(var L=E+k;E<L;)p[E]=z,E++}}return g},i.F._copyOut=function(s,l,c,d){for(var g=0,p=0,y=d.length>>>1;p<c;){var v=s[p+l];d[p<<1]=0,d[1+(p<<1)]=v,v>g&&(g=v),p++}for(;p<y;)d[p<<1]=0,d[1+(p<<1)]=0,p++;return g},i.F.makeCodes=function(s,l){for(var c,d,g,p,y=i.F.U,v=s.length,E=y.bl_count,w=0;w<=l;w++)E[w]=0;for(w=1;w<v;w+=2)E[s[w]]++;var M=y.next_code;for(c=0,E[0]=0,d=1;d<=l;d++)c=c+E[d-1]<<1,M[d]=c;for(g=0;g<v;g+=2)(p=s[g+1])!=0&&(s[g]=M[p],M[p]++)},i.F.codes2map=function(s,l,c){for(var d=s.length,g=i.F.U.rev15,p=0;p<d;p+=2)if(s[p+1]!=0)for(var y=p>>1,v=s[p+1],E=y<<4|v,w=l-v,M=s[p]<<w,z=M+(1<<w);M!=z;)c[g[M]>>>15-l]=E,M++},i.F.revCodes=function(s,l){for(var c=i.F.U.rev15,d=15-l,g=0;g<s.length;g+=2){var p=s[g]<<l-s[g+1];s[g]=c[p]>>>d}},i.F._putsE=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8},i.F._putsF=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8,s[d+2]|=c>>>16},i.F._bitsE=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8)>>>(7&l)&(1<<c)-1},i.F._bitsF=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)&(1<<c)-1},i.F._get17=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)},i.F._get25=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16|s[3+(l>>>3)]<<24)>>>(7&l)},i.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var s=i.F.U,l=0;l<32768;l++){var c=l;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,s.rev15[l]=(c>>>16|c<<16)>>>17}function d(g,p,y){for(;p--!=0;)g.push(0,y)}for(l=0;l<32;l++)s.ldef[l]=s.of0[l]<<3|s.exb[l],s.ddef[l]=s.df0[l]<<4|s.dxb[l];d(s.fltree,144,8),d(s.fltree,112,9),d(s.fltree,24,7),d(s.fltree,8,8),i.F.makeCodes(s.fltree,9),i.F.codes2map(s.fltree,9,s.flmap),i.F.revCodes(s.fltree,9),d(s.fdtree,32,5),i.F.makeCodes(s.fdtree,5),i.F.codes2map(s.fdtree,5,s.fdmap),i.F.revCodes(s.fdtree,5),d(s.itree,19,0),d(s.ltree,286,0),d(s.dtree,30,0),d(s.ttree,320,0)})()})();var vC=gC({__proto__:null,default:fh},[fh]);const Vr=(function(){var a={nextZero(y,v){for(;y[v]!=0;)v++;return v},readUshort:(y,v)=>y[v]<<8|y[v+1],writeUshort(y,v,E){y[v]=E>>8&255,y[v+1]=255&E},readUint:(y,v)=>16777216*y[v]+(y[v+1]<<16|y[v+2]<<8|y[v+3]),writeUint(y,v,E){y[v]=E>>24&255,y[v+1]=E>>16&255,y[v+2]=E>>8&255,y[v+3]=255&E},readASCII(y,v,E){let w="";for(let M=0;M<E;M++)w+=String.fromCharCode(y[v+M]);return w},writeASCII(y,v,E){for(let w=0;w<E.length;w++)y[v+w]=E.charCodeAt(w)},readBytes(y,v,E){const w=[];for(let M=0;M<E;M++)w.push(y[v+M]);return w},pad:y=>y.length<2?`0${y}`:y,readUTF8(y,v,E){let w,M="";for(let z=0;z<E;z++)M+=`%${a.pad(y[v+z].toString(16))}`;try{w=decodeURIComponent(M)}catch{return a.readASCII(y,v,E)}return w}};function t(y,v,E,w){const M=v*E,z=l(w),k=Math.ceil(v*z/8),L=new Uint8Array(4*M),nt=new Uint32Array(L.buffer),{ctype:Q}=w,{depth:Y}=w,at=a.readUshort;if(Q==6){const G=M<<2;if(Y==8)for(var B=0;B<G;B+=4)L[B]=y[B],L[B+1]=y[B+1],L[B+2]=y[B+2],L[B+3]=y[B+3];if(Y==16)for(B=0;B<G;B++)L[B]=y[B<<1]}else if(Q==2){const G=w.tabs.tRNS;if(G==null){if(Y==8)for(B=0;B<M;B++){var V=3*B;nt[B]=255<<24|y[V+2]<<16|y[V+1]<<8|y[V]}if(Y==16)for(B=0;B<M;B++)V=6*B,nt[B]=255<<24|y[V+4]<<16|y[V+2]<<8|y[V]}else{var T=G[0];const J=G[1],U=G[2];if(Y==8)for(B=0;B<M;B++){var A=B<<2;V=3*B,nt[B]=255<<24|y[V+2]<<16|y[V+1]<<8|y[V],y[V]==T&&y[V+1]==J&&y[V+2]==U&&(L[A+3]=0)}if(Y==16)for(B=0;B<M;B++)A=B<<2,V=6*B,nt[B]=255<<24|y[V+4]<<16|y[V+2]<<8|y[V],at(y,V)==T&&at(y,V+2)==J&&at(y,V+4)==U&&(L[A+3]=0)}}else if(Q==3){const G=w.tabs.PLTE,J=w.tabs.tRNS,U=J?J.length:0;if(Y==1)for(var x=0;x<E;x++){var C=x*k,N=x*v;for(B=0;B<v;B++){A=N+B<<2;var D=3*(q=y[C+(B>>3)]>>7-((7&B)<<0)&1);L[A]=G[D],L[A+1]=G[D+1],L[A+2]=G[D+2],L[A+3]=q<U?J[q]:255}}if(Y==2)for(x=0;x<E;x++)for(C=x*k,N=x*v,B=0;B<v;B++)A=N+B<<2,D=3*(q=y[C+(B>>2)]>>6-((3&B)<<1)&3),L[A]=G[D],L[A+1]=G[D+1],L[A+2]=G[D+2],L[A+3]=q<U?J[q]:255;if(Y==4)for(x=0;x<E;x++)for(C=x*k,N=x*v,B=0;B<v;B++)A=N+B<<2,D=3*(q=y[C+(B>>1)]>>4-((1&B)<<2)&15),L[A]=G[D],L[A+1]=G[D+1],L[A+2]=G[D+2],L[A+3]=q<U?J[q]:255;if(Y==8)for(B=0;B<M;B++){var q;A=B<<2,D=3*(q=y[B]),L[A]=G[D],L[A+1]=G[D+1],L[A+2]=G[D+2],L[A+3]=q<U?J[q]:255}}else if(Q==4){if(Y==8)for(B=0;B<M;B++){A=B<<2;var W=y[I=B<<1];L[A]=W,L[A+1]=W,L[A+2]=W,L[A+3]=y[I+1]}if(Y==16)for(B=0;B<M;B++){var I;A=B<<2,W=y[I=B<<2],L[A]=W,L[A+1]=W,L[A+2]=W,L[A+3]=y[I+2]}}else if(Q==0)for(T=w.tabs.tRNS?w.tabs.tRNS:-1,x=0;x<E;x++){const G=x*k,J=x*v;if(Y==1)for(var R=0;R<v;R++){var K=(W=255*(y[G+(R>>>3)]>>>7-(7&R)&1))==255*T?0:255;nt[J+R]=K<<24|W<<16|W<<8|W}else if(Y==2)for(R=0;R<v;R++)K=(W=85*(y[G+(R>>>2)]>>>6-((3&R)<<1)&3))==85*T?0:255,nt[J+R]=K<<24|W<<16|W<<8|W;else if(Y==4)for(R=0;R<v;R++)K=(W=17*(y[G+(R>>>1)]>>>4-((1&R)<<2)&15))==17*T?0:255,nt[J+R]=K<<24|W<<16|W<<8|W;else if(Y==8)for(R=0;R<v;R++)K=(W=y[G+R])==T?0:255,nt[J+R]=K<<24|W<<16|W<<8|W;else if(Y==16)for(R=0;R<v;R++)W=y[G+(R<<1)],K=at(y,G+(R<<1))==T?0:255,nt[J+R]=K<<24|W<<16|W<<8|W}return L}function n(y,v,E,w){const M=l(y),z=Math.ceil(E*M/8),k=new Uint8Array((z+1+y.interlace)*w);return v=y.tabs.CgBI?s(v,k):i(v,k),y.interlace==0?v=c(v,y,0,E,w):y.interlace==1&&(v=(function(nt,Q){const Y=Q.width,at=Q.height,B=l(Q),V=B>>3,T=Math.ceil(Y*B/8),A=new Uint8Array(at*T);let x=0;const C=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],D=[8,8,8,4,4,2,2],q=[8,8,4,4,2,2,1];let W=0;for(;W<7;){const R=D[W],K=q[W];let G=0,J=0,U=C[W];for(;U<at;)U+=R,J++;let F=N[W];for(;F<Y;)F+=K,G++;const ot=Math.ceil(G*B/8);c(nt,Q,x,G,J);let et=0,Z=C[W];for(;Z<at;){let pt=N[W],St=x+et*ot<<3;for(;pt<Y;){var I;if(B==1&&(I=(I=nt[St>>3])>>7-(7&St)&1,A[Z*T+(pt>>3)]|=I<<7-((7&pt)<<0)),B==2&&(I=(I=nt[St>>3])>>6-(7&St)&3,A[Z*T+(pt>>2)]|=I<<6-((3&pt)<<1)),B==4&&(I=(I=nt[St>>3])>>4-(7&St)&15,A[Z*T+(pt>>1)]|=I<<4-((1&pt)<<2)),B>=8){const Nt=Z*T+pt*V;for(let Ct=0;Ct<V;Ct++)A[Nt+Ct]=nt[(St>>3)+Ct]}St+=B,pt+=K}et++,Z+=R}G*J!=0&&(x+=J*(1+ot)),W+=1}return A})(v,y)),v}function i(y,v){return s(new Uint8Array(y.buffer,2,y.length-6),v)}var s=(function(){const y={H:{}};return y.H.N=function(v,E){const w=Uint8Array;let M,z,k=0,L=0,nt=0,Q=0,Y=0,at=0,B=0,V=0,T=0;if(v[0]==3&&v[1]==0)return E||new w(0);const A=y.H,x=A.b,C=A.e,N=A.R,D=A.n,q=A.A,W=A.Z,I=A.m,R=E==null;for(R&&(E=new w(v.length>>>2<<5));k==0;)if(k=x(v,T,1),L=x(v,T+1,2),T+=3,L!=0){if(R&&(E=y.H.W(E,V+(1<<17))),L==1&&(M=I.J,z=I.h,at=511,B=31),L==2){nt=C(v,T,5)+257,Q=C(v,T+5,5)+1,Y=C(v,T+10,4)+4,T+=14;let G=1;for(var K=0;K<38;K+=2)I.Q[K]=0,I.Q[K+1]=0;for(K=0;K<Y;K++){const F=C(v,T+3*K,3);I.Q[1+(I.X[K]<<1)]=F,F>G&&(G=F)}T+=3*Y,D(I.Q,G),q(I.Q,G,I.u),M=I.w,z=I.d,T=N(I.u,(1<<G)-1,nt+Q,v,T,I.v);const J=A.V(I.v,0,nt,I.C);at=(1<<J)-1;const U=A.V(I.v,nt,Q,I.D);B=(1<<U)-1,D(I.C,J),q(I.C,J,M),D(I.D,U),q(I.D,U,z)}for(;;){const G=M[W(v,T)&at];T+=15&G;const J=G>>>4;if(!(J>>>8))E[V++]=J;else{if(J==256)break;{let U=V+J-254;if(J>264){const pt=I.q[J-257];U=V+(pt>>>3)+C(v,T,7&pt),T+=7&pt}const F=z[W(v,T)&B];T+=15&F;const ot=F>>>4,et=I.c[ot],Z=(et>>>4)+x(v,T,15&et);for(T+=15&et;V<U;)E[V]=E[V++-Z],E[V]=E[V++-Z],E[V]=E[V++-Z],E[V]=E[V++-Z];V=U}}}}else{(7&T)!=0&&(T+=8-(7&T));const G=4+(T>>>3),J=v[G-4]|v[G-3]<<8;R&&(E=y.H.W(E,V+J)),E.set(new w(v.buffer,v.byteOffset+G,J),V),T=G+J<<3,V+=J}return E.length==V?E:E.slice(0,V)},y.H.W=function(v,E){const w=v.length;if(E<=w)return v;const M=new Uint8Array(w<<1);return M.set(v,0),M},y.H.R=function(v,E,w,M,z,k){const L=y.H.e,nt=y.H.Z;let Q=0;for(;Q<w;){const Y=v[nt(M,z)&E];z+=15&Y;const at=Y>>>4;if(at<=15)k[Q]=at,Q++;else{let B=0,V=0;at==16?(V=3+L(M,z,2),z+=2,B=k[Q-1]):at==17?(V=3+L(M,z,3),z+=3):at==18&&(V=11+L(M,z,7),z+=7);const T=Q+V;for(;Q<T;)k[Q]=B,Q++}}return z},y.H.V=function(v,E,w,M){let z=0,k=0;const L=M.length>>>1;for(;k<w;){const nt=v[k+E];M[k<<1]=0,M[1+(k<<1)]=nt,nt>z&&(z=nt),k++}for(;k<L;)M[k<<1]=0,M[1+(k<<1)]=0,k++;return z},y.H.n=function(v,E){const w=y.H.m,M=v.length;let z,k,L,nt;const Q=w.j;for(var Y=0;Y<=E;Y++)Q[Y]=0;for(Y=1;Y<M;Y+=2)Q[v[Y]]++;const at=w.K;for(z=0,Q[0]=0,k=1;k<=E;k++)z=z+Q[k-1]<<1,at[k]=z;for(L=0;L<M;L+=2)nt=v[L+1],nt!=0&&(v[L]=at[nt],at[nt]++)},y.H.A=function(v,E,w){const M=v.length,z=y.H.m.r;for(let k=0;k<M;k+=2)if(v[k+1]!=0){const L=k>>1,nt=v[k+1],Q=L<<4|nt,Y=E-nt;let at=v[k]<<Y;const B=at+(1<<Y);for(;at!=B;)w[z[at]>>>15-E]=Q,at++}},y.H.l=function(v,E){const w=y.H.m.r,M=15-E;for(let z=0;z<v.length;z+=2){const k=v[z]<<E-v[z+1];v[z]=w[k]>>>M}},y.H.M=function(v,E,w){w<<=7&E;const M=E>>>3;v[M]|=w,v[M+1]|=w>>>8},y.H.I=function(v,E,w){w<<=7&E;const M=E>>>3;v[M]|=w,v[M+1]|=w>>>8,v[M+2]|=w>>>16},y.H.e=function(v,E,w){return(v[E>>>3]|v[1+(E>>>3)]<<8)>>>(7&E)&(1<<w)-1},y.H.b=function(v,E,w){return(v[E>>>3]|v[1+(E>>>3)]<<8|v[2+(E>>>3)]<<16)>>>(7&E)&(1<<w)-1},y.H.Z=function(v,E){return(v[E>>>3]|v[1+(E>>>3)]<<8|v[2+(E>>>3)]<<16)>>>(7&E)},y.H.i=function(v,E){return(v[E>>>3]|v[1+(E>>>3)]<<8|v[2+(E>>>3)]<<16|v[3+(E>>>3)]<<24)>>>(7&E)},y.H.m=(function(){const v=Uint16Array,E=Uint32Array;return{K:new v(16),j:new v(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new v(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new E(32),J:new v(512),_:[],h:new v(32),$:[],w:new v(32768),C:[],v:[],d:new v(32768),D:[],u:new v(512),Q:[],r:new v(32768),s:new E(286),Y:new E(30),a:new E(19),t:new E(15e3),k:new v(65536),g:new v(32768)}})(),(function(){const v=y.H.m;for(var E=0;E<32768;E++){let M=E;M=(2863311530&M)>>>1|(1431655765&M)<<1,M=(3435973836&M)>>>2|(858993459&M)<<2,M=(4042322160&M)>>>4|(252645135&M)<<4,M=(4278255360&M)>>>8|(16711935&M)<<8,v.r[E]=(M>>>16|M<<16)>>>17}function w(M,z,k){for(;z--!=0;)M.push(0,k)}for(E=0;E<32;E++)v.q[E]=v.S[E]<<3|v.T[E],v.c[E]=v.p[E]<<4|v.z[E];w(v._,144,8),w(v._,112,9),w(v._,24,7),w(v._,8,8),y.H.n(v._,9),y.H.A(v._,9,v.J),y.H.l(v._,9),w(v.$,32,5),y.H.n(v.$,5),y.H.A(v.$,5,v.h),y.H.l(v.$,5),w(v.Q,19,0),w(v.C,286,0),w(v.D,30,0),w(v.v,320,0)})(),y.H.N})();function l(y){return[1,null,3,1,2,null,4][y.ctype]*y.depth}function c(y,v,E,w,M){let z=l(v);const k=Math.ceil(w*z/8);let L,nt;z=Math.ceil(z/8);let Q=y[E],Y=0;if(Q>1&&(y[E]=[0,0,1][Q-2]),Q==3)for(Y=z;Y<k;Y++)y[Y+1]=y[Y+1]+(y[Y+1-z]>>>1)&255;for(let at=0;at<M;at++)if(L=E+at*k,nt=L+at+1,Q=y[nt-1],Y=0,Q==0)for(;Y<k;Y++)y[L+Y]=y[nt+Y];else if(Q==1){for(;Y<z;Y++)y[L+Y]=y[nt+Y];for(;Y<k;Y++)y[L+Y]=y[nt+Y]+y[L+Y-z]}else if(Q==2)for(;Y<k;Y++)y[L+Y]=y[nt+Y]+y[L+Y-k];else if(Q==3){for(;Y<z;Y++)y[L+Y]=y[nt+Y]+(y[L+Y-k]>>>1);for(;Y<k;Y++)y[L+Y]=y[nt+Y]+(y[L+Y-k]+y[L+Y-z]>>>1)}else{for(;Y<z;Y++)y[L+Y]=y[nt+Y]+d(0,y[L+Y-k],0);for(;Y<k;Y++)y[L+Y]=y[nt+Y]+d(y[L+Y-z],y[L+Y-k],y[L+Y-z-k])}return y}function d(y,v,E){const w=y+v-E,M=w-y,z=w-v,k=w-E;return M*M<=z*z&&M*M<=k*k?y:z*z<=k*k?v:E}function g(y,v,E){E.width=a.readUint(y,v),v+=4,E.height=a.readUint(y,v),v+=4,E.depth=y[v],v++,E.ctype=y[v],v++,E.compress=y[v],v++,E.filter=y[v],v++,E.interlace=y[v],v++}function p(y,v,E,w,M,z,k,L,nt){const Q=Math.min(v,M),Y=Math.min(E,z);let at=0,B=0;for(let W=0;W<Y;W++)for(let I=0;I<Q;I++)if(k>=0&&L>=0?(at=W*v+I<<2,B=(L+W)*M+k+I<<2):(at=(-L+W)*v-k+I<<2,B=W*M+I<<2),nt==0)w[B]=y[at],w[B+1]=y[at+1],w[B+2]=y[at+2],w[B+3]=y[at+3];else if(nt==1){var V=y[at+3]*.00392156862745098,T=y[at]*V,A=y[at+1]*V,x=y[at+2]*V,C=w[B+3]*(1/255),N=w[B]*C,D=w[B+1]*C,q=w[B+2]*C;const R=1-V,K=V+C*R,G=K==0?0:1/K;w[B+3]=255*K,w[B+0]=(T+N*R)*G,w[B+1]=(A+D*R)*G,w[B+2]=(x+q*R)*G}else if(nt==2)V=y[at+3],T=y[at],A=y[at+1],x=y[at+2],C=w[B+3],N=w[B],D=w[B+1],q=w[B+2],V==C&&T==N&&A==D&&x==q?(w[B]=0,w[B+1]=0,w[B+2]=0,w[B+3]=0):(w[B]=T,w[B+1]=A,w[B+2]=x,w[B+3]=V);else if(nt==3){if(V=y[at+3],T=y[at],A=y[at+1],x=y[at+2],C=w[B+3],N=w[B],D=w[B+1],q=w[B+2],V==C&&T==N&&A==D&&x==q)continue;if(V<220&&C>20)return!1}return!0}return{decode:function(v){const E=new Uint8Array(v);let w=8;const M=a,z=M.readUshort,k=M.readUint,L={tabs:{},frames:[]},nt=new Uint8Array(E.length);let Q,Y=0,at=0;const B=[137,80,78,71,13,10,26,10];for(var V=0;V<8;V++)if(E[V]!=B[V])throw"The input is not a PNG file!";for(;w<E.length;){const W=M.readUint(E,w);w+=4;const I=M.readASCII(E,w,4);if(w+=4,I=="IHDR")g(E,w,L);else if(I=="iCCP"){for(var T=w;E[T]!=0;)T++;M.readASCII(E,w,T-w),E[T+1];const R=E.slice(T+2,w+W);let K=null;try{K=i(R)}catch{K=s(R)}L.tabs[I]=K}else if(I=="CgBI")L.tabs[I]=E.slice(w,w+4);else if(I=="IDAT"){for(V=0;V<W;V++)nt[Y+V]=E[w+V];Y+=W}else if(I=="acTL")L.tabs[I]={num_frames:k(E,w),num_plays:k(E,w+4)},Q=new Uint8Array(E.length);else if(I=="fcTL"){at!=0&&((q=L.frames[L.frames.length-1]).data=n(L,Q.slice(0,at),q.rect.width,q.rect.height),at=0);const R={x:k(E,w+12),y:k(E,w+16),width:k(E,w+4),height:k(E,w+8)};let K=z(E,w+22);K=z(E,w+20)/(K==0?100:K);const G={rect:R,delay:Math.round(1e3*K),dispose:E[w+24],blend:E[w+25]};L.frames.push(G)}else if(I=="fdAT"){for(V=0;V<W-4;V++)Q[at+V]=E[w+V+4];at+=W-4}else if(I=="pHYs")L.tabs[I]=[M.readUint(E,w),M.readUint(E,w+4),E[w+8]];else if(I=="cHRM")for(L.tabs[I]=[],V=0;V<8;V++)L.tabs[I].push(M.readUint(E,w+4*V));else if(I=="tEXt"||I=="zTXt"){L.tabs[I]==null&&(L.tabs[I]={});var A=M.nextZero(E,w),x=M.readASCII(E,w,A-w),C=w+W-A-1;if(I=="tEXt")D=M.readASCII(E,A+1,C);else{var N=i(E.slice(A+2,A+2+C));D=M.readUTF8(N,0,N.length)}L.tabs[I][x]=D}else if(I=="iTXt"){L.tabs[I]==null&&(L.tabs[I]={}),A=0,T=w,A=M.nextZero(E,T),x=M.readASCII(E,T,A-T);const R=E[T=A+1];var D;E[T+1],T+=2,A=M.nextZero(E,T),M.readASCII(E,T,A-T),T=A+1,A=M.nextZero(E,T),M.readUTF8(E,T,A-T),C=W-((T=A+1)-w),R==0?D=M.readUTF8(E,T,C):(N=i(E.slice(T,T+C)),D=M.readUTF8(N,0,N.length)),L.tabs[I][x]=D}else if(I=="PLTE")L.tabs[I]=M.readBytes(E,w,W);else if(I=="hIST"){const R=L.tabs.PLTE.length/3;for(L.tabs[I]=[],V=0;V<R;V++)L.tabs[I].push(z(E,w+2*V))}else if(I=="tRNS")L.ctype==3?L.tabs[I]=M.readBytes(E,w,W):L.ctype==0?L.tabs[I]=z(E,w):L.ctype==2&&(L.tabs[I]=[z(E,w),z(E,w+2),z(E,w+4)]);else if(I=="gAMA")L.tabs[I]=M.readUint(E,w)/1e5;else if(I=="sRGB")L.tabs[I]=E[w];else if(I=="bKGD")L.ctype==0||L.ctype==4?L.tabs[I]=[z(E,w)]:L.ctype==2||L.ctype==6?L.tabs[I]=[z(E,w),z(E,w+2),z(E,w+4)]:L.ctype==3&&(L.tabs[I]=E[w]);else if(I=="IEND")break;w+=W,M.readUint(E,w),w+=4}var q;return at!=0&&((q=L.frames[L.frames.length-1]).data=n(L,Q.slice(0,at),q.rect.width,q.rect.height)),L.data=n(L,nt,L.width,L.height),delete L.compress,delete L.interlace,delete L.filter,L},toRGBA8:function(v){const E=v.width,w=v.height;if(v.tabs.acTL==null)return[t(v.data,E,w,v).buffer];const M=[];v.frames[0].data==null&&(v.frames[0].data=v.data);const z=E*w*4,k=new Uint8Array(z),L=new Uint8Array(z),nt=new Uint8Array(z);for(let Y=0;Y<v.frames.length;Y++){const at=v.frames[Y],B=at.rect.x,V=at.rect.y,T=at.rect.width,A=at.rect.height,x=t(at.data,T,A,v);if(Y!=0)for(var Q=0;Q<z;Q++)nt[Q]=k[Q];if(at.blend==0?p(x,T,A,k,E,w,B,V,0):at.blend==1&&p(x,T,A,k,E,w,B,V,1),M.push(k.buffer.slice(0)),at.dispose!=0){if(at.dispose==1)p(L,T,A,k,E,w,B,V,0);else if(at.dispose==2)for(Q=0;Q<z;Q++)k[Q]=nt[Q]}}return M},_paeth:d,_copyTile:p,_bin:a}})();(function(){const{_copyTile:a}=Vr,{_bin:t}=Vr,n=Vr._paeth;var i={table:(function(){const T=new Uint32Array(256);for(let A=0;A<256;A++){let x=A;for(let C=0;C<8;C++)1&x?x=3988292384^x>>>1:x>>>=1;T[A]=x}return T})(),update(T,A,x,C){for(let N=0;N<C;N++)T=i.table[255&(T^A[x+N])]^T>>>8;return T},crc:(T,A,x)=>4294967295^i.update(4294967295,T,A,x)};function s(T,A,x,C){A[x]+=T[0]*C>>4,A[x+1]+=T[1]*C>>4,A[x+2]+=T[2]*C>>4,A[x+3]+=T[3]*C>>4}function l(T){return Math.max(0,Math.min(255,T))}function c(T,A){const x=T[0]-A[0],C=T[1]-A[1],N=T[2]-A[2],D=T[3]-A[3];return x*x+C*C+N*N+D*D}function d(T,A,x,C,N,D,q){q==null&&(q=1);const W=C.length,I=[];for(var R=0;R<W;R++){const Z=C[R];I.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(R=0;R<W;R++){let Z=4294967295;for(var K=0,G=0;G<W;G++){var J=c(I[R],I[G]);G!=R&&J<Z&&(Z=J,K=G)}}const U=new Uint32Array(N.buffer),F=new Int16Array(A*x*4),ot=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(R=0;R<ot.length;R++)ot[R]=255*((ot[R]+.5)/16-.5);for(let Z=0;Z<x;Z++)for(let pt=0;pt<A;pt++){var et;R=4*(Z*A+pt),q!=2?et=[l(T[R]+F[R]),l(T[R+1]+F[R+1]),l(T[R+2]+F[R+2]),l(T[R+3]+F[R+3])]:(J=ot[4*(3&Z)+(3&pt)],et=[l(T[R]+J),l(T[R+1]+J),l(T[R+2]+J),l(T[R+3]+J)]),K=0;let St=16777215;for(G=0;G<W;G++){const Xt=c(et,I[G]);Xt<St&&(St=Xt,K=G)}const Nt=I[K],Ct=[et[0]-Nt[0],et[1]-Nt[1],et[2]-Nt[2],et[3]-Nt[3]];q==1&&(pt!=A-1&&s(Ct,F,R+4,7),Z!=x-1&&(pt!=0&&s(Ct,F,R+4*A-4,3),s(Ct,F,R+4*A,5),pt!=A-1&&s(Ct,F,R+4*A+4,1))),D[R>>2]=K,U[R>>2]=C[K]}}function g(T,A,x,C,N){N==null&&(N={});const{crc:D}=i,q=t.writeUint,W=t.writeUshort,I=t.writeASCII;let R=8;const K=T.frames.length>1;let G,J=!1,U=33+(K?20:0);if(N.sRGB!=null&&(U+=13),N.pHYs!=null&&(U+=21),N.iCCP!=null&&(G=pako.deflate(N.iCCP),U+=21+G.length+4),T.ctype==3){for(var F=T.plte.length,ot=0;ot<F;ot++)T.plte[ot]>>>24!=255&&(J=!0);U+=8+3*F+4+(J?8+1*F+4:0)}for(var et=0;et<T.frames.length;et++)K&&(U+=38),U+=(Nt=T.frames[et]).cimg.length+12,et!=0&&(U+=4);U+=12;const Z=new Uint8Array(U),pt=[137,80,78,71,13,10,26,10];for(ot=0;ot<8;ot++)Z[ot]=pt[ot];if(q(Z,R,13),R+=4,I(Z,R,"IHDR"),R+=4,q(Z,R,A),R+=4,q(Z,R,x),R+=4,Z[R]=T.depth,R++,Z[R]=T.ctype,R++,Z[R]=0,R++,Z[R]=0,R++,Z[R]=0,R++,q(Z,R,D(Z,R-17,17)),R+=4,N.sRGB!=null&&(q(Z,R,1),R+=4,I(Z,R,"sRGB"),R+=4,Z[R]=N.sRGB,R++,q(Z,R,D(Z,R-5,5)),R+=4),N.iCCP!=null){const Ct=13+G.length;q(Z,R,Ct),R+=4,I(Z,R,"iCCP"),R+=4,I(Z,R,"ICC profile"),R+=11,R+=2,Z.set(G,R),R+=G.length,q(Z,R,D(Z,R-(Ct+4),Ct+4)),R+=4}if(N.pHYs!=null&&(q(Z,R,9),R+=4,I(Z,R,"pHYs"),R+=4,q(Z,R,N.pHYs[0]),R+=4,q(Z,R,N.pHYs[1]),R+=4,Z[R]=N.pHYs[2],R++,q(Z,R,D(Z,R-13,13)),R+=4),K&&(q(Z,R,8),R+=4,I(Z,R,"acTL"),R+=4,q(Z,R,T.frames.length),R+=4,q(Z,R,N.loop!=null?N.loop:0),R+=4,q(Z,R,D(Z,R-12,12)),R+=4),T.ctype==3){for(q(Z,R,3*(F=T.plte.length)),R+=4,I(Z,R,"PLTE"),R+=4,ot=0;ot<F;ot++){const Ct=3*ot,Xt=T.plte[ot],ae=255&Xt,pe=Xt>>>8&255,Tn=Xt>>>16&255;Z[R+Ct+0]=ae,Z[R+Ct+1]=pe,Z[R+Ct+2]=Tn}if(R+=3*F,q(Z,R,D(Z,R-3*F-4,3*F+4)),R+=4,J){for(q(Z,R,F),R+=4,I(Z,R,"tRNS"),R+=4,ot=0;ot<F;ot++)Z[R+ot]=T.plte[ot]>>>24&255;R+=F,q(Z,R,D(Z,R-F-4,F+4)),R+=4}}let St=0;for(et=0;et<T.frames.length;et++){var Nt=T.frames[et];K&&(q(Z,R,26),R+=4,I(Z,R,"fcTL"),R+=4,q(Z,R,St++),R+=4,q(Z,R,Nt.rect.width),R+=4,q(Z,R,Nt.rect.height),R+=4,q(Z,R,Nt.rect.x),R+=4,q(Z,R,Nt.rect.y),R+=4,W(Z,R,C[et]),R+=2,W(Z,R,1e3),R+=2,Z[R]=Nt.dispose,R++,Z[R]=Nt.blend,R++,q(Z,R,D(Z,R-30,30)),R+=4);const Ct=Nt.cimg;q(Z,R,(F=Ct.length)+(et==0?0:4)),R+=4;const Xt=R;I(Z,R,et==0?"IDAT":"fdAT"),R+=4,et!=0&&(q(Z,R,St++),R+=4),Z.set(Ct,R),R+=F,q(Z,R,D(Z,Xt,R-Xt)),R+=4}return q(Z,R,0),R+=4,I(Z,R,"IEND"),R+=4,q(Z,R,D(Z,R-4,4)),R+=4,Z.buffer}function p(T,A,x){for(let C=0;C<T.frames.length;C++){const N=T.frames[C];N.rect.width;const D=N.rect.height,q=new Uint8Array(D*N.bpl+D);N.cimg=w(N.img,D,N.bpp,N.bpl,q,A,x)}}function y(T,A,x,C,N){const D=N[0],q=N[1],W=N[2],I=N[3],R=N[4],K=N[5];let G=6,J=8,U=255;for(var F=0;F<T.length;F++){const Se=new Uint8Array(T[F]);for(var ot=Se.length,et=0;et<ot;et+=4)U&=Se[et+3]}const Z=U!=255,pt=(function(gt,yt,_t,Rt,Lt,kt){const Mt=[];for(var Ot=0;Ot<gt.length;Ot++){const qe=new Uint8Array(gt[Ot]),bn=new Uint32Array(qe.buffer);var se;let hn=0,Be=0,ye=yt,He=_t,Ie=Rt?1:0;if(Ot!=0){const xs=kt||Rt||Ot==1||Mt[Ot-2].dispose!=0?1:2;let Or=0,Ca=1e9;for(let An=0;An<xs;An++){var Oe=new Uint8Array(gt[Ot-1-An]);const li=new Uint32Array(gt[Ot-1-An]);let le=yt,en=_t,dn=-1,mn=-1;for(let rr=0;rr<_t;rr++)for(let sn=0;sn<yt;sn++)bn[we=rr*yt+sn]!=li[we]&&(sn<le&&(le=sn),sn>dn&&(dn=sn),rr<en&&(en=rr),rr>mn&&(mn=rr));dn==-1&&(le=en=dn=mn=0),Lt&&((1&le)==1&&le--,(1&en)==1&&en--);const Vs=(dn-le+1)*(mn-en+1);Vs<Ca&&(Ca=Vs,Or=An,hn=le,Be=en,ye=dn-le+1,He=mn-en+1)}Oe=new Uint8Array(gt[Ot-1-Or]),Or==1&&(Mt[Ot-1].dispose=2),se=new Uint8Array(ye*He*4),a(Oe,yt,_t,se,ye,He,-hn,-Be,0),Ie=a(qe,yt,_t,se,ye,He,-hn,-Be,3)?1:0,Ie==1?E(qe,yt,_t,se,{x:hn,y:Be,width:ye,height:He}):a(qe,yt,_t,se,ye,He,-hn,-Be,0)}else se=qe.slice(0);Mt.push({rect:{x:hn,y:Be,width:ye,height:He},img:se,blend:Ie,dispose:0})}if(Rt)for(Ot=0;Ot<Mt.length;Ot++){if((Er=Mt[Ot]).blend==1)continue;const qe=Er.rect,bn=Mt[Ot-1].rect,hn=Math.min(qe.x,bn.x),Be=Math.min(qe.y,bn.y),ye={x:hn,y:Be,width:Math.max(qe.x+qe.width,bn.x+bn.width)-hn,height:Math.max(qe.y+qe.height,bn.y+bn.height)-Be};Mt[Ot-1].dispose=1,Ot-1!=0&&v(gt,yt,_t,Mt,Ot-1,ye,Lt),v(gt,yt,_t,Mt,Ot,ye,Lt)}let Pn=0;if(gt.length!=1)for(var we=0;we<Mt.length;we++){var Er;Pn+=(Er=Mt[we]).rect.width*Er.rect.height}return Mt})(T,A,x,D,q,W),St={},Nt=[],Ct=[];if(C!=0){const Se=[];for(et=0;et<pt.length;et++)Se.push(pt[et].img.buffer);const gt=(function(Lt){let kt=0;for(var Mt=0;Mt<Lt.length;Mt++)kt+=Lt[Mt].byteLength;const Ot=new Uint8Array(kt);let se=0;for(Mt=0;Mt<Lt.length;Mt++){const Oe=new Uint8Array(Lt[Mt]),Pn=Oe.length;for(let we=0;we<Pn;we+=4){let Er=Oe[we],qe=Oe[we+1],bn=Oe[we+2];const hn=Oe[we+3];hn==0&&(Er=qe=bn=0),Ot[se+we]=Er,Ot[se+we+1]=qe,Ot[se+we+2]=bn,Ot[se+we+3]=hn}se+=Pn}return Ot.buffer})(Se),yt=z(gt,C);for(et=0;et<yt.plte.length;et++)Nt.push(yt.plte[et].est.rgba);let _t=0;for(et=0;et<pt.length;et++){const Rt=(ae=pt[et]).img.length;var Xt=new Uint8Array(yt.inds.buffer,_t>>2,Rt>>2);Ct.push(Xt);const Lt=new Uint8Array(yt.abuf,_t,Rt);K&&d(ae.img,ae.rect.width,ae.rect.height,Nt,Lt,Xt),ae.img.set(Lt),_t+=Rt}}else for(F=0;F<pt.length;F++){var ae=pt[F];const Se=new Uint32Array(ae.img.buffer);var pe=ae.rect.width;for(ot=Se.length,Xt=new Uint8Array(ot),Ct.push(Xt),et=0;et<ot;et++){const gt=Se[et];if(et!=0&&gt==Se[et-1])Xt[et]=Xt[et-1];else if(et>pe&&gt==Se[et-pe])Xt[et]=Xt[et-pe];else{let yt=St[gt];if(yt==null&&(St[gt]=yt=Nt.length,Nt.push(gt),Nt.length>=300))break;Xt[et]=yt}}}const Tn=Nt.length;for(Tn<=256&&R==0&&(J=Tn<=2?1:Tn<=4?2:Tn<=16?4:8,J=Math.max(J,I)),F=0;F<pt.length;F++){(ae=pt[F]).rect.x,ae.rect.y,pe=ae.rect.width;const Se=ae.rect.height;let gt=ae.img;new Uint32Array(gt.buffer);let yt=4*pe,_t=4;if(Tn<=256&&R==0){yt=Math.ceil(J*pe/8);var Ne=new Uint8Array(yt*Se);const Rt=Ct[F];for(let Lt=0;Lt<Se;Lt++){et=Lt*yt;const kt=Lt*pe;if(J==8)for(var ne=0;ne<pe;ne++)Ne[et+ne]=Rt[kt+ne];else if(J==4)for(ne=0;ne<pe;ne++)Ne[et+(ne>>1)]|=Rt[kt+ne]<<4-4*(1&ne);else if(J==2)for(ne=0;ne<pe;ne++)Ne[et+(ne>>2)]|=Rt[kt+ne]<<6-2*(3&ne);else if(J==1)for(ne=0;ne<pe;ne++)Ne[et+(ne>>3)]|=Rt[kt+ne]<<7-1*(7&ne)}gt=Ne,G=3,_t=1}else if(Z==0&&pt.length==1){Ne=new Uint8Array(pe*Se*3);const Rt=pe*Se;for(et=0;et<Rt;et++){const Lt=3*et,kt=4*et;Ne[Lt]=gt[kt],Ne[Lt+1]=gt[kt+1],Ne[Lt+2]=gt[kt+2]}gt=Ne,G=2,_t=3,yt=3*pe}ae.img=gt,ae.bpl=yt,ae.bpp=_t}return{ctype:G,depth:J,plte:Nt,frames:pt}}function v(T,A,x,C,N,D,q){const W=Uint8Array,I=Uint32Array,R=new W(T[N-1]),K=new I(T[N-1]),G=N+1<T.length?new W(T[N+1]):null,J=new W(T[N]),U=new I(J.buffer);let F=A,ot=x,et=-1,Z=-1;for(let St=0;St<D.height;St++)for(let Nt=0;Nt<D.width;Nt++){const Ct=D.x+Nt,Xt=D.y+St,ae=Xt*A+Ct,pe=U[ae];pe==0||C[N-1].dispose==0&&K[ae]==pe&&(G==null||G[4*ae+3]!=0)||(Ct<F&&(F=Ct),Ct>et&&(et=Ct),Xt<ot&&(ot=Xt),Xt>Z&&(Z=Xt))}et==-1&&(F=ot=et=Z=0),q&&((1&F)==1&&F--,(1&ot)==1&&ot--),D={x:F,y:ot,width:et-F+1,height:Z-ot+1};const pt=C[N];pt.rect=D,pt.blend=1,pt.img=new Uint8Array(D.width*D.height*4),C[N-1].dispose==0?(a(R,A,x,pt.img,D.width,D.height,-D.x,-D.y,0),E(J,A,x,pt.img,D)):a(J,A,x,pt.img,D.width,D.height,-D.x,-D.y,0)}function E(T,A,x,C,N){a(T,A,x,C,N.width,N.height,-N.x,-N.y,2)}function w(T,A,x,C,N,D,q){const W=[];let I,R=[0,1,2,3,4];D!=-1?R=[D]:(A*C>5e5||x==1)&&(R=[0]),q&&(I={level:0});const K=vC;for(var G=0;G<R.length;G++){for(let F=0;F<A;F++)M(N,T,F,C,x,R[G]);W.push(K.deflate(N,I))}let J,U=1e9;for(G=0;G<W.length;G++)W[G].length<U&&(J=G,U=W[G].length);return W[J]}function M(T,A,x,C,N,D){const q=x*C;let W=q+x;if(T[W]=D,W++,D==0)if(C<500)for(var I=0;I<C;I++)T[W+I]=A[q+I];else T.set(new Uint8Array(A.buffer,q,C),W);else if(D==1){for(I=0;I<N;I++)T[W+I]=A[q+I];for(I=N;I<C;I++)T[W+I]=A[q+I]-A[q+I-N]+256&255}else if(x==0){for(I=0;I<N;I++)T[W+I]=A[q+I];if(D==2)for(I=N;I<C;I++)T[W+I]=A[q+I];if(D==3)for(I=N;I<C;I++)T[W+I]=A[q+I]-(A[q+I-N]>>1)+256&255;if(D==4)for(I=N;I<C;I++)T[W+I]=A[q+I]-n(A[q+I-N],0,0)+256&255}else{if(D==2)for(I=0;I<C;I++)T[W+I]=A[q+I]+256-A[q+I-C]&255;if(D==3){for(I=0;I<N;I++)T[W+I]=A[q+I]+256-(A[q+I-C]>>1)&255;for(I=N;I<C;I++)T[W+I]=A[q+I]+256-(A[q+I-C]+A[q+I-N]>>1)&255}if(D==4){for(I=0;I<N;I++)T[W+I]=A[q+I]+256-n(0,A[q+I-C],0)&255;for(I=N;I<C;I++)T[W+I]=A[q+I]+256-n(A[q+I-N],A[q+I-C],A[q+I-N-C])&255}}}function z(T,A){const x=new Uint8Array(T),C=x.slice(0),N=new Uint32Array(C.buffer),D=k(C,A),q=D[0],W=D[1],I=x.length,R=new Uint8Array(I>>2);let K;if(x.length<2e7)for(var G=0;G<I;G+=4)K=L(q,J=x[G]*(1/255),U=x[G+1]*(1/255),F=x[G+2]*(1/255),ot=x[G+3]*(1/255)),R[G>>2]=K.ind,N[G>>2]=K.est.rgba;else for(G=0;G<I;G+=4){var J=x[G]*.00392156862745098,U=x[G+1]*(1/255),F=x[G+2]*(1/255),ot=x[G+3]*(1/255);for(K=q;K.left;)K=nt(K.est,J,U,F,ot)<=0?K.left:K.right;R[G>>2]=K.ind,N[G>>2]=K.est.rgba}return{abuf:C.buffer,inds:R,plte:W}}function k(T,A,x){x==null&&(x=1e-4);const C=new Uint32Array(T.buffer),N={i0:0,i1:T.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=at(T,N.i0,N.i1),N.est=B(N.bst);const D=[N];for(;D.length<A;){let W=0,I=0;for(var q=0;q<D.length;q++)D[q].est.L>W&&(W=D[q].est.L,I=q);if(W<x)break;const R=D[I],K=Q(T,C,R.i0,R.i1,R.est.e,R.est.eMq255);if(R.i0>=K||R.i1<=K){R.est.L=0;continue}const G={i0:R.i0,i1:K,bst:null,est:null,tdst:0,left:null,right:null};G.bst=at(T,G.i0,G.i1),G.est=B(G.bst);const J={i0:K,i1:R.i1,bst:null,est:null,tdst:0,left:null,right:null};for(J.bst={R:[],m:[],N:R.bst.N-G.bst.N},q=0;q<16;q++)J.bst.R[q]=R.bst.R[q]-G.bst.R[q];for(q=0;q<4;q++)J.bst.m[q]=R.bst.m[q]-G.bst.m[q];J.est=B(J.bst),R.left=G,R.right=J,D[I]=G,D.push(J)}for(D.sort(((W,I)=>I.bst.N-W.bst.N)),q=0;q<D.length;q++)D[q].ind=q;return[N,D]}function L(T,A,x,C,N){if(T.left==null)return T.tdst=(function(G,J,U,F,ot){const et=J-G[0],Z=U-G[1],pt=F-G[2],St=ot-G[3];return et*et+Z*Z+pt*pt+St*St})(T.est.q,A,x,C,N),T;const D=nt(T.est,A,x,C,N);let q=T.left,W=T.right;D>0&&(q=T.right,W=T.left);const I=L(q,A,x,C,N);if(I.tdst<=D*D)return I;const R=L(W,A,x,C,N);return R.tdst<I.tdst?R:I}function nt(T,A,x,C,N){const{e:D}=T;return D[0]*A+D[1]*x+D[2]*C+D[3]*N-T.eMq}function Q(T,A,x,C,N,D){for(C-=4;x<C;){for(;Y(T,x,N)<=D;)x+=4;for(;Y(T,C,N)>D;)C-=4;if(x>=C)break;const q=A[x>>2];A[x>>2]=A[C>>2],A[C>>2]=q,x+=4,C-=4}for(;Y(T,x,N)>D;)x-=4;return x+4}function Y(T,A,x){return T[A]*x[0]+T[A+1]*x[1]+T[A+2]*x[2]+T[A+3]*x[3]}function at(T,A,x){const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],D=x-A>>2;for(let q=A;q<x;q+=4){const W=T[q]*.00392156862745098,I=T[q+1]*(1/255),R=T[q+2]*(1/255),K=T[q+3]*(1/255);N[0]+=W,N[1]+=I,N[2]+=R,N[3]+=K,C[0]+=W*W,C[1]+=W*I,C[2]+=W*R,C[3]+=W*K,C[5]+=I*I,C[6]+=I*R,C[7]+=I*K,C[10]+=R*R,C[11]+=R*K,C[15]+=K*K}return C[4]=C[1],C[8]=C[2],C[9]=C[6],C[12]=C[3],C[13]=C[7],C[14]=C[11],{R:C,m:N,N:D}}function B(T){const{R:A}=T,{m:x}=T,{N:C}=T,N=x[0],D=x[1],q=x[2],W=x[3],I=C==0?0:1/C,R=[A[0]-N*N*I,A[1]-N*D*I,A[2]-N*q*I,A[3]-N*W*I,A[4]-D*N*I,A[5]-D*D*I,A[6]-D*q*I,A[7]-D*W*I,A[8]-q*N*I,A[9]-q*D*I,A[10]-q*q*I,A[11]-q*W*I,A[12]-W*N*I,A[13]-W*D*I,A[14]-W*q*I,A[15]-W*W*I],K=R,G=V;let J=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,F=0;if(C!=0)for(let et=0;et<16&&(J=G.multVec(K,J),F=Math.sqrt(G.dot(J,J)),J=G.sml(1/F,J),!(et!=0&&Math.abs(F-U)<1e-9));et++)U=F;const ot=[N*I,D*I,q*I,W*I];return{Cov:R,q:ot,e:J,L:U,eMq255:G.dot(G.sml(255,ot),J),eMq:G.dot(J,ot),rgba:(Math.round(255*ot[3])<<24|Math.round(255*ot[2])<<16|Math.round(255*ot[1])<<8|Math.round(255*ot[0])<<0)>>>0}}var V={multVec:(T,A)=>[T[0]*A[0]+T[1]*A[1]+T[2]*A[2]+T[3]*A[3],T[4]*A[0]+T[5]*A[1]+T[6]*A[2]+T[7]*A[3],T[8]*A[0]+T[9]*A[1]+T[10]*A[2]+T[11]*A[3],T[12]*A[0]+T[13]*A[1]+T[14]*A[2]+T[15]*A[3]],dot:(T,A)=>T[0]*A[0]+T[1]*A[1]+T[2]*A[2]+T[3]*A[3],sml:(T,A)=>[T*A[0],T*A[1],T*A[2],T*A[3]]};Vr.encode=function(A,x,C,N,D,q,W){N==null&&(N=0),W==null&&(W=!1);const I=y(A,x,C,N,[!1,!1,!1,0,W,!1]);return p(I,-1),g(I,x,C,D,q)},Vr.encodeLL=function(A,x,C,N,D,q,W,I){const R={ctype:0+(N==1?0:2)+(D==0?0:4),depth:q,frames:[]},K=(N+D)*q,G=K*x;for(let J=0;J<A.length;J++)R.frames.push({rect:{x:0,y:0,width:x,height:C},img:new Uint8Array(A[J]),blend:0,dispose:1,bpp:Math.ceil(K/8),bpl:Math.ceil(G/8)});return p(R,0,!0),g(R,x,C,W,I)},Vr.encode.compress=y,Vr.encode.dither=d,Vr.quantize=z,Vr.quantize.getKDtree=k,Vr.quantize.getNearest=L})();const Db={toArrayBuffer(a,t){const n=a.width,i=a.height,s=n<<2,l=a.getContext("2d").getImageData(0,0,n,i),c=new Uint32Array(l.data.buffer),d=(32*n+31)/32<<2,g=d*i,p=122+g,y=new ArrayBuffer(p),v=new DataView(y),E=1<<20;let w,M,z,k,L=E,nt=0,Q=0,Y=0;function at(T){v.setUint16(Q,T,!0),Q+=2}function B(T){v.setUint32(Q,T,!0),Q+=4}function V(T){Q+=T}at(19778),B(p),V(4),B(122),B(108),B(n),B(-i>>>0),at(1),at(32),B(3),B(g),B(2835),B(2835),V(8),B(16711680),B(65280),B(255),B(4278190080),B(1466527264),(function T(){for(;nt<i&&L>0;){for(k=122+nt*d,w=0;w<s;)L--,M=c[Y++],z=M>>>24,v.setUint32(k+w,M<<8|z),w+=4;nt++}Y<c.length?(L=E,setTimeout(T,Db._dly)):t(y)})()},toBlob(a,t){this.toArrayBuffer(a,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var qn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},_C={[qn.CHROME]:16384,[qn.FIREFOX]:11180,[qn.DESKTOP_SAFARI]:16384,[qn.IE]:8192,[qn.IOS]:4096,[qn.ETC]:8192};const Ep=typeof window<"u",Cb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,hh=Ep&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),EC=(Ep||Cb)&&(hh&&hh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),xb=(Ep||Cb)&&(hh&&hh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Tp(a,t,n=Date.now()){return new Promise((i=>{const s=a.split(","),l=s[0].match(/:(.*?);/)[1],c=globalThis.atob(s[1]);let d=c.length;const g=new Uint8Array(d);for(;d--;)g[d]=c.charCodeAt(d);const p=new Blob([g],{type:l});p.name=t,p.lastModified=n,i(p)}))}function Vb(a){return new Promise(((t,n)=>{const i=new xb;i.onload=()=>t(i.result),i.onerror=s=>n(s),i.readAsDataURL(a)}))}function Mb(a){return new Promise(((t,n)=>{const i=new Image;i.onload=()=>t(i),i.onerror=s=>n(s),i.src=a}))}function ms(){if(ms.cachedResult!==void 0)return ms.cachedResult;let a=qn.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?a=qn.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?a=qn.IOS:/Safari/i.test(t)?a=qn.DESKTOP_SAFARI:/Firefox/i.test(t)?a=qn.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(a=qn.IE),ms.cachedResult=a,ms.cachedResult}function Nb(a,t){const n=ms(),i=_C[n];let s=a,l=t,c=s*l;const d=s>l?l/s:s/l;for(;c>i*i;){const g=(i+s)/2,p=(i+l)/2;g<p?(l=p,s=p*d):(l=g*d,s=g),c=s*l}return{width:s,height:l}}function Uh(a,t){let n,i;try{if(n=new OffscreenCanvas(a,t),i=n.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=a,n.height=t,[n,i]}function Ob(a,t){const{width:n,height:i}=Nb(a.width,a.height),[s,l]=Uh(n,i);return t&&/jpe?g/.test(t)&&(l.fillStyle="white",l.fillRect(0,0,s.width,s.height)),l.drawImage(a,0,0,s.width,s.height),s}function Hf(){return Hf.cachedResult!==void 0||(Hf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Hf.cachedResult}function dh(a,t={}){return new Promise((function(n,i){let s,l;var c=function(){try{return l=Ob(s,t.fileType||a.type),n([s,l])}catch(g){return i(g)}},d=function(g){try{var p=function(y){try{throw y}catch(v){return i(v)}};try{let y;return Vb(a).then((function(v){try{return y=v,Mb(y).then((function(E){try{return s=E,(function(){try{return c()}catch(w){return i(w)}})()}catch(w){return p(w)}}),p)}catch(E){return p(E)}}),p)}catch(y){p(y)}}catch(y){return i(y)}};try{if(Hf()||[qn.DESKTOP_SAFARI,qn.MOBILE_SAFARI].includes(ms()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(a).then((function(g){try{return s=g,c()}catch{return d()}}),d)}catch{d()}}))}function mh(a,t,n,i,s=1){return new Promise((function(l,c){let d;if(t==="image/png"){let v,E,w;return v=a.getContext("2d"),{data:E}=v.getImageData(0,0,a.width,a.height),w=Vr.encode([E.buffer],a.width,a.height,4096*s),d=new Blob([w],{type:t}),d.name=n,d.lastModified=i,g.call(this)}{let v=function(){return g.call(this)};var p=v;if(t==="image/bmp")return new Promise((E=>Db.toBlob(a,E))).then((function(E){try{return d=E,d.name=n,d.lastModified=i,v.call(this)}catch(w){return c(w)}}).bind(this),c);{let E=function(){return v.call(this)};var y=E;if(typeof OffscreenCanvas=="function"&&a instanceof OffscreenCanvas)return a.convertToBlob({type:t,quality:s}).then((function(w){try{return d=w,d.name=n,d.lastModified=i,E.call(this)}catch(M){return c(M)}}).bind(this),c);{let w;return w=a.toDataURL(t,s),Tp(w,n,i).then((function(M){try{return d=M,E.call(this)}catch(z){return c(z)}}).bind(this),c)}}}function g(){return l(d)}}))}function Jr(a){a.width=0,a.height=0}function Vo(){return new Promise((function(a,t){let n,i,s,l;return Vo.cachedResult!==void 0?a(Vo.cachedResult):Tp("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(c){try{return n=c,dh(n).then((function(d){try{return i=d[1],mh(i,n.type,n.name,n.lastModified).then((function(g){try{return s=g,Jr(i),dh(s).then((function(p){try{return l=p[0],Vo.cachedResult=l.width===1&&l.height===2,a(Vo.cachedResult)}catch(y){return t(y)}}),t)}catch(p){return t(p)}}),t)}catch(g){return t(g)}}),t)}catch(d){return t(d)}}),t)}))}function Pb(a){return new Promise(((t,n)=>{const i=new xb;i.onload=s=>{const l=new DataView(s.target.result);if(l.getUint16(0,!1)!=65496)return t(-2);const c=l.byteLength;let d=2;for(;d<c;){if(l.getUint16(d+2,!1)<=8)return t(-1);const g=l.getUint16(d,!1);if(d+=2,g==65505){if(l.getUint32(d+=2,!1)!=1165519206)return t(-1);const p=l.getUint16(d+=6,!1)==18761;d+=l.getUint32(d+4,p);const y=l.getUint16(d,p);d+=2;for(let v=0;v<y;v++)if(l.getUint16(d+12*v,p)==274)return t(l.getUint16(d+12*v+8,p))}else{if((65280&g)!=65280)break;d+=l.getUint16(d,!1)}}return t(-1)},i.onerror=s=>n(s),i.readAsArrayBuffer(a)}))}function Ub(a,t){const{width:n}=a,{height:i}=a,{maxWidthOrHeight:s}=t;let l,c=a;return isFinite(s)&&(n>s||i>s)&&([c,l]=Uh(n,i),n>i?(c.width=s,c.height=i/n*s):(c.width=n/i*s,c.height=s),l.drawImage(a,0,0,c.width,c.height),Jr(a)),c}function zb(a,t){const{width:n}=a,{height:i}=a,[s,l]=Uh(n,i);switch(t>4&&t<9?(s.width=i,s.height=n):(s.width=n,s.height=i),t){case 2:l.transform(-1,0,0,1,n,0);break;case 3:l.transform(-1,0,0,-1,n,i);break;case 4:l.transform(1,0,0,-1,0,i);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,i,0);break;case 7:l.transform(0,-1,-1,0,i,n);break;case 8:l.transform(0,-1,1,0,0,n)}return l.drawImage(a,0,0,n,i),Jr(a),s}function M1(a,t,n=0){return new Promise((function(i,s){let l,c,d,g,p,y,v,E,w,M,z,k,L,nt,Q,Y,at,B,V,T;function A(C=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;l+=C,t.onProgress(Math.min(l,100))}function x(C){if(t.signal&&t.signal.aborted)throw t.signal.reason;l=Math.min(Math.max(C,l),100),t.onProgress(l)}return l=n,c=t.maxIteration||10,d=1024*t.maxSizeMB*1024,A(),dh(a,t).then((function(C){try{return[,g]=C,A(),p=Ub(g,t),A(),new Promise((function(N,D){var q;if(!(q=t.exifOrientation))return Pb(a).then((function(I){try{return q=I,W.call(this)}catch(R){return D(R)}}).bind(this),D);function W(){return N(q)}return W.call(this)})).then((function(N){try{return y=N,A(),Vo().then((function(D){try{return v=D?p:zb(p,y),A(),E=t.initialQuality||1,w=t.fileType||a.type,mh(v,w,a.name,a.lastModified,E).then((function(q){try{{let K=function(){if(c--&&(Q>d||Q>L)){let J,U;return J=T?.95*V.width:V.width,U=T?.95*V.height:V.height,[at,B]=Uh(J,U),B.drawImage(V,0,0,J,U),E*=w==="image/png"?.85:.95,mh(at,w,a.name,a.lastModified,E).then((function(F){try{return Y=F,Jr(V),V=at,Q=Y.size,x(Math.min(99,Math.floor((nt-Q)/(nt-d)*100))),K}catch(ot){return s(ot)}}),s)}return[1]},G=function(){return Jr(V),Jr(at),Jr(p),Jr(v),Jr(g),x(100),i(Y)};var I=K,R=G;if(M=q,A(),z=M.size>d,k=M.size>a.size,!z&&!k)return x(100),i(M);var W;return L=a.size,nt=M.size,Q=nt,V=v,T=!t.alwaysKeepResolution&&z,(W=(function(J){for(;J;){if(J.then)return void J.then(W,s);try{if(J.pop){if(J.length)return J.pop()?G.call(this):J;J=K}else J=J.call(this)}catch(U){return s(U)}}}).bind(this))(K)}}catch(K){return s(K)}}).bind(this),s)}catch(q){return s(q)}}).bind(this),s)}catch(D){return s(D)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)}))}const TC=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let $m;function bC(a,t){return new Promise(((n,i)=>{$m||($m=(function(c){const d=[];return d.push(c),URL.createObjectURL(new Blob(d))})(TC));const s=new Worker($m);s.addEventListener("message",(function(c){if(t.signal&&t.signal.aborted)s.terminate();else if(c.data.progress===void 0){if(c.data.error)return i(new Error(c.data.error)),void s.terminate();n(c.data.file),s.terminate()}else t.onProgress(c.data.progress)})),s.addEventListener("error",i),t.signal&&t.signal.addEventListener("abort",(()=>{i(t.signal.reason),s.terminate()})),s.postMessage({file:a,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function In(a,t){return new Promise((function(n,i){let s,l,c,d,g,p;if(s={...t},c=0,{onProgress:d}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=w=>{c=w,typeof d=="function"&&d(c)},!(a instanceof Blob||a instanceof EC))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(a.type))return i(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||p)return M1(a,s).then((function(w){try{return l=w,E.call(this)}catch(M){return i(M)}}).bind(this),i);var y=(function(){try{return E.call(this)}catch(w){return i(w)}}).bind(this),v=function(w){try{return M1(a,s).then((function(M){try{return l=M,y()}catch(z){return i(z)}}),i)}catch(M){return i(M)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",bC(a,s).then((function(w){try{return l=w,y()}catch{return v()}}),v)}catch{v()}function E(){try{l.name=a.name,l.lastModified=a.lastModified}catch{}try{s.preserveExif&&a.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===a.type)&&(l=Rb(a,l))}catch{}return n(l)}}))}In.getDataUrlFromFile=Vb,In.getFilefromDataUrl=Tp,In.loadImage=Mb,In.drawImageInCanvas=Ob,In.drawFileInCanvas=dh,In.canvasToFile=mh,In.getExifOrientation=Pb,In.handleMaxWidthOrHeight=Ub,In.followExifOrientation=zb,In.cleanupCanvasMemory=Jr,In.isAutoOrientationInBrowser=Vo,In.approximateBelowMaximumCanvasSizeOfBrowser=Nb,In.copyExifWithoutOrientation=Rb,In.getBrowserName=ms,In.version="2.0.2";const AC=async a=>{try{const n=await In(a,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),i=await new Promise((l,c)=>{const d=new FileReader;d.readAsDataURL(n),d.onload=()=>l(d.result),d.onerror=g=>c(g)}),s=crypto.randomUUID();return await fC(Ju(Uo,"receipts",s),{image:i,createdAt:new Date().toISOString()}),s}catch(t){return console.error("Error saving image:",t),null}},SC=async a=>{try{if(!a)return null;const t=Ju(Uo,"receipts",a),n=await uC(t);return n.exists()?n.data().image:(console.log("No such image document!"),null)}catch(t){return console.error("Error getting image:",t),null}},wC=async a=>{try{if(!a)return;await wb(Ju(Uo,"receipts",a))}catch(t){console.error("Error deleting image:",t)}},zh=QA((a,t)=>({expenses:[],loading:!1,fetchExpenses:async()=>{a({loading:!0});try{const i=(await cC(I1(Uo,"expenses"))).docs.map(s=>({id:s.id,...s.data()}));a({expenses:i,loading:!1})}catch(n){console.error("Error fetching expenses:",n),a({loading:!1})}},addExpense:async n=>{try{const s={id:(await hC(I1(Uo,"expenses"),n)).id,...n};a(l=>({expenses:[s,...l.expenses]}))}catch(i){console.error("Error adding expense:",i)}},removeExpense:async n=>{try{const i=t().expenses.find(s=>s.id===n);await wb(Ju(Uo,"expenses",n)),i?.imageId&&await wC(i.imageId),a(s=>({expenses:s.expenses.filter(l=>l.id!==n)}))}catch(i){console.error("Error removing expense:",i)}}})),Lb=6048e5,IC=864e5,Bb=6e4,kb=36e5,N1=Symbol.for("constructDateFrom");function Mi(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&N1 in a?a[N1](t):a instanceof Date?new a.constructor(t):new Date(t)}function fn(a,t){return Mi(t||a,a)}let RC={};function Lh(){return RC}function ju(a,t){const n=Lh(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=fn(a,t?.in),l=s.getDay(),c=(l<i?7:0)+l-i;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function gh(a,t){return ju(a,{...t,weekStartsOn:1})}function jb(a,t){const n=fn(a,t?.in),i=n.getFullYear(),s=Mi(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const l=gh(s),c=Mi(n,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const d=gh(c);return n.getTime()>=l.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function O1(a){const t=fn(a),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+a-+n}function DC(a,...t){const n=Mi.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function P1(a,t){const n=fn(a,t?.in);return n.setHours(0,0,0,0),n}function CC(a,t,n){const[i,s]=DC(n?.in,a,t),l=P1(i),c=P1(s),d=+l-O1(l),g=+c-O1(c);return Math.round((d-g)/IC)}function xC(a,t){const n=jb(a,t),i=Mi(a,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),gh(i)}function VC(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function MC(a){return!(!VC(a)&&typeof a!="number"||isNaN(+fn(a)))}function NC(a,t){const n=fn(a,t?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function OC(a,t){const n=fn(a,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function PC(a,t){const n=fn(a,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const UC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zC=(a,t,n)=>{let i;const s=UC[a];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function zo(a){return(t={})=>{const n=t.width?String(t.width):a.defaultWidth;return a.formats[n]||a.formats[a.defaultWidth]}}const LC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jC={date:zo({formats:LC,defaultWidth:"full"}),time:zo({formats:BC,defaultWidth:"full"}),dateTime:zo({formats:kC,defaultWidth:"full"})},FC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qC=(a,t,n,i)=>FC[a];function ei(a){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let s;if(i==="formatting"&&a.formattingValues){const c=a.defaultFormattingWidth||a.defaultWidth,d=n?.width?String(n.width):c;s=a.formattingValues[d]||a.formattingValues[c]}else{const c=a.defaultWidth,d=n?.width?String(n.width):a.defaultWidth;s=a.values[d]||a.values[c]}const l=a.argumentCallback?a.argumentCallback(t):t;return s[l]}}const HC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZC=(a,t)=>{const n=Number(a),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},WC={ordinalNumber:ZC,era:ei({values:HC,defaultWidth:"wide"}),quarter:ei({values:GC,defaultWidth:"wide",argumentCallback:a=>a-1}),month:ei({values:QC,defaultWidth:"wide"}),day:ei({values:YC,defaultWidth:"wide"}),dayPeriod:ei({values:KC,defaultWidth:"wide",formattingValues:XC,defaultFormattingWidth:"wide"})};function ni(a){return(t,n={})=>{const i=n.width,s=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],l=t.match(s);if(!l)return null;const c=l[0],d=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],g=Array.isArray(d)?JC(d,v=>v.test(c)):$C(d,v=>v.test(c));let p;p=a.valueCallback?a.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const y=t.slice(c.length);return{value:p,rest:y}}}function $C(a,t){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)&&t(a[n]))return n}function JC(a,t){for(let n=0;n<a.length;n++)if(t(a[n]))return n}function Fb(a){return(t,n={})=>{const i=t.match(a.matchPattern);if(!i)return null;const s=i[0],l=t.match(a.parsePattern);if(!l)return null;let c=a.valueCallback?a.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}const tx=/^(\d+)(th|st|nd|rd)?/i,ex=/\d+/i,nx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rx={any:[/^b/i,/^(a|c)/i]},ix={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ax={any:[/1/i,/2/i,/3/i,/4/i]},sx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ox={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ux={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hx={ordinalNumber:Fb({matchPattern:tx,parsePattern:ex,valueCallback:a=>parseInt(a,10)}),era:ni({matchPatterns:nx,defaultMatchWidth:"wide",parsePatterns:rx,defaultParseWidth:"any"}),quarter:ni({matchPatterns:ix,defaultMatchWidth:"wide",parsePatterns:ax,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ni({matchPatterns:sx,defaultMatchWidth:"wide",parsePatterns:ox,defaultParseWidth:"any"}),day:ni({matchPatterns:lx,defaultMatchWidth:"wide",parsePatterns:ux,defaultParseWidth:"any"}),dayPeriod:ni({matchPatterns:cx,defaultMatchWidth:"any",parsePatterns:fx,defaultParseWidth:"any"})},dx={code:"en-US",formatDistance:zC,formatLong:jC,formatRelative:qC,localize:WC,match:hx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mx(a,t){const n=fn(a,t?.in);return CC(n,PC(n))+1}function gx(a,t){const n=fn(a,t?.in),i=+gh(n)-+xC(n);return Math.round(i/Lb)+1}function qb(a,t){const n=fn(a,t?.in),i=n.getFullYear(),s=Lh(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Mi(t?.in||a,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const d=ju(c,t),g=Mi(t?.in||a,0);g.setFullYear(i,0,l),g.setHours(0,0,0,0);const p=ju(g,t);return+n>=+d?i+1:+n>=+p?i:i-1}function px(a,t){const n=Lh(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=qb(a,t),l=Mi(t?.in||a,0);return l.setFullYear(s,0,i),l.setHours(0,0,0,0),ju(l,t)}function yx(a,t){const n=fn(a,t?.in),i=+ju(n,t)-+px(n,t);return Math.round(i/Lb)+1}function he(a,t){const n=a<0?"-":"",i=Math.abs(a).toString().padStart(t,"0");return n+i}const ma={y(a,t){const n=a.getFullYear(),i=n>0?n:1-n;return he(t==="yy"?i%100:i,t.length)},M(a,t){const n=a.getMonth();return t==="M"?String(n+1):he(n+1,2)},d(a,t){return he(a.getDate(),t.length)},a(a,t){const n=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(a,t){return he(a.getHours()%12||12,t.length)},H(a,t){return he(a.getHours(),t.length)},m(a,t){return he(a.getMinutes(),t.length)},s(a,t){return he(a.getSeconds(),t.length)},S(a,t){const n=t.length,i=a.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return he(s,t.length)}},wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U1={G:function(a,t,n){const i=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(a,t,n){if(t==="yo"){const i=a.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return ma.y(a,t)},Y:function(a,t,n,i){const s=qb(a,i),l=s>0?s:1-s;if(t==="YY"){const c=l%100;return he(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):he(l,t.length)},R:function(a,t){const n=jb(a);return he(n,t.length)},u:function(a,t){const n=a.getFullYear();return he(n,t.length)},Q:function(a,t,n){const i=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return he(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(a,t,n){const i=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return he(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(a,t,n){const i=a.getMonth();switch(t){case"M":case"MM":return ma.M(a,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(a,t,n){const i=a.getMonth();switch(t){case"L":return String(i+1);case"LL":return he(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(a,t,n,i){const s=yx(a,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):he(s,t.length)},I:function(a,t,n){const i=gx(a);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):he(i,t.length)},d:function(a,t,n){return t==="do"?n.ordinalNumber(a.getDate(),{unit:"date"}):ma.d(a,t)},D:function(a,t,n){const i=mx(a);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):he(i,t.length)},E:function(a,t,n){const i=a.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(a,t,n,i){const s=a.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return he(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(a,t,n,i){const s=a.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return he(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(a,t,n){const i=a.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return he(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(a,t,n){const s=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(a,t,n){const i=a.getHours();let s;switch(i===12?s=wo.noon:i===0?s=wo.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(a,t,n){const i=a.getHours();let s;switch(i>=17?s=wo.evening:i>=12?s=wo.afternoon:i>=4?s=wo.morning:s=wo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(a,t,n){if(t==="ho"){let i=a.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ma.h(a,t)},H:function(a,t,n){return t==="Ho"?n.ordinalNumber(a.getHours(),{unit:"hour"}):ma.H(a,t)},K:function(a,t,n){const i=a.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):he(i,t.length)},k:function(a,t,n){let i=a.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):he(i,t.length)},m:function(a,t,n){return t==="mo"?n.ordinalNumber(a.getMinutes(),{unit:"minute"}):ma.m(a,t)},s:function(a,t,n){return t==="so"?n.ordinalNumber(a.getSeconds(),{unit:"second"}):ma.s(a,t)},S:function(a,t){return ma.S(a,t)},X:function(a,t,n){const i=a.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return L1(i);case"XXXX":case"XX":return os(i);default:return os(i,":")}},x:function(a,t,n){const i=a.getTimezoneOffset();switch(t){case"x":return L1(i);case"xxxx":case"xx":return os(i);default:return os(i,":")}},O:function(a,t,n){const i=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+z1(i,":");default:return"GMT"+os(i,":")}},z:function(a,t,n){const i=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+z1(i,":");default:return"GMT"+os(i,":")}},t:function(a,t,n){const i=Math.trunc(+a/1e3);return he(i,t.length)},T:function(a,t,n){return he(+a,t.length)}};function z1(a,t=""){const n=a>0?"-":"+",i=Math.abs(a),s=Math.trunc(i/60),l=i%60;return l===0?n+String(s):n+String(s)+t+he(l,2)}function L1(a,t){return a%60===0?(a>0?"-":"+")+he(Math.abs(a)/60,2):os(a,t)}function os(a,t=""){const n=a>0?"-":"+",i=Math.abs(a),s=he(Math.trunc(i/60),2),l=he(i%60,2);return n+s+t+l}const B1=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Hb=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},vx=(a,t)=>{const n=a.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return B1(a,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",B1(i,t)).replace("{{time}}",Hb(s,t))},_x={p:Hb,P:vx},Ex=/^D+$/,Tx=/^Y+$/,bx=["D","DD","YY","YYYY"];function Ax(a){return Ex.test(a)}function Sx(a){return Tx.test(a)}function wx(a,t,n){const i=Ix(a,t,n);if(console.warn(i),bx.includes(a))throw new RangeError(i)}function Ix(a,t,n){const i=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cx=/^'([^]*?)'?$/,xx=/''/g,Vx=/[a-zA-Z]/;function Fu(a,t,n){const i=Lh(),s=n?.locale??i.locale??dx,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,d=fn(a,n?.in);if(!MC(d))throw new RangeError("Invalid time value");let g=t.match(Dx).map(y=>{const v=y[0];if(v==="p"||v==="P"){const E=_x[v];return E(y,s.formatLong)}return y}).join("").match(Rx).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:Mx(y)};if(U1[v])return{isToken:!0,value:y};if(v.match(Vx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(g=s.localize.preprocessor(d,g));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return g.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!n?.useAdditionalWeekYearTokens&&Sx(v)||!n?.useAdditionalDayOfYearTokens&&Ax(v))&&wx(v,t,String(a));const E=U1[v[0]];return E(d,v,s.localize,p)}).join("")}function Mx(a){const t=a.match(Cx);return t?t[1].replace(xx,"'"):a}function Nx(a,t,n){const i=+fn(a,n?.in),[s,l]=[+fn(t.start,n?.in),+fn(t.end,n?.in)].sort((c,d)=>c-d);return i>=s&&i<=l}function Gb(a,t){const n=()=>Mi(t?.in,NaN),s=zx(a);let l;if(s.date){const p=Lx(s.date,2);l=Bx(p.restDateString,p.year)}if(!l||isNaN(+l))return n();const c=+l;let d=0,g;if(s.time&&(d=kx(s.time),isNaN(d)))return n();if(s.timezone){if(g=jx(s.timezone),isNaN(g))return n()}else{const p=new Date(c+d),y=fn(0,t?.in);return y.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),y.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),y}return fn(c+d+g,t?.in)}const xf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ox=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Px=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ux=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zx(a){const t={},n=a.split(xf.dateTimeDelimiter);let i;if(n.length>2)return t;if(/:/.test(n[0])?i=n[0]:(t.date=n[0],i=n[1],xf.timeZoneDelimiter.test(t.date)&&(t.date=a.split(xf.timeZoneDelimiter)[0],i=a.substr(t.date.length,a.length))),i){const s=xf.timezone.exec(i);s?(t.time=i.replace(s[1],""),t.timezone=s[1]):t.time=i}return t}function Lx(a,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=a.match(n);if(!i)return{year:NaN,restDateString:""};const s=i[1]?parseInt(i[1]):null,l=i[2]?parseInt(i[2]):null;return{year:l===null?s:l*100,restDateString:a.slice((i[1]||i[2]).length)}}function Bx(a,t){if(t===null)return new Date(NaN);const n=a.match(Ox);if(!n)return new Date(NaN);const i=!!n[4],s=fu(n[1]),l=fu(n[2])-1,c=fu(n[3]),d=fu(n[4]),g=fu(n[5])-1;if(i)return Qx(t,d,g)?Fx(t,d,g):new Date(NaN);{const p=new Date(0);return!Hx(t,l,c)||!Gx(t,s)?new Date(NaN):(p.setUTCFullYear(t,l,Math.max(s,c)),p)}}function fu(a){return a?parseInt(a):1}function kx(a){const t=a.match(Px);if(!t)return NaN;const n=Jm(t[1]),i=Jm(t[2]),s=Jm(t[3]);return Yx(n,i,s)?n*kb+i*Bb+s*1e3:NaN}function Jm(a){return a&&parseFloat(a.replace(",","."))||0}function jx(a){if(a==="Z")return 0;const t=a.match(Ux);if(!t)return 0;const n=t[1]==="+"?-1:1,i=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Kx(i,s)?n*(i*kb+s*Bb):NaN}function Fx(a,t,n){const i=new Date(0);i.setUTCFullYear(a,0,4);const s=i.getUTCDay()||7,l=(t-1)*7+n+1-s;return i.setUTCDate(i.getUTCDate()+l),i}const qx=[31,null,31,30,31,30,31,31,30,31,30,31];function Qb(a){return a%400===0||a%4===0&&a%100!==0}function Hx(a,t,n){return t>=0&&t<=11&&n>=1&&n<=(qx[t]||(Qb(a)?29:28))}function Gx(a,t){return t>=1&&t<=(Qb(a)?366:365)}function Qx(a,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Yx(a,t,n){return a===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&a>=0&&a<25}function Kx(a,t){return t>=0&&t<=59}const Xx=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zx=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),k1=a=>{const t=Zx(a);return t.charAt(0).toUpperCase()+t.slice(1)},Yb=(...a)=>a.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),Wx=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var $x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jx=de.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...d},g)=>de.createElement("svg",{ref:g,...$x,width:t,height:t,stroke:a,strokeWidth:i?Number(n)*24/Number(t):n,className:Yb("lucide",s),...!l&&!Wx(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>de.createElement(p,y)),...Array.isArray(l)?l:[l]]));const rl=(a,t)=>{const n=de.forwardRef(({className:i,...s},l)=>de.createElement(Jx,{ref:l,iconNode:t,className:Yb(`lucide-${Xx(k1(a))}`,`lucide-${a}`,i),...s}));return n.displayName=k1(a),n};const t4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],e4=rl("camera",t4);const n4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],r4=rl("circle-plus",n4);const i4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],a4=rl("image",i4);const s4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],o4=rl("trash-2",s4);const l4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],u4=rl("wallet",l4);const c4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kb=rl("x",c4);function Xb(a,t){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(a);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(a,i[s])&&(n[i[s]]=a[i[s]]);return n}var qu;(function(a){a.event="event",a.props="prop"})(qu||(qu={}));function pa(){}function f4(a){var t,n=void 0;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return t&&i.length===t.length&&i.every(function(l,c){return l===t[c]})||(t=i,n=a.apply(void 0,i)),n}}function Hu(a){return!!(a||"").match(/\d/)}function Lo(a){return a==null}function h4(a){return typeof a=="number"&&isNaN(a)}function Zb(a){return Lo(a)||h4(a)||typeof a=="number"&&!isFinite(a)}function Wb(a){return a.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function d4(a){switch(a){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}function m4(a,t,n){var i=d4(n),s=a.search(/[1-9]/);return s=s===-1?a.length:s,a.substring(0,s)+a.substring(s,a.length).replace(i,"$1"+t)}function g4(a){var t=de.useRef(a);t.current=a;var n=de.useRef(function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return t.current.apply(t,i)});return n.current}function bp(a,t){t===void 0&&(t=!0);var n=a[0]==="-",i=n&&t;a=a.replace("-","");var s=a.split("."),l=s[0],c=s[1]||"";return{beforeDecimal:l,afterDecimal:c,hasNegation:n,addNegation:i}}function p4(a){if(!a)return a;var t=a[0]==="-";t&&(a=a.substring(1,a.length));var n=a.split("."),i=n[0].replace(/^0+/,"")||"0",s=n[1]||"";return(t?"-":"")+i+(s?"."+s:"")}function $b(a,t,n){for(var i="",s=n?"0":"",l=0;l<=t-1;l++)i+=a[l]||s;return i}function j1(a,t){return Array(t+1).join(a)}function Jb(a){var t=a+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var i=t.split(/[eE]/g),s=i[0],l=i[1];if(l=Number(l),!l)return n+s;s=s.replace(".","");var c=1+l,d=s.length;return c<0?s="0."+j1("0",Math.abs(c))+s:c>=d?s=s+j1("0",c-d):s=(s.substring(0,c)||"0")+"."+s.substring(c),n+s}function F1(a,t,n){if(["","-"].indexOf(a)!==-1)return a;var i=(a.indexOf(".")!==-1||n)&&t,s=bp(a),l=s.beforeDecimal,c=s.afterDecimal,d=s.hasNegation,g=parseFloat("0."+(c||"0")),p=c.length<=t?"0."+c:g.toFixed(t),y=p.split("."),v=l;l&&Number(y[0])&&(v=l.split("").reverse().reduce(function(z,k,L){return z.length>L?(Number(z[0])+Number(k)).toString()+z.substring(1,z.length):k+z},y[0]));var E=$b(y[1]||"",t,n),w=d?"-":"",M=i?".":"";return""+w+v+M+E}function hs(a,t){if(a.value=a.value,a!==null){if(a.createTextRange){var n=a.createTextRange();return n.move("character",t),n.select(),!0}return a.selectionStart||a.selectionStart===0?(a.focus(),a.setSelectionRange(t,t),!0):(a.focus(),!1)}}var t2=f4(function(a,t){for(var n=0,i=0,s=a.length,l=t.length;a[n]===t[n]&&n<s;)n++;for(;a[s-1-i]===t[l-1-i]&&l-i>n&&s-i>n;)i++;return{from:{start:n,end:s-i},to:{start:n,end:l-i}}}),y4=function(a,t){var n=Math.min(a.selectionStart,t);return{from:{start:n,end:a.selectionEnd},to:{start:n,end:t}}};function v4(a,t,n){return Math.min(Math.max(a,t),n)}function tg(a){return Math.max(a.selectionStart,a.selectionEnd)}function _4(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function E4(a){return{from:{start:0,end:0},to:{start:0,end:a.length},lastValue:""}}function T4(a){var t=a.currentValue,n=a.formattedValue,i=a.currentValueIndex,s=a.formattedValueIndex;return t[i]===n[s]}function b4(a,t,n,i,s,l,c){c===void 0&&(c=T4);var d=s.findIndex(function(Y){return Y}),g=a.slice(0,d);!t&&!n.startsWith(g)&&(t=g,n=g+n,i=i+g.length);for(var p=n.length,y=a.length,v={},E=new Array(p),w=0;w<p;w++){E[w]=-1;for(var M=0,z=y;M<z;M++){var k=c({currentValue:n,lastValue:t,formattedValue:a,currentValueIndex:w,formattedValueIndex:M});if(k&&v[M]!==!0){E[w]=M,v[M]=!0;break}}}for(var L=i;L<p&&(E[L]===-1||!l(n[L]));)L++;var nt=L===p||E[L]===-1?y:E[L];for(L=i-1;L>0&&E[L]===-1;)L--;var Q=L===-1||E[L]===-1?0:E[L]+1;return Q>nt?nt:i-Q<nt-i?Q:nt}function q1(a,t,n,i){var s=a.length;if(t=v4(t,0,s),i==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=s&&!n[t];)t++;t>s&&(t=n.lastIndexOf(!0))}return t===-1&&(t=s),t}function A4(a){for(var t=Array.from({length:a.length+1}).map(function(){return!0}),n=0,i=t.length;n<i;n++)t[n]=!!(Hu(a[n])||Hu(a[n-1]));return t}function e2(a,t,n,i,s,l){l===void 0&&(l=pa);var c=g4(function(M,z){var k,L;return Zb(M)?(L="",k=""):typeof M=="number"||z?(L=typeof M=="number"?Jb(M):M,k=i(L)):(L=s(M,void 0),k=i(L)),{formattedValue:k,numAsString:L}}),d=de.useState(function(){return c(Lo(a)?t:a,n)}),g=d[0],p=d[1],y=function(M,z){M.formattedValue!==g.formattedValue&&p({formattedValue:M.formattedValue,numAsString:M.value}),l(M,z)},v=a,E=n;Lo(a)&&(v=g.numAsString,E=!0);var w=c(v,E);return de.useMemo(function(){p(w)},[w.formattedValue]),[g,y]}function S4(a){return a.replace(/[^0-9]/g,"")}function w4(a){return a}function I4(a){var t=a.type;t===void 0&&(t="text");var n=a.displayType;n===void 0&&(n="input");var i=a.customInput,s=a.renderText,l=a.getInputRef,c=a.format;c===void 0&&(c=w4);var d=a.removeFormatting;d===void 0&&(d=S4);var g=a.defaultValue,p=a.valueIsNumericString,y=a.onValueChange,v=a.isAllowed,E=a.onChange;E===void 0&&(E=pa);var w=a.onKeyDown;w===void 0&&(w=pa);var M=a.onMouseUp;M===void 0&&(M=pa);var z=a.onFocus;z===void 0&&(z=pa);var k=a.onBlur;k===void 0&&(k=pa);var L=a.value,nt=a.getCaretBoundary;nt===void 0&&(nt=A4);var Q=a.isValidInputCharacter;Q===void 0&&(Q=Hu);var Y=a.isCharacterSame,at=Xb(a,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),B=e2(L,g,!!p,c,d,y),V=B[0],T=V.formattedValue,A=V.numAsString,x=B[1],C=de.useRef(),N=de.useRef({formattedValue:T,numAsString:A}),D=function(gt,yt){N.current={formattedValue:gt.formattedValue,numAsString:gt.value},x(gt,yt)},q=de.useState(!1),W=q[0],I=q[1],R=de.useRef(null),K=de.useRef({setCaretTimeout:null,focusTimeout:null});de.useEffect(function(){return I(!0),function(){clearTimeout(K.current.setCaretTimeout),clearTimeout(K.current.focusTimeout)}},[]);var G=c,J=function(gt,yt){var _t=parseFloat(yt);return{formattedValue:gt,value:yt,floatValue:isNaN(_t)?void 0:_t}},U=function(gt,yt,_t){gt.selectionStart===0&&gt.selectionEnd===gt.value.length||(hs(gt,yt),K.current.setCaretTimeout=setTimeout(function(){gt.value===_t&&gt.selectionStart!==yt&&hs(gt,yt)},0))},F=function(gt,yt,_t){return q1(gt,yt,nt(gt),_t)},ot=function(gt,yt,_t){var Rt=nt(yt),Lt=b4(yt,T,gt,_t,Rt,Q,Y);return Lt=q1(yt,Lt,Rt),Lt},et=function(gt){var yt=gt.formattedValue;yt===void 0&&(yt="");var _t=gt.input,Rt=gt.source,Lt=gt.event,kt=gt.numAsString,Mt;if(_t){var Ot=gt.inputValue||_t.value,se=tg(_t);_t.value=yt,Mt=ot(Ot,yt,se),Mt!==void 0&&U(_t,Mt,yt)}yt!==T&&D(J(yt,kt),{event:Lt,source:Rt})};de.useEffect(function(){var gt=N.current,yt=gt.formattedValue,_t=gt.numAsString;(T!==yt||A!==_t)&&D(J(T,A),{event:void 0,source:qu.props})},[T,A]);var Z=R.current?tg(R.current):void 0,pt=typeof window<"u"?de.useLayoutEffect:de.useEffect;pt(function(){var gt=R.current;if(T!==N.current.formattedValue&&gt){var yt=ot(N.current.formattedValue,T,Z);gt.value=T,U(gt,yt,T)}},[T]);var St=function(gt,yt,_t){var Rt=yt.target,Lt=C.current?y4(C.current,Rt.selectionEnd):t2(T,gt),kt=Object.assign(Object.assign({},Lt),{lastValue:T}),Mt=d(gt,kt),Ot=G(Mt);if(Mt=d(Ot,void 0),v&&!v(J(Ot,Mt))){var se=yt.target,Oe=tg(se),Pn=ot(gt,T,Oe);return se.value=T,U(se,Pn,T),!1}return et({formattedValue:Ot,numAsString:Mt,inputValue:gt,event:yt,source:_t,input:yt.target}),!0},Nt=function(gt,yt){yt===void 0&&(yt=0);var _t=gt.selectionStart,Rt=gt.selectionEnd;C.current={selectionStart:_t,selectionEnd:Rt+yt}},Ct=function(gt){var yt=gt.target,_t=yt.value,Rt=St(_t,gt,qu.event);Rt&&E(gt),C.current=void 0},Xt=function(gt){var yt=gt.target,_t=gt.key,Rt=yt.selectionStart,Lt=yt.selectionEnd,kt=yt.value;kt===void 0&&(kt="");var Mt;_t==="ArrowLeft"||_t==="Backspace"?Mt=Math.max(Rt-1,0):_t==="ArrowRight"?Mt=Math.min(Rt+1,kt.length):_t==="Delete"&&(Mt=Rt);var Ot=0;_t==="Delete"&&Rt===Lt&&(Ot=1);var se=_t==="ArrowLeft"||_t==="ArrowRight";if(Mt===void 0||Rt!==Lt&&!se){w(gt),Nt(yt,Ot);return}var Oe=Mt;if(se){var Pn=_t==="ArrowLeft"?"left":"right";Oe=F(kt,Mt,Pn),Oe!==Mt&&gt.preventDefault()}else _t==="Delete"&&!Q(kt[Mt])?Oe=F(kt,Mt,"right"):_t==="Backspace"&&!Q(kt[Mt])&&(Oe=F(kt,Mt,"left"));Oe!==Mt&&U(yt,Oe,kt),w(gt),Nt(yt,Ot)},ae=function(gt){var yt=gt.target,_t=function(){var Rt=yt.selectionStart,Lt=yt.selectionEnd,kt=yt.value;if(kt===void 0&&(kt=""),Rt===Lt){var Mt=F(kt,Rt);Mt!==Rt&&U(yt,Mt,kt)}};_t(),requestAnimationFrame(function(){_t()}),M(gt),Nt(yt)},pe=function(gt){gt.persist&&gt.persist();var yt=gt.target,_t=gt.currentTarget;R.current=yt,K.current.focusTimeout=setTimeout(function(){var Rt=yt.selectionStart,Lt=yt.selectionEnd,kt=yt.value;kt===void 0&&(kt="");var Mt=F(kt,Rt);Mt!==Rt&&!(Rt===0&&Lt===kt.length)&&U(yt,Mt,kt),z(Object.assign(Object.assign({},gt),{currentTarget:_t}))},0)},Tn=function(gt){R.current=null,clearTimeout(K.current.focusTimeout),clearTimeout(K.current.setCaretTimeout),k(gt)},Ne=W&&_4()?"numeric":void 0,ne=Object.assign({inputMode:Ne},at,{type:t,value:T,onChange:Ct,onKeyDown:Xt,onMouseUp:ae,onFocus:pe,onBlur:Tn});if(n==="text")return s?ti.createElement(ti.Fragment,null,s(T,at)||null):ti.createElement("span",Object.assign({},at,{ref:l}),T);if(i){var Se=i;return ti.createElement(Se,Object.assign({},ne,{ref:l}))}return ti.createElement("input",Object.assign({},ne,{ref:l}))}function H1(a,t){var n=t.decimalScale,i=t.fixedDecimalScale,s=t.prefix;s===void 0&&(s="");var l=t.suffix;l===void 0&&(l="");var c=t.allowNegative,d=t.thousandsGroupStyle;if(d===void 0&&(d="thousand"),a===""||a==="-")return a;var g=Bh(t),p=g.thousandSeparator,y=g.decimalSeparator,v=n!==0&&a.indexOf(".")!==-1||n&&i,E=bp(a,c),w=E.beforeDecimal,M=E.afterDecimal,z=E.addNegation;return n!==void 0&&(M=$b(M,n,!!i)),p&&(w=m4(w,p,d)),s&&(w=s+w),l&&(M=M+l),z&&(w="-"+w),a=w+(v&&y||"")+M,a}function Bh(a){var t=a.decimalSeparator;t===void 0&&(t=".");var n=a.thousandSeparator,i=a.allowedDecimalSeparators;return n===!0&&(n=","),i||(i=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:i}}function R4(a,t){a===void 0&&(a="");var n=new RegExp("(-)"),i=new RegExp("(-)(.)*(-)"),s=n.test(a),l=i.test(a);return a=a.replace(/-/g,""),s&&!l&&t&&(a="-"+a),a}function D4(a,t){return new RegExp("(^-)|[0-9]|"+Wb(a),"g")}function C4(a,t,n){return a===""?!0:!t?.match(/\d/)&&!n?.match(/\d/)&&typeof a=="string"&&!isNaN(Number(a))}function x4(a,t,n){var i;t===void 0&&(t=E4(a));var s=n.allowNegative,l=n.prefix;l===void 0&&(l="");var c=n.suffix;c===void 0&&(c="");var d=n.decimalScale,g=t.from,p=t.to,y=p.start,v=p.end,E=Bh(n),w=E.allowedDecimalSeparators,M=E.decimalSeparator,z=a[v]===M;if(Hu(a)&&(a===l||a===c)&&t.lastValue==="")return a;if(v-y===1&&w.indexOf(a[y])!==-1){var k=d===0?"":M;a=a.substring(0,y)+k+a.substring(y+1,a.length)}var L=function(R,K,G){var J=!1,U=!1;l.startsWith("-")?J=!1:R.startsWith("--")?(J=!1,U=!0):c.startsWith("-")&&R.length===c.length?J=!1:R[0]==="-"&&(J=!0);var F=J?1:0;return U&&(F=2),F&&(R=R.substring(F),K-=F,G-=F),{value:R,start:K,end:G,hasNegation:J}},nt=L(a,y,v),Q=nt.hasNegation;i=nt,a=i.value,y=i.start,v=i.end;var Y=L(t.lastValue,g.start,g.end),at=Y.start,B=Y.end,V=Y.value,T=a.substring(y,v);a.length&&V.length&&(at>V.length-c.length||B<l.length)&&!(T&&c.startsWith(T))&&(a=V);var A=0;a.startsWith(l)?A+=l.length:y<l.length&&(A=y),a=a.substring(A),v-=A;var x=a.length,C=a.length-c.length;a.endsWith(c)?x=C:(v>C||v>a.length-c.length)&&(x=v),a=a.substring(0,x),a=R4(Q?"-"+a:a,s),a=(a.match(D4(M))||[]).join("");var N=a.indexOf(M);a=a.replace(new RegExp(Wb(M),"g"),function(R,K){return K===N?".":""});var D=bp(a,s),q=D.beforeDecimal,W=D.afterDecimal,I=D.addNegation;return p.end-p.start<g.end-g.start&&q===""&&z&&!parseFloat(W)&&(a=I?"-":""),a}function V4(a,t){var n=t.prefix;n===void 0&&(n="");var i=t.suffix;i===void 0&&(i="");var s=Array.from({length:a.length+1}).map(function(){return!0}),l=a[0]==="-";s.fill(!1,0,n.length+(l?1:0));var c=a.length;return s.fill(!1,c-i.length+1,c+1),s}function M4(a){var t=Bh(a),n=t.thousandSeparator,i=t.decimalSeparator,s=a.prefix;s===void 0&&(s="");var l=a.allowNegative;if(l===void 0&&(l=!0),n===i)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+i+` (default value for decimalSeparator is .)
     `);return s.startsWith("-")&&l&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+s+`
      allowNegative: `+l+`
    `),l=!1),Object.assign(Object.assign({},a),{allowNegative:l})}function N4(a){a=M4(a),a.decimalSeparator,a.allowedDecimalSeparators,a.thousandsGroupStyle;var t=a.suffix,n=a.allowNegative,i=a.allowLeadingZeros,s=a.onKeyDown;s===void 0&&(s=pa);var l=a.onBlur;l===void 0&&(l=pa);var c=a.thousandSeparator,d=a.decimalScale,g=a.fixedDecimalScale,p=a.prefix;p===void 0&&(p="");var y=a.defaultValue,v=a.value,E=a.valueIsNumericString,w=a.onValueChange,M=Xb(a,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),z=Bh(a),k=z.decimalSeparator,L=z.allowedDecimalSeparators,nt=function(I){return H1(I,a)},Q=function(I,R){return x4(I,R,a)},Y=Lo(v)?y:v,at=E??C4(Y,p,t);Lo(v)?Lo(y)||(at=at||typeof y=="number"):at=at||typeof v=="number";var B=function(I){return Zb(I)?I:(typeof I=="number"&&(I=Jb(I)),at&&typeof d=="number"?F1(I,d,!!g):I)},V=e2(B(v),B(y),!!at,nt,Q,w),T=V[0],A=T.numAsString,x=T.formattedValue,C=V[1],N=function(I){var R=I.target,K=I.key,G=R.selectionStart,J=R.selectionEnd,U=R.value;if(U===void 0&&(U=""),(K==="Backspace"||K==="Delete")&&J<p.length){I.preventDefault();return}if(G!==J){s(I);return}K==="Backspace"&&U[0]==="-"&&G===p.length+1&&n&&hs(R,1),d&&g&&(K==="Backspace"&&U[G-1]===k?(hs(R,G-1),I.preventDefault()):K==="Delete"&&U[G]===k&&I.preventDefault()),L?.includes(K)&&U[G]===k&&hs(R,G+1);var F=c===!0?",":c;K==="Backspace"&&U[G-1]===F&&hs(R,G-1),K==="Delete"&&U[G]===F&&hs(R,G+1),s(I)},D=function(I){var R=A;if(R.match(/\d/g)||(R=""),i||(R=p4(R)),g&&d&&(R=F1(R,d,g)),R!==A){var K=H1(R,a);C({formattedValue:K,value:R,floatValue:parseFloat(R)},{event:I,source:qu.event})}l(I)},q=function(I){return I===k?!0:Hu(I)},W=function(I){var R=I.currentValue,K=I.lastValue,G=I.formattedValue,J=I.currentValueIndex,U=I.formattedValueIndex,F=R[J],ot=G[U],et=t2(K,R),Z=et.to,pt=function(St){return Q(St).indexOf(".")+p.length};return v===0&&g&&d&&R[Z.start]===k&&pt(R)<J&&pt(G)>U?!1:J>=Z.start&&J<Z.end&&L&&L.includes(F)&&ot===k?!0:F===ot};return Object.assign(Object.assign({},M),{value:x,valueIsNumericString:!1,isValidInputCharacter:q,isCharacterSame:W,onValueChange:C,format:nt,removeFormatting:Q,getCaretBoundary:function(I){return V4(I,a)},onKeyDown:N,onBlur:D})}function O4(a){var t=N4(a);return ti.createElement(I4,Object.assign({},t))}var Vf={},G1;function P4(){if(G1)return Vf;G1=1,Object.defineProperty(Vf,"__esModule",{value:!0});function a(g){switch(g){case 1:return"Un";case 2:return"Dos";case 3:return"Tres";case 4:return"Cuatro";case 5:return"Cinco";case 6:return"Seis";case 7:return"Siete";case 8:return"Ocho";case 9:return"Nueve";default:return""}}function t(g,p){return p>0?g+" y "+a(p):g}function n(g){var p=Math.floor(g/10),y=g-p*10;switch(p){case 1:switch(y){case 0:return"Diez";case 1:return"Once";case 2:return"Doce";case 3:return"Trece";case 4:return"Catorce";case 5:return"Quince";default:return"Dieci"+a(y).toLowerCase()}case 2:return y===0?"Veinte":"Veinti"+a(y).toLowerCase();case 3:return t("Treinta",y);case 4:return t("Cuarenta",y);case 5:return t("Cincuenta",y);case 6:return t("Sesenta",y);case 7:return t("Setenta",y);case 8:return t("Ochenta",y);case 9:return t("Noventa",y);case 0:return a(y);default:return""}}function i(g){var p=Math.floor(g/100),y=g-p*100;switch(p){case 1:return y>0?"Ciento "+n(y):"Cien";case 2:return"Doscientos "+n(y);case 3:return"Trescientos "+n(y);case 4:return"Cuatrocientos "+n(y);case 5:return"Quinientos "+n(y);case 6:return"Seiscientos "+n(y);case 7:return"Setecientos "+n(y);case 8:return"Ochocientos "+n(y);case 9:return"Novecientos "+n(y);default:return n(y)}}function s(g,p,y,v){var E=Math.floor(g/p),w=g-E*p,M="";return E>0&&(E>1?M=i(E)+" "+v:M=y),w>0&&(M+=""),M}function l(g){var p=1e3,y=Math.floor(g/p),v=g-y*p,E=s(g,p,"Un Mil","Mil"),w=i(v);return E===""?w:(E+" "+w).trim()}function c(g){var p=1e6,y=Math.floor(g/p),v=g-y*p,E=s(g,p,"Un Milln de","Millones de"),w=l(v);return E===""?w:(E+" "+w).trim()}function d(g){var p={enteros:Math.floor(g),centavos:Math.round(g*100)-Math.floor(g)*100,letrasCentavos:"",letrasMonedaPlural:"Pesos",letrasMonedaSingular:"Peso",letrasMonedaCentavoPlural:"/100 M.N.",letrasMonedaCentavoSingular:"/100 M.N."};return p.centavos>=0&&(p.letrasCentavos=(function(){return p.centavos>=1&p.centavos<=9?"0"+p.centavos+p.letrasMonedaCentavoSingular:p.centavos===0?"00"+p.letrasMonedaCentavoSingular:p.centavos+p.letrasMonedaCentavoPlural})()),p.enteros===0?("Cero "+p.letrasMonedaPlural+" "+p.letrasCentavos).trim():p.enteros===1?(c(p.enteros)+" "+p.letrasMonedaSingular+" "+p.letrasCentavos).trim():(c(p.enteros)+" "+p.letrasMonedaPlural+" "+p.letrasCentavos).trim()}return Vf.NumerosALetras=d,Vf}var U4=P4();const z4=()=>{const a=zh(M=>M.addExpense),[t,n]=de.useState(""),[i,s]=de.useState(""),[l,c]=de.useState(Fu(new Date,"yyyy-MM-dd")),[d,g]=de.useState(null),[p,y]=de.useState(null),v=M=>{const z=M.target.files[0];z&&(g(z),y(URL.createObjectURL(z)))},E=()=>{g(null),y(null)},w=async M=>{if(M.preventDefault(),!t||!i)return;let z=null;d&&(z=await AC(d)),a({amount:parseFloat(t),description:i,date:l,imageId:z}),n(""),s(""),c(Fu(new Date,"yyyy-MM-dd")),E()};return It.jsxs("form",{onSubmit:w,className:"bg-white p-6 rounded-2xl shadow-md mb-6 border border-gray-100",children:[It.jsxs("div",{className:"mb-4",children:[It.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Valor"}),It.jsx(O4,{value:t,onValueChange:M=>n(M.value),thousandSeparator:".",decimalSeparator:",",prefix:"$ ",placeholder:"$ 0",className:"w-full text-3xl font-bold p-3 border-b-2 border-gray-200 focus:border-blue-500 outline-none transition-colors placeholder-gray-300",inputMode:"decimal",required:!0}),t&&It.jsx("p",{className:"text-gray-500 text-sm mt-1 uppercase font-medium",children:U4.numeroALetras(parseFloat(t),{plural:"PESOS",singular:"PESO",centPlural:"CENTAVOS",centSingular:"CENTAVO"})})]}),It.jsxs("div",{className:"mb-4",children:[It.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Descripcin"}),It.jsx("input",{type:"text",value:i,onChange:M=>s(M.target.value),placeholder:"Ej: Medicamentos",className:"w-full text-lg p-3 bg-gray-50 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),It.jsxs("div",{className:"mb-6",children:[It.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Fecha"}),It.jsx("input",{type:"date",value:l,onChange:M=>c(M.target.value),className:"w-full text-lg p-3 bg-gray-50 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),It.jsxs("div",{className:"mb-6",children:[It.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Foto / Recibo (Opcional)"}),p?It.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:[It.jsx("img",{src:p,alt:"Preview",className:"w-full h-full object-contain"}),It.jsx("button",{type:"button",onClick:E,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full shadow-md hover:bg-red-600 transition-colors",children:It.jsx(Kb,{size:20})})]}):It.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[It.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[It.jsx(e4,{className:"w-8 h-8 text-gray-400 mb-2"}),It.jsx("p",{className:"text-sm text-gray-500",children:"Toca para agregar foto"})]}),It.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:v})]})]}),It.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95 text-lg",children:[It.jsx(r4,{size:24}),"Agregar Gasto"]})]})},L4={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},B4=(a,t,n)=>{let i;const s=L4[a];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+i:"hace "+i:i},k4={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},j4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},F4={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q4={date:zo({formats:k4,defaultWidth:"full"}),time:zo({formats:j4,defaultWidth:"full"}),dateTime:zo({formats:F4,defaultWidth:"full"})},H4={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},G4={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Q4=(a,t,n,i)=>t.getHours()!==1?G4[a]:H4[a],Y4={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},K4={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},X4={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Z4={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},W4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},$4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},J4=(a,t)=>Number(a)+"",tV={ordinalNumber:J4,era:ei({values:Y4,defaultWidth:"wide"}),quarter:ei({values:K4,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:ei({values:X4,defaultWidth:"wide"}),day:ei({values:Z4,defaultWidth:"wide"}),dayPeriod:ei({values:W4,defaultWidth:"wide",formattingValues:$4,defaultFormattingWidth:"wide"})},eV=/^(\d+)()?/i,nV=/\d+/i,rV={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},iV={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},aV={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},sV={any:[/1/i,/2/i,/3/i,/4/i]},oV={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},lV={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},uV={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},cV={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},fV={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},hV={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},dV={ordinalNumber:Fb({matchPattern:eV,parsePattern:nV,valueCallback:function(a){return parseInt(a,10)}}),era:ni({matchPatterns:rV,defaultMatchWidth:"wide",parsePatterns:iV,defaultParseWidth:"any"}),quarter:ni({matchPatterns:aV,defaultMatchWidth:"wide",parsePatterns:sV,defaultParseWidth:"any",valueCallback:a=>a+1}),month:ni({matchPatterns:oV,defaultMatchWidth:"wide",parsePatterns:lV,defaultParseWidth:"any"}),day:ni({matchPatterns:uV,defaultMatchWidth:"wide",parsePatterns:cV,defaultParseWidth:"any"}),dayPeriod:ni({matchPatterns:fV,defaultMatchWidth:"any",parsePatterns:hV,defaultParseWidth:"any"})},xg={code:"es",formatDistance:B4,formatLong:q4,formatRelative:Q4,localize:tV,match:dV,options:{weekStartsOn:1,firstWeekContainsDate:1}},mV=({imageId:a,onClose:t})=>{const[n,i]=de.useState(null);return de.useEffect(()=>{let s=!0;return SC(a).then(l=>{s&&l&&i(l)}),()=>{s=!1}},[a]),n?It.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:t,children:It.jsxs("div",{className:"relative max-w-full max-h-full",children:[It.jsx("button",{onClick:t,className:"absolute -top-10 right-0 text-white p-2",children:It.jsx(Kb,{size:30})}),It.jsx("img",{src:n,alt:"Recibo",className:"max-w-full max-h-[80vh] rounded-lg shadow-2xl"})]})}):null},gV=()=>{const{expenses:a,removeExpense:t}=zh(),[n,i]=de.useState(null),l=[...a].sort((c,d)=>new Date(d.date)-new Date(c.date)).reduce((c,d)=>{const g=d.date.substring(0,7);return c[g]||(c[g]=[]),c[g].push(d),c},{});return It.jsxs("div",{className:"space-y-6",children:[Object.keys(l).sort().reverse().map(c=>{const[d,g]=c.split("-"),p=new Date(parseInt(d),parseInt(g)-1),y=Fu(p,"MMMM yyyy",{locale:xg});return It.jsxs("div",{children:[It.jsx("h3",{className:"text-gray-500 font-bold mb-3 px-2 sticky top-0 bg-gray-50 py-2 capitalize",children:y}),It.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:l[c].map(v=>It.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50 transition-colors",children:[It.jsxs("div",{className:"flex flex-col",children:[It.jsx("span",{className:"font-medium text-gray-800 text-lg",children:v.description}),It.jsx("span",{className:"text-gray-400 text-sm",children:Fu(Gb(v.date),"dd MMM",{locale:xg})})]}),It.jsxs("div",{className:"flex items-center gap-3",children:[v.imageId&&It.jsx("button",{onClick:()=>i(v.imageId),className:"text-blue-500 hover:text-blue-700 p-2 rounded-full hover:bg-blue-50 transition-colors","aria-label":"Ver recibo",children:It.jsx(a4,{size:20})}),It.jsxs("span",{className:"font-bold text-gray-900 text-lg",children:["$",v.amount.toLocaleString("es-CO")]}),It.jsx("button",{onClick:()=>t(v.id),className:"text-red-400 hover:text-red-600 p-1.5 rounded-full hover:bg-red-50 transition-colors","aria-label":"Eliminar",children:It.jsx(o4,{size:20})})]})]},v.id))})]},c)}),a.length===0&&It.jsx("div",{className:"text-center py-10 text-gray-400",children:It.jsx("p",{children:"No hay gastos registrados an."})}),n&&It.jsx(mV,{imageId:n,onClose:()=>i(null)})]})},pV=()=>{const a=zh(c=>c.expenses),t=new Date,n=OC(t),i=NC(t),s=a.filter(c=>{const d=Gb(c.date);return Nx(d,{start:n,end:i})}).reduce((c,d)=>c+parseFloat(d.amount||0),0),l=Fu(t,"MMMM",{locale:xg});return It.jsxs("div",{className:"bg-blue-600 text-white p-6 rounded-2xl shadow-lg mb-6",children:[It.jsxs("h2",{className:"text-xl opacity-90 capitalize",children:["Gastos de ",l]}),It.jsxs("p",{className:"text-5xl font-bold mt-2",children:["$",s.toLocaleString("es-CO")]})]})};function yV(){const a=zh(t=>t.fetchExpenses);return de.useEffect(()=>{a()},[a]),It.jsx("div",{className:"min-h-screen bg-gray-50 text-gray-900 pb-20",children:It.jsxs("div",{className:"max-w-md mx-auto p-4",children:[It.jsxs("header",{className:"flex items-center gap-3 py-6 px-2",children:[It.jsx("div",{className:"bg-blue-600 p-2 rounded-xl text-white",children:It.jsx(u4,{size:28})}),It.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-800",children:"Abuelo Gastos"})]}),It.jsxs("main",{children:[It.jsx(pV,{}),It.jsx(z4,{}),It.jsx(gV,{})]})]})})}FA.createRoot(document.getElementById("root")).render(It.jsx(de.StrictMode,{children:It.jsx(yV,{})}));
