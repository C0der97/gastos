(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function yA(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Mm={exports:{}},tu={};var k_;function _A(){if(k_)return tu;k_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:a,type:r,key:c,ref:s!==void 0?s:null,props:l}}return tu.Fragment=t,tu.jsx=n,tu.jsxs=n,tu}var B_;function vA(){return B_||(B_=1,Mm.exports=_A()),Mm.exports}var bt=vA(),Nm={exports:{}},Mt={};var j_;function EA(){if(j_)return Mt;j_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function B(U,H,ot){this.props=U,this.context=H,this.refs=j,this.updater=ot||O}B.prototype.isReactComponent={},B.prototype.setState=function(U,H){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,H,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function rt(){}rt.prototype=B.prototype;function Q(U,H,ot){this.props=U,this.context=H,this.refs=j,this.updater=ot||O}var K=Q.prototype=new rt;K.constructor=Q,z(K,B.prototype),K.isPureReactComponent=!0;var ut=Array.isArray;function L(){}var M={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(U,H,ot){var et=ot.ref;return{$$typeof:a,type:U,key:H,ref:et!==void 0?et:null,props:ot}}function C(U,H){return A(U.type,H,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===a}function N(U){var H={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ot){return H[ot]})}var I=/\/+/g;function F(U,H){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):H.toString(36)}function J(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(L,L):(U.status="pending",U.then(function(H){U.status==="pending"&&(U.status="fulfilled",U.value=H)},function(H){U.status==="pending"&&(U.status="rejected",U.reason=H)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function R(U,H,ot,et,Z){var gt=typeof U;(gt==="undefined"||gt==="boolean")&&(U=null);var At=!1;if(U===null)At=!0;else switch(gt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(U.$$typeof){case a:case t:At=!0;break;case y:return At=U._init,R(At(U._payload),H,ot,et,Z)}}if(At)return Z=Z(U),At=et===""?"."+F(U,0):et,ut(Z)?(ot="",At!=null&&(ot=At.replace(I,"$&/")+"/"),R(Z,H,ot,"",function(Kt){return Kt})):Z!=null&&(D(Z)&&(Z=C(Z,ot+(Z.key==null||U&&U.key===Z.key?"":(""+Z.key).replace(I,"$&/")+"/")+At)),H.push(Z)),1;At=0;var Ct=et===""?".":et+":";if(ut(U))for(var wt=0;wt<U.length;wt++)et=U[wt],gt=Ct+F(et,wt),At+=R(et,H,ot,gt,Z);else if(wt=w(U),typeof wt=="function")for(U=wt.call(U),wt=0;!(et=U.next()).done;)et=et.value,gt=Ct+F(et,wt++),At+=R(et,H,ot,gt,Z);else if(gt==="object"){if(typeof U.then=="function")return R(J(U),H,ot,et,Z);throw H=String(U),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return At}function x(U,H,ot){if(U==null)return U;var et=[],Z=0;return R(U,et,"","",function(gt){return H.call(ot,gt,Z++)}),et}function nt(U){if(U._status===-1){var H=U._result;H=H(),H.then(function(ot){(U._status===0||U._status===-1)&&(U._status=1,U._result=ot)},function(ot){(U._status===0||U._status===-1)&&(U._status=2,U._result=ot)}),U._status===-1&&(U._status=0,U._result=H)}if(U._status===1)return U._result.default;throw U._result}var Y=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},at={map:x,forEach:function(U,H,ot){x(U,function(){H.apply(this,arguments)},ot)},count:function(U){var H=0;return x(U,function(){H++}),H},toArray:function(U){return x(U,function(H){return H})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Mt.Activity=_,Mt.Children=at,Mt.Component=B,Mt.Fragment=n,Mt.Profiler=s,Mt.PureComponent=Q,Mt.StrictMode=r,Mt.Suspense=g,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},Mt.cache=function(U){return function(){return U.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(U,H,ot){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var et=z({},U.props),Z=U.key;if(H!=null)for(gt in H.key!==void 0&&(Z=""+H.key),H)!b.call(H,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&H.ref===void 0||(et[gt]=H[gt]);var gt=arguments.length-2;if(gt===1)et.children=ot;else if(1<gt){for(var At=Array(gt),Ct=0;Ct<gt;Ct++)At[Ct]=arguments[Ct+2];et.children=At}return A(U.type,Z,et)},Mt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Mt.createElement=function(U,H,ot){var et,Z={},gt=null;if(H!=null)for(et in H.key!==void 0&&(gt=""+H.key),H)b.call(H,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(Z[et]=H[et]);var At=arguments.length-2;if(At===1)Z.children=ot;else if(1<At){for(var Ct=Array(At),wt=0;wt<At;wt++)Ct[wt]=arguments[wt+2];Z.children=Ct}if(U&&U.defaultProps)for(et in At=U.defaultProps,At)Z[et]===void 0&&(Z[et]=At[et]);return A(U,gt,Z)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(U){return{$$typeof:d,render:U}},Mt.isValidElement=D,Mt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:nt}},Mt.memo=function(U,H){return{$$typeof:p,type:U,compare:H===void 0?null:H}},Mt.startTransition=function(U){var H=M.T,ot={};M.T=ot;try{var et=U(),Z=M.S;Z!==null&&Z(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(L,Y)}catch(gt){Y(gt)}finally{H!==null&&ot.types!==null&&(H.types=ot.types),M.T=H}},Mt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Mt.use=function(U){return M.H.use(U)},Mt.useActionState=function(U,H,ot){return M.H.useActionState(U,H,ot)},Mt.useCallback=function(U,H){return M.H.useCallback(U,H)},Mt.useContext=function(U){return M.H.useContext(U)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(U,H){return M.H.useDeferredValue(U,H)},Mt.useEffect=function(U,H){return M.H.useEffect(U,H)},Mt.useEffectEvent=function(U){return M.H.useEffectEvent(U)},Mt.useId=function(){return M.H.useId()},Mt.useImperativeHandle=function(U,H,ot){return M.H.useImperativeHandle(U,H,ot)},Mt.useInsertionEffect=function(U,H){return M.H.useInsertionEffect(U,H)},Mt.useLayoutEffect=function(U,H){return M.H.useLayoutEffect(U,H)},Mt.useMemo=function(U,H){return M.H.useMemo(U,H)},Mt.useOptimistic=function(U,H){return M.H.useOptimistic(U,H)},Mt.useReducer=function(U,H,ot){return M.H.useReducer(U,H,ot)},Mt.useRef=function(U){return M.H.useRef(U)},Mt.useState=function(U){return M.H.useState(U)},Mt.useSyncExternalStore=function(U,H,ot){return M.H.useSyncExternalStore(U,H,ot)},Mt.useTransition=function(){return M.H.useTransition()},Mt.version="19.2.3",Mt}var F_;function Rg(){return F_||(F_=1,Nm.exports=EA()),Nm.exports}var In=Rg();const yh=yA(In);var Om={exports:{}},eu={},Pm={exports:{}},Um={};var q_;function TA(){return q_||(q_=1,(function(a){function t(R,x){var nt=R.length;R.push(x);t:for(;0<nt;){var Y=nt-1>>>1,at=R[Y];if(0<s(at,x))R[Y]=x,R[nt]=at,nt=Y;else break t}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var x=R[0],nt=R.pop();if(nt!==x){R[0]=nt;t:for(var Y=0,at=R.length,U=at>>>1;Y<U;){var H=2*(Y+1)-1,ot=R[H],et=H+1,Z=R[et];if(0>s(ot,nt))et<at&&0>s(Z,ot)?(R[Y]=Z,R[et]=nt,Y=et):(R[Y]=ot,R[H]=nt,Y=H);else if(et<at&&0>s(Z,nt))R[Y]=Z,R[et]=nt,Y=et;else break t}}return x}function s(R,x){var nt=R.sortIndex-x.sortIndex;return nt!==0?nt:R.id-x.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var g=[],p=[],y=1,_=null,E=3,w=!1,O=!1,z=!1,j=!1,B=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function K(R){for(var x=n(p);x!==null;){if(x.callback===null)r(p);else if(x.startTime<=R)r(p),x.sortIndex=x.expirationTime,t(g,x);else break;x=n(p)}}function ut(R){if(z=!1,K(R),!O)if(n(g)!==null)O=!0,L||(L=!0,N());else{var x=n(p);x!==null&&J(ut,x.startTime-R)}}var L=!1,M=-1,b=5,A=-1;function C(){return j?!0:!(a.unstable_now()-A<b)}function D(){if(j=!1,L){var R=a.unstable_now();A=R;var x=!0;try{t:{O=!1,z&&(z=!1,rt(M),M=-1),w=!0;var nt=E;try{e:{for(K(R),_=n(g);_!==null&&!(_.expirationTime>R&&C());){var Y=_.callback;if(typeof Y=="function"){_.callback=null,E=_.priorityLevel;var at=Y(_.expirationTime<=R);if(R=a.unstable_now(),typeof at=="function"){_.callback=at,K(R),x=!0;break e}_===n(g)&&r(g),K(R)}else r(g);_=n(g)}if(_!==null)x=!0;else{var U=n(p);U!==null&&J(ut,U.startTime-R),x=!1}}break t}finally{_=null,E=nt,w=!1}x=void 0}}finally{x?N():L=!1}}}var N;if(typeof Q=="function")N=function(){Q(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=D,N=function(){F.postMessage(null)}}else N=function(){B(D,0)};function J(R,x){M=B(function(){R(a.unstable_now())},x)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(R){R.callback=null},a.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<R?Math.floor(1e3/R):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(R){switch(E){case 1:case 2:case 3:var x=3;break;default:x=E}var nt=E;E=x;try{return R()}finally{E=nt}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(R,x){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var nt=E;E=R;try{return x()}finally{E=nt}},a.unstable_scheduleCallback=function(R,x,nt){var Y=a.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?Y+nt:Y):nt=Y,R){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=nt+at,R={id:y++,callback:x,priorityLevel:R,startTime:nt,expirationTime:at,sortIndex:-1},nt>Y?(R.sortIndex=nt,t(p,R),n(g)===null&&R===n(p)&&(z?(rt(M),M=-1):z=!0,J(ut,nt-Y))):(R.sortIndex=at,t(g,R),O||w||(O=!0,L||(L=!0,N()))),R},a.unstable_shouldYield=C,a.unstable_wrapCallback=function(R){var x=E;return function(){var nt=E;E=x;try{return R.apply(this,arguments)}finally{E=nt}}}})(Um)),Um}var H_;function bA(){return H_||(H_=1,Pm.exports=TA()),Pm.exports}var zm={exports:{}},bn={};var G_;function AA(){if(G_)return bn;G_=1;var a=Rg();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(g,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:g,containerInfo:p,implementation:y}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(g,p,null,y)},bn.flushSync=function(g){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=y,r.d.f()}},bn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},bn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},bn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&r.d.X(g,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},bn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);r.d.L(g,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},bn.requestFormReset=function(g){r.d.r(g)},bn.unstable_batchedUpdates=function(g,p){return g(p)},bn.useFormState=function(g,p,y){return c.H.useFormState(g,p,y)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var Q_;function SA(){if(Q_)return zm.exports;Q_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),zm.exports=AA(),zm.exports}var Y_;function wA(){if(Y_)return eu;Y_=1;var a=bA(),t=Rg(),n=SA();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(l(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=l(e),i===null)throw Error(r(188));return i!==e?null:e}for(var o=e,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return g(f),e;if(m===u)return g(f),i;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,V=f.child;V;){if(V===o){T=!0,o=f,u=m;break}if(V===u){T=!0,u=f,o=m;break}V=V.sibling}if(!T){for(V=m.child;V;){if(V===o){T=!0,o=m,u=f;break}if(V===u){T=!0,u=m,o=f;break}V=V.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function F(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case B:return"Profiler";case j:return"StrictMode";case ut:return"Suspense";case L:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case Q:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case K:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:F(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return F(e(i))}catch{}}return null}var J=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},Y=[],at=-1;function U(e){return{current:e}}function H(e){0>at||(e.current=Y[at],Y[at]=null,at--)}function ot(e,i){at++,Y[at]=e.current,e.current=i}var et=U(null),Z=U(null),gt=U(null),At=U(null);function Ct(e,i){switch(ot(gt,i),ot(Z,e),ot(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?l_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=l_(i),e=u_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(et),ot(et,e)}function wt(){H(et),H(Z),H(gt)}function Kt(e){e.memoizedState!==null&&ot(At,e);var i=et.current,o=u_(i,e.type);i!==o&&(ot(Z,e),ot(et,o))}function ce(e){Z.current===e&&(H(et),H(Z)),At.current===e&&(H(At),Zl._currentValue=nt)}var ve,Nn;function Oe(e){if(ve===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ve=i&&i[1]||"",Nn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+e+Nn}var he=!1;function we(e,i){if(!e||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(lt){var it=lt}Reflect.construct(e,[],ft)}else{try{ft.call()}catch(lt){it=lt}e.call(ft.prototype)}}else{try{throw Error()}catch(lt){it=lt}(ft=e())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(lt){if(lt&&it&&typeof lt.stack=="string")return[lt.stack,it.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],V=m[1];if(T&&V){var k=T.split(`
`),tt=V.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<tt.length&&!tt[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===tt.length)for(u=k.length-1,f=tt.length-1;1<=u&&0<=f&&k[u]!==tt[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==tt[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==tt[f]){var ct=`
`+k[u].replace(" at new "," at ");return e.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",e.displayName)),ct}while(1<=u&&0<=f);break}}}finally{he=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Oe(o):""}function te(e,i){switch(e.tag){case 26:case 27:case 5:return Oe(e.type);case 16:return Oe("Lazy");case 13:return e.child!==i&&i!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return we(e.type,!1);case 11:return we(e.type.render,!1);case 1:return we(e.type,!0);case 31:return Oe("Activity");default:return""}}function Wt(e){try{var i="",o=null;do i+=te(e,o),o=e,e=e.return;while(e);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Lt=Object.prototype.hasOwnProperty,qt=a.unstable_scheduleCallback,ne=a.unstable_cancelCallback,un=a.unstable_shouldYield,Ee=a.unstable_requestPaint,Pt=a.unstable_now,Pe=a.unstable_getCurrentPriorityLevel,On=a.unstable_ImmediatePriority,Ni=a.unstable_UserBlockingPriority,Te=a.unstable_NormalPriority,vi=a.unstable_LowPriority,Be=a.unstable_IdlePriority,En=a.log,cn=a.unstable_setDisableYieldValue,Ue=null,fe=null;function je(e){if(typeof En=="function"&&cn(e),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Ue,e)}catch{}}var be=Math.clz32?Math.clz32:Da,xs=Math.log,Oi=Math.LN2;function Da(e){return e>>>=0,e===0?32:31-(xs(e)/Oi|0)|0}var Tn=256,lr=262144,ie=4194304;function Je(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hn(e,i,o){var u=e.pendingLanes;if(u===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var V=u&134217727;return V!==0?(u=V&~m,u!==0?f=Je(u):(T&=V,T!==0?f=Je(T):o||(o=V&~e,o!==0&&(f=Je(o))))):(V=u&~m,V!==0?f=Je(V):T!==0?f=Je(T):o||(o=u&~e,o!==0&&(f=Je(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function fn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Vs(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(){var e=ie;return ie<<=1,(ie&62914560)===0&&(ie=4194304),e}function nn(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Ca(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zf(e,i,o,u,f,m){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var V=e.entanglements,k=e.expirationTimes,tt=e.hiddenUpdates;for(o=T&~o;0<o;){var ct=31-be(o),ft=1<<ct;V[ct]=0,k[ct]=-1;var it=tt[ct];if(it!==null)for(tt[ct]=null,ct=0;ct<it.length;ct++){var lt=it[ct];lt!==null&&(lt.lane&=-536870913)}o&=~ft}u!==0&&xa(e,u,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~i))}function xa(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-be(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|o&261930}function el(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var u=31-be(o),f=1<<u;f&i|e[u]&i&&(e[u]|=i),o&=~f}}function nl(e,i){var o=i&-i;return o=(o&42)!==0?1:Va(o),(o&(e.suspendedLanes|i))!==0?0:o}function Va(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ur(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xu(){var e=x.p;return e!==0?e:(e=window.event,e===void 0?32:M_(e.type))}function Ei(e,i){var o=x.p;try{return x.p=e,i()}finally{x.p=o}}var Ti=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Ti,rn="__reactProps$"+Ti,Pi="__reactContainer$"+Ti,Ms="__reactEvents$"+Ti,Lf="__reactListeners$"+Ti,Zu="__reactHandles$"+Ti,Wu="__reactResources$"+Ti,Ui="__reactMarker$"+Ti;function Ns(e){delete e[Fe],delete e[rn],delete e[Ms],delete e[Lf],delete e[Zu]}function zi(e){var i=e[Fe];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Pi]||o[Fe]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=p_(e);e!==null;){if(o=e[Fe])return o;e=p_(e)}return i}e=o,o=e.parentNode}return null}function ii(e){if(e=e[Fe]||e[Pi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Li(e){var i=e[Wu];return i||(i=e[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function qe(e){e[Ui]=!0}var il=new Set,rl={};function ki(e,i){Bi(e,i),Bi(e+"Capture",i)}function Bi(e,i){for(rl[e]=i,e=0;e<i.length;e++)il.add(i[e])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},ol={};function Ju(e){return Lt.call(ol,e)?!0:Lt.call(sl,e)?!1:al.test(e)?ol[e]=!0:(sl[e]=!0,!1)}function Os(e,i,o){if(Ju(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Gn(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function He(e,i,o,u){if(u===null)e.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+u)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Or(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ll(e,i,o){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(e,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function re(e){if(!e._valueTracker){var i=Or(e)?"checked":"value";e._valueTracker=ll(e,i,""+e[i])}}function Ma(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return e&&(u=Or(e)?e.checked?"true":"false":e.value),e=u,e!==o?(i.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Na=/[\n"\\]/g;function Pn(e){return e.replace(Na,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ps(e,i,o,u,f,m,T,V){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+an(i)):e.value!==""+an(i)&&(e.value=""+an(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?ul(e,T,an(i)):o!=null?ul(e,T,an(o)):u!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?e.name=""+an(V):e.removeAttribute("name")}function $u(e,i,o,u,f,m,T,V){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){re(e);return}o=o!=null?""+an(o):"",i=i!=null?""+an(i):o,V||i===e.value||(e.value=i),e.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=V?e.checked:!!u,e.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),re(e)}function ul(e,i,o){i==="number"&&ji(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Pr(e,i,o,u){if(e=e.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=i.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&u&&(e[o].defaultSelected=!0)}else{for(o=""+an(o),i=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function tc(e,i,o){if(i!=null&&(i=""+an(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+an(o):""}function Ur(e,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(J(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=an(i),e.defaultValue=o,u=e.textContent,u===o&&u!==""&&u!==null&&(e.value=u),re(e)}function Un(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(e,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,o):typeof o!="number"||o===0||ec.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function hl(e,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&cl(e,f,u)}else for(var m in i)i.hasOwnProperty(m)&&cl(e,m,i[m])}function Us(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return zr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bi(){}var fl=null;function ri(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lr=null,Fi=null;function Oa(e){var i=ii(e);if(i&&(e=i.stateNode)){var o=e[rn]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ps(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==e&&u.form===e.form){var f=u[rn]||null;if(!f)throw Error(r(90));Ps(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===e.form&&Ma(u)}break t;case"textarea":tc(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Pr(e,!!o.multiple,i,!1)}}}var Ls=!1;function kr(e,i,o){if(Ls)return e(i,o);Ls=!0;try{var u=e(i);return u}finally{if(Ls=!1,(Lr!==null||Fi!==null)&&(Xc(),Lr&&(i=Lr,e=Fi,Fi=Lr=null,Oa(i),e)))for(i=0;i<e.length;i++)Oa(e[i])}}function Ai(e,i){var o=e.stateNode;if(o===null)return null;var u=o[rn]||null;if(u===null)return null;o=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=!1;if(ai)try{var de={};Object.defineProperty(de,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{Pa=!1}var qi=null,dl=null,Ua=null;function ml(){if(Ua)return Ua;var e,i=dl,o=i.length,u,f="value"in qi?qi.value:qi.textContent,m=f.length;for(e=0;e<o&&i[e]===f[e];e++);var T=o-e;for(u=1;u<=T&&i[o-u]===f[m-u];u++);return Ua=f.slice(e,1<u?1-u:void 0)}function za(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function cr(){return!0}function Si(){return!1}function dn(e){function i(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var V in e)e.hasOwnProperty(V)&&(o=e[V],this[V]=o?o(m):m[V]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?cr:Si,this.isPropagationStopped=Si,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=dn(hr),Br=_({},hr,{view:0,detail:0}),gl=dn(Br),jr,ks,Gi,Bs=_({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(jr=e.screenX-Gi.screenX,ks=e.screenY-Gi.screenY):ks=jr=0,Gi=e),jr)},movementY:function(e){return"movementY"in e?e.movementY:ks}}),pl=dn(Bs),La=_({},Bs,{dataTransfer:0}),ic=dn(La),rc=_({},Br,{relatedTarget:0}),ka=dn(rc),yl=_({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=dn(yl),js=_({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sc=dn(js),oc=_({},hr,{data:0}),Qi=dn(oc),lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hc(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=cc[e])?!!i[e]:!1}function Fr(){return hc}var Dn=_({},Br,{key:function(e){if(e.key){var i=lc[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(e){return e.type==="keypress"?za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fc=dn(Dn),dc=_({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=dn(dc),h=_({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),v=dn(h),S=_({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=dn(S),W=_({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),st=dn(W),pt=_({},hr,{newState:0,oldState:0}),Nt=dn(pt),ze=[9,13,27,32],Jt=ai&&"CompositionEvent"in window,Ie=null;ai&&"documentMode"in document&&(Ie=document.documentMode);var si=ai&&"TextEvent"in window&&!Ie,Yi=ai&&(!Jt||Ie&&8<Ie&&11>=Ie),wi=" ",Ii=!1;function Ba(e,i){switch(e){case"keyup":return ze.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function j2(e,i){switch(e){case"compositionend":return Fs(i);case"keypress":return i.which!==32?null:(Ii=!0,wi);case"textInput":return e=i.data,e===wi&&Ii?null:e;default:return null}}function F2(e,i){if(qs)return e==="compositionend"||!Jt&&Ba(e,i)?(e=ml(),Ua=dl=qi=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yi&&i.locale!=="ko"?null:i.data;default:return null}}var q2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!q2[e.type]:i==="textarea"}function Ep(e,i,o,u){Lr?Fi?Fi.push(u):Fi=[u]:Lr=u,i=nh(i,"onChange"),0<i.length&&(o=new Hi("onChange","change",null,o,u),e.push({event:o,listeners:i}))}var _l=null,vl=null;function H2(e){n_(e,0)}function mc(e){var i=Hn(e);if(Ma(i))return e}function Tp(e,i){if(e==="change")return i}var bp=!1;if(ai){var kf;if(ai){var Bf="oninput"in document;if(!Bf){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Bf=typeof Ap.oninput=="function"}kf=Bf}else kf=!1;bp=kf&&(!document.documentMode||9<document.documentMode)}function Sp(){_l&&(_l.detachEvent("onpropertychange",wp),vl=_l=null)}function wp(e){if(e.propertyName==="value"&&mc(vl)){var i=[];Ep(i,vl,e,ri(e)),kr(H2,i)}}function G2(e,i,o){e==="focusin"?(Sp(),_l=i,vl=o,_l.attachEvent("onpropertychange",wp)):e==="focusout"&&Sp()}function Q2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mc(vl)}function Y2(e,i){if(e==="click")return mc(i)}function K2(e,i){if(e==="input"||e==="change")return mc(i)}function X2(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Qn=typeof Object.is=="function"?Object.is:X2;function El(e,i){if(Qn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Lt.call(i,f)||!Qn(e[f],i[f]))return!1}return!0}function Ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,i){var o=Ip(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=i&&u>=i)return{node:o,offset:i-e};e=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Ip(o)}}function Dp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Dp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ji(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ji(e.document)}return i}function jf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Z2=ai&&"documentMode"in document&&11>=document.documentMode,Hs=null,Ff=null,Tl=null,qf=!1;function xp(e,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qf||Hs==null||Hs!==ji(u)||(u=Hs,"selectionStart"in u&&jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tl&&El(Tl,u)||(Tl=u,u=nh(Ff,"onSelect"),0<u.length&&(i=new Hi("onSelect","select",null,i,o),e.push({event:i,listeners:u}),i.target=Hs)))}function ja(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Gs={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Hf={},Vp={};ai&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Fa(e){if(Hf[e])return Hf[e];if(!Gs[e])return e;var i=Gs[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Vp)return Hf[e]=i[o];return e}var Mp=Fa("animationend"),Np=Fa("animationiteration"),Op=Fa("animationstart"),W2=Fa("transitionrun"),J2=Fa("transitionstart"),$2=Fa("transitioncancel"),Pp=Fa("transitionend"),Up=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function Ri(e,i){Up.set(e,i),ki(i,[e])}var gc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oi=[],Qs=0,Qf=0;function pc(){for(var e=Qs,i=Qf=Qs=0;i<e;){var o=oi[i];oi[i++]=null;var u=oi[i];oi[i++]=null;var f=oi[i];oi[i++]=null;var m=oi[i];if(oi[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&zp(o,f,m)}}function yc(e,i,o,u){oi[Qs++]=e,oi[Qs++]=i,oi[Qs++]=o,oi[Qs++]=u,Qf|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Yf(e,i,o,u){return yc(e,i,o,u),_c(e)}function qa(e,i){return yc(e,null,null,i),_c(e)}function zp(e,i,o){e.lanes|=o;var u=e.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=e.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&i!==null&&(f=31-be(o),e=m.hiddenUpdates,u=e[f],u===null?e[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function _c(e){if(50<ql)throw ql=0,nm=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ys={};function tb(e,i,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,i,o,u){return new tb(e,i,o,u)}function Kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dr(e,i){var o=e.alternate;return o===null?(o=Yn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Lp(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function vc(e,i,o,u,f,m){var T=0;if(u=e,typeof e=="function")Kf(e)&&(T=1);else if(typeof e=="string")T=aA(e,o,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case A:return e=Yn(31,o,i,f),e.elementType=A,e.lanes=m,e;case z:return Ha(o.children,f,m,i);case j:T=8,f|=24;break;case B:return e=Yn(12,o,i,f|2),e.elementType=B,e.lanes=m,e;case ut:return e=Yn(13,o,i,f),e.elementType=ut,e.lanes=m,e;case L:return e=Yn(19,o,i,f),e.elementType=L,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:T=10;break t;case rt:T=9;break t;case K:T=11;break t;case M:T=14;break t;case b:T=16,u=null;break t}T=29,o=Error(r(130,e===null?"null":typeof e,"")),u=null}return i=Yn(T,o,i,f),i.elementType=e,i.type=u,i.lanes=m,i}function Ha(e,i,o,u){return e=Yn(7,e,u,i),e.lanes=o,e}function Xf(e,i,o){return e=Yn(6,e,null,i),e.lanes=o,e}function kp(e){var i=Yn(18,null,null,0);return i.stateNode=e,i}function Zf(e,i,o){return i=Yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Bp=new WeakMap;function li(e,i){if(typeof e=="object"&&e!==null){var o=Bp.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Wt(i)},Bp.set(e,i),i)}return{value:e,source:i,stack:Wt(i)}}var Ks=[],Xs=0,Ec=null,bl=0,ui=[],ci=0,qr=null,Ki=1,Xi="";function mr(e,i){Ks[Xs++]=bl,Ks[Xs++]=Ec,Ec=e,bl=i}function jp(e,i,o){ui[ci++]=Ki,ui[ci++]=Xi,ui[ci++]=qr,qr=e;var u=Ki;e=Xi;var f=32-be(u)-1;u&=~(1<<f),o+=1;var m=32-be(i)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Ki=1<<32-be(i)+f|o<<f|u,Xi=m+e}else Ki=1<<m|o<<f|u,Xi=e}function Wf(e){e.return!==null&&(mr(e,1),jp(e,1,0))}function Jf(e){for(;e===Ec;)Ec=Ks[--Xs],Ks[Xs]=null,bl=Ks[--Xs],Ks[Xs]=null;for(;e===qr;)qr=ui[--ci],ui[ci]=null,Xi=ui[--ci],ui[ci]=null,Ki=ui[--ci],ui[ci]=null}function Fp(e,i){ui[ci++]=Ki,ui[ci++]=Xi,ui[ci++]=qr,Ki=i.id,Xi=i.overflow,qr=e}var mn=null,Ae=null,Ht=!1,Hr=null,hi=!1,$f=Error(r(519));function Gr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(li(i,e)),$f}function qp(e){var i=e.stateNode,o=e.type,u=e.memoizedProps;switch(i[Fe]=e,i[rn]=u,o){case"dialog":Bt("cancel",i),Bt("close",i);break;case"iframe":case"object":case"embed":Bt("load",i);break;case"video":case"audio":for(o=0;o<Gl.length;o++)Bt(Gl[o],i);break;case"source":Bt("error",i);break;case"img":case"image":case"link":Bt("error",i),Bt("load",i);break;case"details":Bt("toggle",i);break;case"input":Bt("invalid",i),$u(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Bt("invalid",i);break;case"textarea":Bt("invalid",i),Ur(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||s_(i.textContent,o)?(u.popover!=null&&(Bt("beforetoggle",i),Bt("toggle",i)),u.onScroll!=null&&Bt("scroll",i),u.onScrollEnd!=null&&Bt("scrollend",i),u.onClick!=null&&(i.onclick=bi),i=!0):i=!1,i||Gr(e,!0)}function Hp(e){for(mn=e.return;mn;)switch(mn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:mn=mn.return}}function Zs(e){if(e!==mn)return!1;if(!Ht)return Hp(e),Ht=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||ym(e.type,e.memoizedProps)),o=!o),o&&Ae&&Gr(e),Hp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ae=g_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ae=g_(e)}else i===27?(i=Ae,aa(e.type)?(e=bm,bm=null,Ae=e):Ae=i):Ae=mn?di(e.stateNode.nextSibling):null;return!0}function Ga(){Ae=mn=null,Ht=!1}function td(){var e=Hr;return e!==null&&(Bn===null?Bn=e:Bn.push.apply(Bn,e),Hr=null),e}function Al(e){Hr===null?Hr=[e]:Hr.push(e)}var ed=U(null),Qa=null,gr=null;function Qr(e,i,o){ot(ed,i._currentValue),i._currentValue=o}function pr(e){e._currentValue=ed.current,H(ed)}function nd(e,i,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===o)break;e=e.return}}function id(e,i,o,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var V=m;m=f;for(var k=0;k<i.length;k++)if(V.context===i[k]){m.lanes|=o,V=m.alternate,V!==null&&(V.lanes|=o),nd(m.return,o,e),u||(T=null);break t}m=V.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),nd(T,o,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ws(e,i,o,u){e=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var V=f.type;Qn(f.pendingProps.value,T.value)||(e!==null?e.push(V):e=[V])}}else if(f===At.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Zl):e=[Zl])}f=f.return}e!==null&&id(i,e,o,u),i.flags|=262144}function Tc(e){for(e=e.firstContext;e!==null;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){Qa=e,gr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gn(e){return Gp(Qa,e)}function bc(e,i){return Qa===null&&Ya(e),Gp(e,i)}function Gp(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},gr===null){if(e===null)throw Error(r(308));gr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else gr=gr.next=i;return o}var eb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},nb=a.unstable_scheduleCallback,ib=a.unstable_NormalPriority,Ge={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new eb,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&nb(ib,function(){e.controller.abort()})}var wl=null,ad=0,Js=0,$s=null;function rb(e,i){if(wl===null){var o=wl=[];ad=0,Js=lm(),$s={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ad++,i.then(Qp,Qp),i}function Qp(){if(--ad===0&&wl!==null){$s!==null&&($s.status="fulfilled");var e=wl;wl=null,Js=0,$s=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ab(e,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Yp=R.S;R.S=function(e,i){x0=Pt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&rb(e,i),Yp!==null&&Yp(e,i)};var Ka=U(null);function sd(){var e=Ka.current;return e!==null?e:_e.pooledCache}function Ac(e,i){i===null?ot(Ka,Ka.current):ot(Ka,i.pool)}function Kp(){var e=sd();return e===null?null:{parent:Ge._currentValue,pool:e}}var to=Error(r(460)),od=Error(r(474)),Sc=Error(r(542)),wc={then:function(){}};function Xp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zp(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(bi,bi),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Jp(e),e;default:if(typeof i.status=="string")i.then(bi,bi);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Jp(e),e}throw Za=i,to}}function Xa(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Za=o,to):o}}var Za=null;function Wp(){if(Za===null)throw Error(r(459));var e=Za;return Za=null,e}function Jp(e){if(e===to||e===Sc)throw Error(r(483))}var eo=null,Il=0;function Ic(e){var i=Il;return Il+=1,eo===null&&(eo=[]),Zp(eo,e,i)}function Rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Rc(e,i){throw i.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function $p(e){function i(G,q){if(e){var $=G.deletions;$===null?(G.deletions=[q],G.flags|=16):$.push(q)}}function o(G,q){if(!e)return null;for(;q!==null;)i(G,q),q=q.sibling;return null}function u(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function f(G,q){return G=dr(G,q),G.index=0,G.sibling=null,G}function m(G,q,$){return G.index=$,e?($=G.alternate,$!==null?($=$.index,$<q?(G.flags|=67108866,q):$):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function T(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function V(G,q,$,ht){return q===null||q.tag!==6?(q=Xf($,G.mode,ht),q.return=G,q):(q=f(q,$),q.return=G,q)}function k(G,q,$,ht){var It=$.type;return It===z?ct(G,q,$.props.children,ht,$.key):q!==null&&(q.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===b&&Xa(It)===q.type)?(q=f(q,$.props),Rl(q,$),q.return=G,q):(q=vc($.type,$.key,$.props,null,G.mode,ht),Rl(q,$),q.return=G,q)}function tt(G,q,$,ht){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=Zf($,G.mode,ht),q.return=G,q):(q=f(q,$.children||[]),q.return=G,q)}function ct(G,q,$,ht,It){return q===null||q.tag!==7?(q=Ha($,G.mode,ht,It),q.return=G,q):(q=f(q,$),q.return=G,q)}function ft(G,q,$){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Xf(""+q,G.mode,$),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return $=vc(q.type,q.key,q.props,null,G.mode,$),Rl($,q),$.return=G,$;case O:return q=Zf(q,G.mode,$),q.return=G,q;case b:return q=Xa(q),ft(G,q,$)}if(J(q)||N(q))return q=Ha(q,G.mode,$,null),q.return=G,q;if(typeof q.then=="function")return ft(G,Ic(q),$);if(q.$$typeof===Q)return ft(G,bc(G,q),$);Rc(G,q)}return null}function it(G,q,$,ht){var It=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return It!==null?null:V(G,q,""+$,ht);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return $.key===It?k(G,q,$,ht):null;case O:return $.key===It?tt(G,q,$,ht):null;case b:return $=Xa($),it(G,q,$,ht)}if(J($)||N($))return It!==null?null:ct(G,q,$,ht,null);if(typeof $.then=="function")return it(G,q,Ic($),ht);if($.$$typeof===Q)return it(G,q,bc(G,$),ht);Rc(G,$)}return null}function lt(G,q,$,ht,It){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return G=G.get($)||null,V(q,G,""+ht,It);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case w:return G=G.get(ht.key===null?$:ht.key)||null,k(q,G,ht,It);case O:return G=G.get(ht.key===null?$:ht.key)||null,tt(q,G,ht,It);case b:return ht=Xa(ht),lt(G,q,$,ht,It)}if(J(ht)||N(ht))return G=G.get($)||null,ct(q,G,ht,It,null);if(typeof ht.then=="function")return lt(G,q,$,Ic(ht),It);if(ht.$$typeof===Q)return lt(G,q,$,bc(q,ht),It);Rc(q,ht)}return null}function vt(G,q,$,ht){for(var It=null,Xt=null,Tt=q,Ut=q=0,Ft=null;Tt!==null&&Ut<$.length;Ut++){Tt.index>Ut?(Ft=Tt,Tt=null):Ft=Tt.sibling;var Zt=it(G,Tt,$[Ut],ht);if(Zt===null){Tt===null&&(Tt=Ft);break}e&&Tt&&Zt.alternate===null&&i(G,Tt),q=m(Zt,q,Ut),Xt===null?It=Zt:Xt.sibling=Zt,Xt=Zt,Tt=Ft}if(Ut===$.length)return o(G,Tt),Ht&&mr(G,Ut),It;if(Tt===null){for(;Ut<$.length;Ut++)Tt=ft(G,$[Ut],ht),Tt!==null&&(q=m(Tt,q,Ut),Xt===null?It=Tt:Xt.sibling=Tt,Xt=Tt);return Ht&&mr(G,Ut),It}for(Tt=u(Tt);Ut<$.length;Ut++)Ft=lt(Tt,G,Ut,$[Ut],ht),Ft!==null&&(e&&Ft.alternate!==null&&Tt.delete(Ft.key===null?Ut:Ft.key),q=m(Ft,q,Ut),Xt===null?It=Ft:Xt.sibling=Ft,Xt=Ft);return e&&Tt.forEach(function(ca){return i(G,ca)}),Ht&&mr(G,Ut),It}function Dt(G,q,$,ht){if($==null)throw Error(r(151));for(var It=null,Xt=null,Tt=q,Ut=q=0,Ft=null,Zt=$.next();Tt!==null&&!Zt.done;Ut++,Zt=$.next()){Tt.index>Ut?(Ft=Tt,Tt=null):Ft=Tt.sibling;var ca=it(G,Tt,Zt.value,ht);if(ca===null){Tt===null&&(Tt=Ft);break}e&&Tt&&ca.alternate===null&&i(G,Tt),q=m(ca,q,Ut),Xt===null?It=ca:Xt.sibling=ca,Xt=ca,Tt=Ft}if(Zt.done)return o(G,Tt),Ht&&mr(G,Ut),It;if(Tt===null){for(;!Zt.done;Ut++,Zt=$.next())Zt=ft(G,Zt.value,ht),Zt!==null&&(q=m(Zt,q,Ut),Xt===null?It=Zt:Xt.sibling=Zt,Xt=Zt);return Ht&&mr(G,Ut),It}for(Tt=u(Tt);!Zt.done;Ut++,Zt=$.next())Zt=lt(Tt,G,Ut,Zt.value,ht),Zt!==null&&(e&&Zt.alternate!==null&&Tt.delete(Zt.key===null?Ut:Zt.key),q=m(Zt,q,Ut),Xt===null?It=Zt:Xt.sibling=Zt,Xt=Zt);return e&&Tt.forEach(function(pA){return i(G,pA)}),Ht&&mr(G,Ut),It}function pe(G,q,$,ht){if(typeof $=="object"&&$!==null&&$.type===z&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case w:t:{for(var It=$.key;q!==null;){if(q.key===It){if(It=$.type,It===z){if(q.tag===7){o(G,q.sibling),ht=f(q,$.props.children),ht.return=G,G=ht;break t}}else if(q.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===b&&Xa(It)===q.type){o(G,q.sibling),ht=f(q,$.props),Rl(ht,$),ht.return=G,G=ht;break t}o(G,q);break}else i(G,q);q=q.sibling}$.type===z?(ht=Ha($.props.children,G.mode,ht,$.key),ht.return=G,G=ht):(ht=vc($.type,$.key,$.props,null,G.mode,ht),Rl(ht,$),ht.return=G,G=ht)}return T(G);case O:t:{for(It=$.key;q!==null;){if(q.key===It)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){o(G,q.sibling),ht=f(q,$.children||[]),ht.return=G,G=ht;break t}else{o(G,q);break}else i(G,q);q=q.sibling}ht=Zf($,G.mode,ht),ht.return=G,G=ht}return T(G);case b:return $=Xa($),pe(G,q,$,ht)}if(J($))return vt(G,q,$,ht);if(N($)){if(It=N($),typeof It!="function")throw Error(r(150));return $=It.call($),Dt(G,q,$,ht)}if(typeof $.then=="function")return pe(G,q,Ic($),ht);if($.$$typeof===Q)return pe(G,q,bc(G,$),ht);Rc(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,q!==null&&q.tag===6?(o(G,q.sibling),ht=f(q,$),ht.return=G,G=ht):(o(G,q),ht=Xf($,G.mode,ht),ht.return=G,G=ht),T(G)):o(G,q)}return function(G,q,$,ht){try{Il=0;var It=pe(G,q,$,ht);return eo=null,It}catch(Tt){if(Tt===to||Tt===Sc)throw Tt;var Xt=Yn(29,Tt,null,G.mode);return Xt.lanes=ht,Xt.return=G,Xt}}}var Wa=$p(!0),ty=$p(!1),Yr=!1;function ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(e,i,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=_c(e),zp(e,null,o),i}return yc(e,u,i,o),_c(e)}function Dl(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,o|=u,i.lanes=o,el(e,o)}}function cd(e,i){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var hd=!1;function Cl(){if(hd){var e=$s;if(e!==null)throw e}}function xl(e,i,o,u){hd=!1;var f=e.updateQueue;Yr=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,V=f.shared.pending;if(V!==null){f.shared.pending=null;var k=V,tt=k.next;k.next=null,T===null?m=tt:T.next=tt,T=k;var ct=e.alternate;ct!==null&&(ct=ct.updateQueue,V=ct.lastBaseUpdate,V!==T&&(V===null?ct.firstBaseUpdate=tt:V.next=tt,ct.lastBaseUpdate=k))}if(m!==null){var ft=f.baseState;T=0,ct=tt=k=null,V=m;do{var it=V.lane&-536870913,lt=it!==V.lane;if(lt?(jt&it)===it:(u&it)===it){it!==0&&it===Js&&(hd=!0),ct!==null&&(ct=ct.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});t:{var vt=e,Dt=V;it=i;var pe=o;switch(Dt.tag){case 1:if(vt=Dt.payload,typeof vt=="function"){ft=vt.call(pe,ft,it);break t}ft=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Dt.payload,it=typeof vt=="function"?vt.call(pe,ft,it):vt,it==null)break t;ft=_({},ft,it);break t;case 2:Yr=!0}}it=V.callback,it!==null&&(e.flags|=64,lt&&(e.flags|=8192),lt=f.callbacks,lt===null?f.callbacks=[it]:lt.push(it))}else lt={lane:it,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ct===null?(tt=ct=lt,k=ft):ct=ct.next=lt,T|=it;if(V=V.next,V===null){if(V=f.shared.pending,V===null)break;lt=V,V=lt.next,lt.next=null,f.lastBaseUpdate=lt,f.shared.pending=null}}while(!0);ct===null&&(k=ft),f.baseState=k,f.firstBaseUpdate=tt,f.lastBaseUpdate=ct,m===null&&(f.shared.lanes=0),ta|=T,e.lanes=T,e.memoizedState=ft}}function ey(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function ny(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)ey(o[e],i)}var no=U(null),Dc=U(0);function iy(e,i){e=wr,ot(Dc,e),ot(no,i),wr=e|i.baseLanes}function fd(){ot(Dc,wr),ot(no,no.current)}function dd(){wr=Dc.current,H(no),H(Dc)}var Kn=U(null),fi=null;function Zr(e){var i=e.alternate;ot(Le,Le.current&1),ot(Kn,e),fi===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(fi=e)}function md(e){ot(Le,Le.current),ot(Kn,e),fi===null&&(fi=e)}function ry(e){e.tag===22?(ot(Le,Le.current),ot(Kn,e),fi===null&&(fi=e)):Wr()}function Wr(){ot(Le,Le.current),ot(Kn,Kn.current)}function Xn(e){H(Kn),fi===e&&(fi=null),H(Le)}var Le=U(0);function Cc(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Em(o)||Tm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yr=0,Ot=null,me=null,Qe=null,xc=!1,io=!1,Ja=!1,Vc=0,Vl=0,ro=null,sb=0;function Ve(){throw Error(r(321))}function gd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Qn(e[o],i[o]))return!1;return!0}function pd(e,i,o,u,f,m){return yr=m,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=e===null||e.memoizedState===null?jy:Vd,Ja=!1,m=o(u,f),Ja=!1,io&&(m=sy(i,o,u,f)),ay(e),m}function ay(e){R.H=Ol;var i=me!==null&&me.next!==null;if(yr=0,Qe=me=Ot=null,xc=!1,Vl=0,ro=null,i)throw Error(r(300));e===null||Ye||(e=e.dependencies,e!==null&&Tc(e)&&(Ye=!0))}function sy(e,i,o,u){Ot=e;var f=0;do{if(io&&(ro=null),Vl=0,io=!1,25<=f)throw Error(r(301));if(f+=1,Qe=me=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=Fy,m=i(o,u)}while(io);return m}function ob(){var e=R.H,i=e.useState()[0];return i=typeof i.then=="function"?Ml(i):i,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(Ot.flags|=1024),i}function yd(){var e=Vc!==0;return Vc=0,e}function _d(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function vd(e){if(xc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}xc=!1}yr=0,Qe=me=Ot=null,io=!1,Vl=Vc=0,ro=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ot.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function ke(){if(me===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var i=Qe===null?Ot.memoizedState:Qe.next;if(i!==null)Qe=i,me=e;else{if(e===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Qe===null?Ot.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(e){var i=Vl;return Vl+=1,ro===null&&(ro=[]),e=Zp(ro,e,i),i=Ot,(Qe===null?i.memoizedState:Qe.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?jy:Vd),e}function Nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ml(e);if(e.$$typeof===Q)return gn(e)}throw Error(r(438,String(e)))}function Ed(e){var i=null,o=Ot.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Mc(),Ot.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),u=0;u<e;u++)o[u]=C;return i.index++,o}function _r(e,i){return typeof i=="function"?i(e):i}function Oc(e){var i=ke();return Td(i,me,e)}function Td(e,i,o){var u=e.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=e.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,u.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{i=f.next;var V=T=null,k=null,tt=i,ct=!1;do{var ft=tt.lane&-536870913;if(ft!==tt.lane?(jt&ft)===ft:(yr&ft)===ft){var it=tt.revertLane;if(it===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),ft===Js&&(ct=!0);else if((yr&it)===it){tt=tt.next,it===Js&&(ct=!0);continue}else ft={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},k===null?(V=k=ft,T=m):k=k.next=ft,Ot.lanes|=it,ta|=it;ft=tt.action,Ja&&o(m,ft),m=tt.hasEagerState?tt.eagerState:o(m,ft)}else it={lane:ft,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},k===null?(V=k=it,T=m):k=k.next=it,Ot.lanes|=ft,ta|=ft;tt=tt.next}while(tt!==null&&tt!==i);if(k===null?T=m:k.next=V,!Qn(m,e.memoizedState)&&(Ye=!0,ct&&(o=$s,o!==null)))throw o;e.memoizedState=m,e.baseState=T,e.baseQueue=k,u.lastRenderedState=m}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function bd(e){var i=ke(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);Qn(m,i.memoizedState)||(Ye=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function oy(e,i,o){var u=Ot,f=ke(),m=Ht;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=i();var T=!Qn((me||f).memoizedState,o);if(T&&(f.memoizedState=o,Ye=!0),f=f.queue,wd(cy.bind(null,u,f,e),[e]),f.getSnapshot!==i||T||Qe!==null&&Qe.memoizedState.tag&1){if(u.flags|=2048,ao(9,{destroy:void 0},uy.bind(null,u,f,o,i),null),_e===null)throw Error(r(349));m||(yr&127)!==0||ly(u,i,o)}return o}function ly(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Ot.updateQueue,i===null?(i=Mc(),Ot.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function uy(e,i,o,u){i.value=o,i.getSnapshot=u,hy(i)&&fy(e)}function cy(e,i,o){return o(function(){hy(i)&&fy(e)})}function hy(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Qn(e,o)}catch{return!0}}function fy(e){var i=qa(e,2);i!==null&&jn(i,e,2)}function Ad(e){var i=Cn();if(typeof e=="function"){var o=e;if(e=o(),Ja){je(!0);try{o()}finally{je(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:e},i}function dy(e,i,o,u){return e.baseState=o,Td(e,me,typeof u=="function"?u:_r)}function lb(e,i,o,u,f){if(zc(e))throw Error(r(485));if(e=i.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};R.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,my(i,m)):(m.next=o.next,i.pending=o.next=m)}}function my(e,i){var o=i.action,u=i.payload,f=e.state;if(i.isTransition){var m=R.T,T={};R.T=T;try{var V=o(f,u),k=R.S;k!==null&&k(T,V),gy(e,i,V)}catch(tt){Sd(e,i,tt)}finally{m!==null&&T.types!==null&&(m.types=T.types),R.T=m}}else try{m=o(f,u),gy(e,i,m)}catch(tt){Sd(e,i,tt)}}function gy(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){py(e,i,u)},function(u){return Sd(e,i,u)}):py(e,i,o)}function py(e,i,o){i.status="fulfilled",i.value=o,yy(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,my(e,o)))}function Sd(e,i,o){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,yy(i),i=i.next;while(i!==u)}e.action=null}function yy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function _y(e,i){return i}function vy(e,i){if(Ht){var o=_e.formState;if(o!==null){t:{var u=Ot;if(Ht){if(Ae){e:{for(var f=Ae,m=hi;f.nodeType!==8;){if(!m){f=null;break e}if(f=di(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ae=di(f.nextSibling),u=f.data==="F!";break t}}Gr(u)}u=!1}u&&(i=o[0])}}return o=Cn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:i},o.queue=u,o=Ly.bind(null,Ot,u),u.dispatch=o,u=Ad(!1),m=xd.bind(null,Ot,!1,u.queue),u=Cn(),f={state:i,dispatch:null,action:e,pending:null},u.queue=f,o=lb.bind(null,Ot,f,m,o),f.dispatch=o,u.memoizedState=e,[i,o,!1]}function Ey(e){var i=ke();return Ty(i,me,e)}function Ty(e,i,o){if(i=Td(e,i,_y)[0],e=Oc(_r)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ml(i)}catch(T){throw T===to?Sc:T}else u=i;i=ke();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(Ot.flags|=2048,ao(9,{destroy:void 0},ub.bind(null,f,o),null)),[u,m,e]}function ub(e,i){e.action=i}function by(e){var i=ke(),o=me;if(o!==null)return Ty(i,o,e);ke(),i=i.memoizedState,o=ke();var u=o.queue.dispatch;return o.memoizedState=e,[i,u,!1]}function ao(e,i,o,u){return e={tag:e,create:o,deps:u,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=Mc(),Ot.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,i.lastEffect=e),e}function Ay(){return ke().memoizedState}function Pc(e,i,o,u){var f=Cn();Ot.flags|=e,f.memoizedState=ao(1|i,{destroy:void 0},o,u===void 0?null:u)}function Uc(e,i,o,u){var f=ke();u=u===void 0?null:u;var m=f.memoizedState.inst;me!==null&&u!==null&&gd(u,me.memoizedState.deps)?f.memoizedState=ao(i,m,o,u):(Ot.flags|=e,f.memoizedState=ao(1|i,m,o,u))}function Sy(e,i){Pc(8390656,8,e,i)}function wd(e,i){Uc(2048,8,e,i)}function cb(e){Ot.flags|=4;var i=Ot.updateQueue;if(i===null)i=Mc(),Ot.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function wy(e){var i=ke().memoizedState;return cb({ref:i,nextImpl:e}),function(){if(($t&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Iy(e,i){return Uc(4,2,e,i)}function Ry(e,i){return Uc(4,4,e,i)}function Dy(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Cy(e,i,o){o=o!=null?o.concat([e]):null,Uc(4,4,Dy.bind(null,i,e),o)}function Id(){}function xy(e,i){var o=ke();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&gd(i,u[1])?u[0]:(o.memoizedState=[e,i],e)}function Vy(e,i){var o=ke();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&gd(i,u[1]))return u[0];if(u=e(),Ja){je(!0);try{e()}finally{je(!1)}}return o.memoizedState=[u,i],u}function Rd(e,i,o){return o===void 0||(yr&1073741824)!==0&&(jt&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=M0(),Ot.lanes|=e,ta|=e,o)}function My(e,i,o,u){return Qn(o,i)?o:no.current!==null?(e=Rd(e,o,u),Qn(e,i)||(Ye=!0),e):(yr&42)===0||(yr&1073741824)!==0&&(jt&261930)===0?(Ye=!0,e.memoizedState=o):(e=M0(),Ot.lanes|=e,ta|=e,i)}function Ny(e,i,o,u,f){var m=x.p;x.p=m!==0&&8>m?m:8;var T=R.T,V={};R.T=V,xd(e,!1,i,o);try{var k=f(),tt=R.S;if(tt!==null&&tt(V,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ct=ab(k,u);Nl(e,i,ct,Jn(e))}else Nl(e,i,u,Jn(e))}catch(ft){Nl(e,i,{then:function(){},status:"rejected",reason:ft},Jn())}finally{x.p=m,T!==null&&V.types!==null&&(T.types=V.types),R.T=T}}function hb(){}function Dd(e,i,o,u){if(e.tag!==5)throw Error(r(476));var f=Oy(e).queue;Ny(e,f,i,nt,o===null?hb:function(){return Py(e),o(u)})}function Oy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:nt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Py(e){var i=Oy(e);i.next===null&&(i=e.alternate.memoizedState),Nl(e,i.next.queue,{},Jn())}function Cd(){return gn(Zl)}function Uy(){return ke().memoizedState}function zy(){return ke().memoizedState}function fb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Jn();e=Kr(o);var u=Xr(i,e,o);u!==null&&(jn(u,i,o),Dl(u,i,o)),i={cache:rd()},e.payload=i;return}i=i.return}}function db(e,i,o){var u=Jn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zc(e)?ky(i,o):(o=Yf(e,i,o,u),o!==null&&(jn(o,e,u),By(o,i,u)))}function Ly(e,i,o){var u=Jn();Nl(e,i,o,u)}function Nl(e,i,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zc(e))ky(i,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,V=m(T,o);if(f.hasEagerState=!0,f.eagerState=V,Qn(V,T))return yc(e,i,f,0),_e===null&&pc(),!1}catch{}if(o=Yf(e,i,f,u),o!==null)return jn(o,e,u),By(o,i,u),!0}return!1}function xd(e,i,o,u){if(u={lane:2,revertLane:lm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zc(e)){if(i)throw Error(r(479))}else i=Yf(e,o,u,2),i!==null&&jn(i,e,2)}function zc(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function ky(e,i){io=xc=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function By(e,i,o){if((o&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,o|=u,i.lanes=o,el(e,o)}}var Ol={readContext:gn,use:Nc,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Ol.useEffectEvent=Ve;var jy={readContext:gn,use:Nc,useCallback:function(e,i){return Cn().memoizedState=[e,i===void 0?null:i],e},useContext:gn,useEffect:Sy,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,Pc(4194308,4,Dy.bind(null,i,e),o)},useLayoutEffect:function(e,i){return Pc(4194308,4,e,i)},useInsertionEffect:function(e,i){Pc(4,2,e,i)},useMemo:function(e,i){var o=Cn();i=i===void 0?null:i;var u=e();if(Ja){je(!0);try{e()}finally{je(!1)}}return o.memoizedState=[u,i],u},useReducer:function(e,i,o){var u=Cn();if(o!==void 0){var f=o(i);if(Ja){je(!0);try{o(i)}finally{je(!1)}}}else f=i;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=db.bind(null,Ot,e),[u.memoizedState,e]},useRef:function(e){var i=Cn();return e={current:e},i.memoizedState=e},useState:function(e){e=Ad(e);var i=e.queue,o=Ly.bind(null,Ot,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Id,useDeferredValue:function(e,i){var o=Cn();return Rd(o,e,i)},useTransition:function(){var e=Ad(!1);return e=Ny.bind(null,Ot,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var u=Ot,f=Cn();if(Ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),_e===null)throw Error(r(349));(jt&127)!==0||ly(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,Sy(cy.bind(null,u,m,e),[e]),u.flags|=2048,ao(9,{destroy:void 0},uy.bind(null,u,m,o,i),null),o},useId:function(){var e=Cn(),i=_e.identifierPrefix;if(Ht){var o=Xi,u=Ki;o=(u&~(1<<32-be(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Vc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=sb++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Cd,useFormState:vy,useActionState:vy,useOptimistic:function(e){var i=Cn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=xd.bind(null,Ot,!0,o),o.dispatch=i,[e,i]},useMemoCache:Ed,useCacheRefresh:function(){return Cn().memoizedState=fb.bind(null,Ot)},useEffectEvent:function(e){var i=Cn(),o={impl:e};return i.memoizedState=o,function(){if(($t&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Vd={readContext:gn,use:Nc,useCallback:xy,useContext:gn,useEffect:wd,useImperativeHandle:Cy,useInsertionEffect:Iy,useLayoutEffect:Ry,useMemo:Vy,useReducer:Oc,useRef:Ay,useState:function(){return Oc(_r)},useDebugValue:Id,useDeferredValue:function(e,i){var o=ke();return My(o,me.memoizedState,e,i)},useTransition:function(){var e=Oc(_r)[0],i=ke().memoizedState;return[typeof e=="boolean"?e:Ml(e),i]},useSyncExternalStore:oy,useId:Uy,useHostTransitionStatus:Cd,useFormState:Ey,useActionState:Ey,useOptimistic:function(e,i){var o=ke();return dy(o,me,e,i)},useMemoCache:Ed,useCacheRefresh:zy};Vd.useEffectEvent=wy;var Fy={readContext:gn,use:Nc,useCallback:xy,useContext:gn,useEffect:wd,useImperativeHandle:Cy,useInsertionEffect:Iy,useLayoutEffect:Ry,useMemo:Vy,useReducer:bd,useRef:Ay,useState:function(){return bd(_r)},useDebugValue:Id,useDeferredValue:function(e,i){var o=ke();return me===null?Rd(o,e,i):My(o,me.memoizedState,e,i)},useTransition:function(){var e=bd(_r)[0],i=ke().memoizedState;return[typeof e=="boolean"?e:Ml(e),i]},useSyncExternalStore:oy,useId:Uy,useHostTransitionStatus:Cd,useFormState:by,useActionState:by,useOptimistic:function(e,i){var o=ke();return me!==null?dy(o,me,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:zy};Fy.useEffectEvent=wy;function Md(e,i,o,u){i=e.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Nd={enqueueSetState:function(e,i,o){e=e._reactInternals;var u=Jn(),f=Kr(u);f.payload=i,o!=null&&(f.callback=o),i=Xr(e,f,u),i!==null&&(jn(i,e,u),Dl(i,e,u))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var u=Jn(),f=Kr(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Xr(e,f,u),i!==null&&(jn(i,e,u),Dl(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Jn(),u=Kr(o);u.tag=2,i!=null&&(u.callback=i),i=Xr(e,u,o),i!==null&&(jn(i,e,o),Dl(i,e,o))}};function qy(e,i,o,u,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!El(o,u)||!El(f,m):!0}function Hy(e,i,o,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==e&&Nd.enqueueReplaceState(i,i.state,null)}function $a(e,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(e=e.defaultProps){o===i&&(o=_({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function Gy(e){gc(e)}function Qy(e){console.error(e)}function Yy(e){gc(e)}function Lc(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Ky(e,i,o){try{var u=e.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Od(e,i,o){return o=Kr(o),o.tag=3,o.payload={element:null},o.callback=function(){Lc(e,i)},o}function Xy(e){return e=Kr(e),e.tag=3,e}function Zy(e,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;e.payload=function(){return f(m)},e.callback=function(){Ky(i,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Ky(i,o,u),typeof f!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})})}function mb(e,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Ws(i,o,f,!0),o=Kn.current,o!==null){switch(o.tag){case 31:case 13:return fi===null?Zc():o.alternate===null&&Me===0&&(Me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===wc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),am(e,u,f)),!1;case 22:return o.flags|=65536,u===wc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),am(e,u,f)),!1}throw Error(r(435,o.tag))}return am(e,u,f),Zc(),!1}if(Ht)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==$f&&(e=Error(r(422),{cause:u}),Al(li(e,o)))):(u!==$f&&(i=Error(r(423),{cause:u}),Al(li(i,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=li(u,o),f=Od(e.stateNode,u,f),cd(e,f),Me!==4&&(Me=2)),!1;var m=Error(r(520),{cause:u});if(m=li(m,o),Fl===null?Fl=[m]:Fl.push(m),Me!==4&&(Me=2),i===null)return!0;u=li(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=Od(o.stateNode,u,e),cd(o,e),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ea===null||!ea.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Xy(f),Zy(f,e,o,u),cd(o,f),!1}o=o.return}while(o!==null);return!1}var Pd=Error(r(461)),Ye=!1;function pn(e,i,o,u){i.child=e===null?ty(i,null,o,u):Wa(i,e.child,o,u)}function Wy(e,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var T={};for(var V in u)V!=="ref"&&(T[V]=u[V])}else T=u;return Ya(i),u=pd(e,i,o,T,m,f),V=yd(),e!==null&&!Ye?(_d(e,i,f),vr(e,i,f)):(Ht&&V&&Wf(i),i.flags|=1,pn(e,i,u,f),i.child)}function Jy(e,i,o,u,f){if(e===null){var m=o.type;return typeof m=="function"&&!Kf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,$y(e,i,m,u,f)):(e=vc(o.type,null,u,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!qd(e,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(T,u)&&e.ref===i.ref)return vr(e,i,f)}return i.flags|=1,e=dr(m,u),e.ref=i.ref,e.return=i,i.child=e}function $y(e,i,o,u,f){if(e!==null){var m=e.memoizedProps;if(El(m,u)&&e.ref===i.ref)if(Ye=!1,i.pendingProps=u=m,qd(e,f))(e.flags&131072)!==0&&(Ye=!0);else return i.lanes=e.lanes,vr(e,i,f)}return Ud(e,i,o,u,f)}function t0(e,i,o,u){var f=u.children,m=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(u=i.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return e0(e,i,m,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ac(i,m!==null?m.cachePool:null),m!==null?iy(i,m):fd(),ry(i);else return u=i.lanes=536870912,e0(e,i,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Ac(i,m.cachePool),iy(i,m),Wr(),i.memoizedState=null):(e!==null&&Ac(i,null),fd(),Wr());return pn(e,i,f,o),i.child}function Pl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function e0(e,i,o,u,f){var m=sd();return m=m===null?null:{parent:Ge._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},e!==null&&Ac(i,null),fd(),ry(i),e!==null&&Ws(e,i,u,!0),i.childLanes=f,null}function kc(e,i){return i=jc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function n0(e,i,o){return Wa(i,e.child,null,o),e=kc(i,i.pendingProps),e.flags|=2,Xn(i),i.memoizedState=null,e}function gb(e,i,o){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ht){if(u.mode==="hidden")return e=kc(i,u),i.lanes=536870912,Pl(null,e);if(md(i),(e=Ae)?(e=m_(e,hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:qr!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=kp(e),o.return=i,i.child=o,mn=i,Ae=null)):e=null,e===null)throw Gr(i);return i.lanes=536870912,null}return kc(i,u)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(md(i),f)if(i.flags&256)i.flags&=-257,i=n0(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ye||Ws(e,i,o,!1),f=(o&e.childLanes)!==0,Ye||f){if(u=_e,u!==null&&(T=nl(u,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,qa(e,T),jn(u,e,T),Pd;Zc(),i=n0(e,i,o)}else e=m.treeContext,Ae=di(T.nextSibling),mn=i,Ht=!0,Hr=null,hi=!1,e!==null&&Fp(i,e),i=kc(i,u),i.flags|=4096;return i}return e=dr(e.child,{mode:u.mode,children:u.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Bc(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Ud(e,i,o,u,f){return Ya(i),o=pd(e,i,o,u,void 0,f),u=yd(),e!==null&&!Ye?(_d(e,i,f),vr(e,i,f)):(Ht&&u&&Wf(i),i.flags|=1,pn(e,i,o,f),i.child)}function i0(e,i,o,u,f,m){return Ya(i),i.updateQueue=null,o=sy(i,u,o,f),ay(e),u=yd(),e!==null&&!Ye?(_d(e,i,m),vr(e,i,m)):(Ht&&u&&Wf(i),i.flags|=1,pn(e,i,o,m),i.child)}function r0(e,i,o,u,f){if(Ya(i),i.stateNode===null){var m=Ys,T=o.contextType;typeof T=="object"&&T!==null&&(m=gn(T)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},ld(i),T=o.contextType,m.context=typeof T=="object"&&T!==null?gn(T):Ys,m.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Md(i,o,T,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Nd.enqueueReplaceState(m,m.state,null),xl(i,u,m,f),Cl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){m=i.stateNode;var V=i.memoizedProps,k=$a(o,V);m.props=k;var tt=m.context,ct=o.contextType;T=Ys,typeof ct=="object"&&ct!==null&&(T=gn(ct));var ft=o.getDerivedStateFromProps;ct=typeof ft=="function"||typeof m.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,ct||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(V||tt!==T)&&Hy(i,m,u,T),Yr=!1;var it=i.memoizedState;m.state=it,xl(i,u,m,f),Cl(),tt=i.memoizedState,V||it!==tt||Yr?(typeof ft=="function"&&(Md(i,o,ft,u),tt=i.memoizedState),(k=Yr||qy(i,o,k,u,it,tt,T))?(ct||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=tt),m.props=u,m.state=tt,m.context=T,u=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,ud(e,i),T=i.memoizedProps,ct=$a(o,T),m.props=ct,ft=i.pendingProps,it=m.context,tt=o.contextType,k=Ys,typeof tt=="object"&&tt!==null&&(k=gn(tt)),V=o.getDerivedStateFromProps,(tt=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ft||it!==k)&&Hy(i,m,u,k),Yr=!1,it=i.memoizedState,m.state=it,xl(i,u,m,f),Cl();var lt=i.memoizedState;T!==ft||it!==lt||Yr||e!==null&&e.dependencies!==null&&Tc(e.dependencies)?(typeof V=="function"&&(Md(i,o,V,u),lt=i.memoizedState),(ct=Yr||qy(i,o,ct,u,it,lt,k)||e!==null&&e.dependencies!==null&&Tc(e.dependencies))?(tt||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,lt,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,lt,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=lt),m.props=u,m.state=lt,m.context=k,u=ct):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=1024),u=!1)}return m=u,Bc(e,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&u?(i.child=Wa(i,e.child,null,f),i.child=Wa(i,null,o,f)):pn(e,i,o,f),i.memoizedState=m.state,e=i.child):e=vr(e,i,f),e}function a0(e,i,o,u){return Ga(),i.flags|=256,pn(e,i,o,u),i.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(e){return{baseLanes:e,cachePool:Kp()}}function kd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Wn),e}function s0(e,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(f?Zr(i):Wr(),(e=Ae)?(e=m_(e,hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:qr!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=kp(e),o.return=i,i.child=o,mn=i,Ae=null)):e=null,e===null)throw Gr(i);return Tm(e)?i.lanes=32:i.lanes=536870912,null}var V=u.children;return u=u.fallback,f?(Wr(),f=i.mode,V=jc({mode:"hidden",children:V},f),u=Ha(u,f,o,null),V.return=i,u.return=i,V.sibling=u,i.child=V,u=i.child,u.memoizedState=Ld(o),u.childLanes=kd(e,T,o),i.memoizedState=zd,Pl(null,u)):(Zr(i),Bd(i,V))}var k=e.memoizedState;if(k!==null&&(V=k.dehydrated,V!==null)){if(m)i.flags&256?(Zr(i),i.flags&=-257,i=jd(e,i,o)):i.memoizedState!==null?(Wr(),i.child=e.child,i.flags|=128,i=null):(Wr(),V=u.fallback,f=i.mode,u=jc({mode:"visible",children:u.children},f),V=Ha(V,f,o,null),V.flags|=2,u.return=i,V.return=i,u.sibling=V,i.child=u,Wa(i,e.child,null,o),u=i.child,u.memoizedState=Ld(o),u.childLanes=kd(e,T,o),i.memoizedState=zd,i=Pl(null,u));else if(Zr(i),Tm(V)){if(T=V.nextSibling&&V.nextSibling.dataset,T)var tt=T.dgst;T=tt,u=Error(r(419)),u.stack="",u.digest=T,Al({value:u,source:null,stack:null}),i=jd(e,i,o)}else if(Ye||Ws(e,i,o,!1),T=(o&e.childLanes)!==0,Ye||T){if(T=_e,T!==null&&(u=nl(T,o),u!==0&&u!==k.retryLane))throw k.retryLane=u,qa(e,u),jn(T,e,u),Pd;Em(V)||Zc(),i=jd(e,i,o)}else Em(V)?(i.flags|=192,i.child=e.child,i=null):(e=k.treeContext,Ae=di(V.nextSibling),mn=i,Ht=!0,Hr=null,hi=!1,e!==null&&Fp(i,e),i=Bd(i,u.children),i.flags|=4096);return i}return f?(Wr(),V=u.fallback,f=i.mode,k=e.child,tt=k.sibling,u=dr(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,tt!==null?V=dr(tt,V):(V=Ha(V,f,o,null),V.flags|=2),V.return=i,u.return=i,u.sibling=V,i.child=u,Pl(null,u),u=i.child,V=e.child.memoizedState,V===null?V=Ld(o):(f=V.cachePool,f!==null?(k=Ge._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=Kp(),V={baseLanes:V.baseLanes|o,cachePool:f}),u.memoizedState=V,u.childLanes=kd(e,T,o),i.memoizedState=zd,Pl(e.child,u)):(Zr(i),o=e.child,e=o.sibling,o=dr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function Bd(e,i){return i=jc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function jc(e,i){return e=Yn(22,e,null,i),e.lanes=0,e}function jd(e,i,o){return Wa(i,e.child,null,o),e=Bd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function o0(e,i,o){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),nd(e.return,i,o)}function Fd(e,i,o,u,f,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=m)}function l0(e,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var T=Le.current,V=(T&2)!==0;if(V?(T=T&1|2,i.flags|=128):T&=1,ot(Le,T),pn(e,i,u,o),u=Ht?bl:0,!V&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o0(e,o,i);else if(e.tag===19)o0(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)e=o.alternate,e!==null&&Cc(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Fd(i,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Cc(e)===null){i.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}Fd(i,!0,o,null,m,u);break;case"together":Fd(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function vr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),ta|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Ws(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,o=dr(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=dr(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function qd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Tc(e)))}function pb(e,i,o){switch(i.tag){case 3:Ct(i,i.stateNode.containerInfo),Qr(i,Ge,e.memoizedState.cache),Ga();break;case 27:case 5:Kt(i);break;case 4:Ct(i,i.stateNode.containerInfo);break;case 10:Qr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,md(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Zr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?s0(e,i,o):(Zr(i),e=vr(e,i,o),e!==null?e.sibling:null);Zr(i);break;case 19:var f=(e.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Ws(e,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return l0(e,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(Le,Le.current),u)break;return null;case 22:return i.lanes=0,t0(e,i,o,i.pendingProps);case 24:Qr(i,Ge,e.memoizedState.cache)}return vr(e,i,o)}function u0(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ye=!0;else{if(!qd(e,o)&&(i.flags&128)===0)return Ye=!1,pb(e,i,o);Ye=(e.flags&131072)!==0}else Ye=!1,Ht&&(i.flags&1048576)!==0&&jp(i,bl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(e=Xa(i.elementType),i.type=e,typeof e=="function")Kf(e)?(u=$a(e,u),i.tag=1,i=r0(null,i,e,u,o)):(i.tag=0,i=Ud(null,i,e,u,o));else{if(e!=null){var f=e.$$typeof;if(f===K){i.tag=11,i=Wy(null,i,e,u,o);break t}else if(f===M){i.tag=14,i=Jy(null,i,e,u,o);break t}}throw i=F(e)||e,Error(r(306,i,""))}}return i;case 0:return Ud(e,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=$a(u,i.pendingProps),r0(e,i,u,f,o);case 3:t:{if(Ct(i,i.stateNode.containerInfo),e===null)throw Error(r(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,ud(e,i),xl(i,u,null,o);var T=i.memoizedState;if(u=T.cache,Qr(i,Ge,u),u!==m.cache&&id(i,[Ge],o,!0),Cl(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=a0(e,i,u,o);break t}else if(u!==f){f=li(Error(r(424)),i),Al(f),i=a0(e,i,u,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ae=di(e.firstChild),mn=i,Ht=!0,Hr=null,hi=!0,o=ty(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ga(),u===f){i=vr(e,i,o);break t}pn(e,i,u,o)}i=i.child}return i;case 26:return Bc(e,i),e===null?(o=E_(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ht||(o=i.type,e=i.pendingProps,u=ih(gt.current).createElement(o),u[Fe]=i,u[rn]=e,yn(u,o,e),qe(u),i.stateNode=u):i.memoizedState=E_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Kt(i),e===null&&Ht&&(u=i.stateNode=y_(i.type,i.pendingProps,gt.current),mn=i,hi=!0,f=Ae,aa(i.type)?(bm=f,Ae=di(u.firstChild)):Ae=f),pn(e,i,i.pendingProps.children,o),Bc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((f=u=Ae)&&(u=Qb(u,i.type,i.pendingProps,hi),u!==null?(i.stateNode=u,mn=i,Ae=di(u.firstChild),hi=!1,f=!0):f=!1),f||Gr(i)),Kt(i),f=i.type,m=i.pendingProps,T=e!==null?e.memoizedProps:null,u=m.children,ym(f,m)?u=null:T!==null&&ym(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=pd(e,i,ob,null,null,o),Zl._currentValue=f),Bc(e,i),pn(e,i,u,o),i.child;case 6:return e===null&&Ht&&((e=o=Ae)&&(o=Yb(o,i.pendingProps,hi),o!==null?(i.stateNode=o,mn=i,Ae=null,e=!0):e=!1),e||Gr(i)),null;case 13:return s0(e,i,o);case 4:return Ct(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=Wa(i,null,u,o):pn(e,i,u,o),i.child;case 11:return Wy(e,i,i.type,i.pendingProps,o);case 7:return pn(e,i,i.pendingProps,o),i.child;case 8:return pn(e,i,i.pendingProps.children,o),i.child;case 12:return pn(e,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Qr(i,i.type,u.value),pn(e,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ya(i),f=gn(f),u=u(f),i.flags|=1,pn(e,i,u,o),i.child;case 14:return Jy(e,i,i.type,i.pendingProps,o);case 15:return $y(e,i,i.type,i.pendingProps,o);case 19:return l0(e,i,o);case 31:return gb(e,i,o);case 22:return t0(e,i,o,i.pendingProps);case 24:return Ya(i),u=gn(Ge),e===null?(f=sd(),f===null&&(f=_e,m=rd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},ld(i),Qr(i,Ge,f)):((e.lanes&o)!==0&&(ud(e,i),xl(i,null,null,o),Cl()),f=e.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Qr(i,Ge,u)):(u=m.cache,Qr(i,Ge,u),u!==f.cache&&id(i,[Ge],o,!0))),pn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Er(e){e.flags|=4}function Hd(e,i,o,u,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(U0())e.flags|=8192;else throw Za=wc,od}else e.flags&=-16777217}function c0(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w_(i))if(U0())e.flags|=8192;else throw Za=wc,od}function Fc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ni():536870912,e.lanes|=i,uo|=i)}function Ul(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Se(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(i)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=o,i}function yb(e,i,o){var u=i.pendingProps;switch(Jf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(i),null;case 1:return Se(i),null;case 3:return o=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),pr(Ge),wt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Zs(i)?Er(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,td())),Se(i),null;case 26:var f=i.type,m=i.memoizedState;return e===null?(Er(i),m!==null?(Se(i),c0(i,m)):(Se(i),Hd(i,f,null,u,o))):m?m!==e.memoizedState?(Er(i),Se(i),c0(i,m)):(Se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==u&&Er(i),Se(i),Hd(i,f,e,u,o)),null;case 27:if(ce(i),o=gt.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Er(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Se(i),null}e=et.current,Zs(i)?qp(i):(e=y_(f,u,o),i.stateNode=e,Er(i))}return Se(i),null;case 5:if(ce(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Er(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Se(i),null}if(m=et.current,Zs(i))qp(i);else{var T=ih(gt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}m[Fe]=i,m[rn]=u;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=m;t:switch(yn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Er(i)}}return Se(i),Hd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&Er(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(e=gt.current,Zs(i)){if(e=i.stateNode,o=i.memoizedProps,u=null,f=mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Fe]=i,e=!!(e.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||s_(e.nodeValue,o)),e||Gr(i,!0)}else e=ih(e).createTextNode(u),e[Fe]=i,i.stateNode=e}return Se(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(u=Zs(i),o!==null){if(e===null){if(!u)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Fe]=i}else Ga(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Se(i),e=!1}else o=td(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Xn(i),i):(Xn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Se(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Zs(i),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Fe]=i}else Ga(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Se(i),f=!1}else f=td(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Xn(i),i):(Xn(i),null)}return Xn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,e=e!==null&&e.memoizedState!==null,o&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),Fc(i,i.updateQueue),Se(i),null);case 4:return wt(),e===null&&fm(i.stateNode.containerInfo),Se(i),null;case 10:return pr(i.type),Se(i),null;case 19:if(H(Le),u=i.memoizedState,u===null)return Se(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)Ul(u,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=Cc(e),m!==null){for(i.flags|=128,Ul(u,!1),e=m.updateQueue,i.updateQueue=e,Fc(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Lp(o,e),o=o.sibling;return ot(Le,Le.current&1|2),Ht&&mr(i,u.treeForkCount),i.child}e=e.sibling}u.tail!==null&&Pt()>Yc&&(i.flags|=128,f=!0,Ul(u,!1),i.lanes=4194304)}else{if(!f)if(e=Cc(m),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Fc(i,e),Ul(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ht)return Se(i),null}else 2*Pt()-u.renderingStartTime>Yc&&o!==536870912&&(i.flags|=128,f=!0,Ul(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(e=u.last,e!==null?e.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=Pt(),e.sibling=null,o=Le.current,ot(Le,f?o&1|2:o&1),Ht&&mr(i,u.treeForkCount),e):(Se(i),null);case 22:case 23:return Xn(i),dd(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Se(i),i.subtreeFlags&6&&(i.flags|=8192)):Se(i),o=i.updateQueue,o!==null&&Fc(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),e!==null&&H(Ka),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),pr(Ge),Se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function _b(e,i){switch(Jf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return pr(Ge),wt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ce(i),null;case 31:if(i.memoizedState!==null){if(Xn(i),i.alternate===null)throw Error(r(340));Ga()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Xn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ga()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return H(Le),null;case 4:return wt(),null;case 10:return pr(i.type),null;case 22:case 23:return Xn(i),dd(),e!==null&&H(Ka),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return pr(Ge),null;case 25:return null;default:return null}}function h0(e,i){switch(Jf(i),i.tag){case 3:pr(Ge),wt();break;case 26:case 27:case 5:ce(i);break;case 4:wt();break;case 31:i.memoizedState!==null&&Xn(i);break;case 13:Xn(i);break;case 19:H(Le);break;case 10:pr(i.type);break;case 22:case 23:Xn(i),dd(),e!==null&&H(Ka);break;case 24:pr(Ge)}}function zl(e,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(V){se(i,i.return,V)}}function Jr(e,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&e)===e){var T=u.inst,V=T.destroy;if(V!==void 0){T.destroy=void 0,f=i;var k=o,tt=V;try{tt()}catch(ct){se(f,k,ct)}}}u=u.next}while(u!==m)}}catch(ct){se(i,i.return,ct)}}function f0(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{ny(i,o)}catch(u){se(e,e.return,u)}}}function d0(e,i,o){o.props=$a(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(u){se(e,i,u)}}function Ll(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof o=="function"?e.refCleanup=o(u):o.current=u}}catch(f){se(e,i,f)}}function Zi(e,i){var o=e.ref,u=e.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){se(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){se(e,i,f)}else o.current=null}function m0(e){var i=e.type,o=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){se(e,e.return,f)}}function Gd(e,i,o){try{var u=e.stateNode;Bb(u,e.type,o,i),u[rn]=i}catch(f){se(e,e.return,f)}}function g0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&aa(e.type)||e.tag===4}function Qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||g0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,i,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=bi));else if(u!==4&&(u===27&&aa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Yd(e,i,o),e=e.sibling;e!==null;)Yd(e,i,o),e=e.sibling}function qc(e,i,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(u!==4&&(u===27&&aa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(qc(e,i,o),e=e.sibling;e!==null;)qc(e,i,o),e=e.sibling}function p0(e){var i=e.stateNode,o=e.memoizedProps;try{for(var u=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);yn(i,u,o),i[Fe]=e,i[rn]=o}catch(m){se(e,e.return,m)}}var Tr=!1,Ke=!1,Kd=!1,y0=typeof WeakSet=="function"?WeakSet:Set,sn=null;function vb(e,i){if(e=e.containerInfo,gm=ch,e=Cp(e),jf(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var T=0,V=-1,k=-1,tt=0,ct=0,ft=e,it=null;e:for(;;){for(var lt;ft!==o||f!==0&&ft.nodeType!==3||(V=T+f),ft!==m||u!==0&&ft.nodeType!==3||(k=T+u),ft.nodeType===3&&(T+=ft.nodeValue.length),(lt=ft.firstChild)!==null;)it=ft,ft=lt;for(;;){if(ft===e)break e;if(it===o&&++tt===f&&(V=T),it===m&&++ct===u&&(k=T),(lt=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=lt}o=V===-1||k===-1?null:{start:V,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(pm={focusedElem:e,selectionRange:o},ch=!1,sn=i;sn!==null;)if(i=sn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,sn=e;else for(;sn!==null;){switch(i=sn,m=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var vt=$a(o.type,f);e=u.getSnapshotBeforeUpdate(vt,m),u.__reactInternalSnapshotBeforeUpdate=e}catch(Dt){se(o,o.return,Dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)vm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,sn=e;break}sn=i.return}}function _0(e,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ar(e,o),u&4&&zl(5,o);break;case 1:if(Ar(e,o),u&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){se(o,o.return,T)}else{var f=$a(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){se(o,o.return,T)}}u&64&&f0(o),u&512&&Ll(o,o.return);break;case 3:if(Ar(e,o),u&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{ny(e,i)}catch(T){se(o,o.return,T)}}break;case 27:i===null&&u&4&&p0(o);case 26:case 5:Ar(e,o),i===null&&u&4&&m0(o),u&512&&Ll(o,o.return);break;case 12:Ar(e,o);break;case 31:Ar(e,o),u&4&&T0(e,o);break;case 13:Ar(e,o),u&4&&b0(e,o),u&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Db.bind(null,o),Kb(e,o))));break;case 22:if(u=o.memoizedState!==null||Tr,!u){i=i!==null&&i.memoizedState!==null||Ke,f=Tr;var m=Ke;Tr=u,(Ke=i)&&!m?Sr(e,o,(o.subtreeFlags&8772)!==0):Ar(e,o),Tr=f,Ke=m}break;case 30:break;default:Ar(e,o)}}function v0(e){var i=e.alternate;i!==null&&(e.alternate=null,v0(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ns(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,zn=!1;function br(e,i,o){for(o=o.child;o!==null;)E0(e,i,o),o=o.sibling}function E0(e,i,o){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Ue,o)}catch{}switch(o.tag){case 26:Ke||Zi(o,i),br(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ke||Zi(o,i);var u=Re,f=zn;aa(o.type)&&(Re=o.stateNode,zn=!1),br(e,i,o),Yl(o.stateNode),Re=u,zn=f;break;case 5:Ke||Zi(o,i);case 6:if(u=Re,f=zn,Re=null,br(e,i,o),Re=u,zn=f,Re!==null)if(zn)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(o.stateNode)}catch(m){se(o,i,m)}else try{Re.removeChild(o.stateNode)}catch(m){se(o,i,m)}break;case 18:Re!==null&&(zn?(e=Re,f_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),_o(e)):f_(Re,o.stateNode));break;case 4:u=Re,f=zn,Re=o.stateNode.containerInfo,zn=!0,br(e,i,o),Re=u,zn=f;break;case 0:case 11:case 14:case 15:Jr(2,o,i),Ke||Jr(4,o,i),br(e,i,o);break;case 1:Ke||(Zi(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&d0(o,i,u)),br(e,i,o);break;case 21:br(e,i,o);break;case 22:Ke=(u=Ke)||o.memoizedState!==null,br(e,i,o),Ke=u;break;default:br(e,i,o)}}function T0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_o(e)}catch(o){se(i,i.return,o)}}}function b0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_o(e)}catch(o){se(i,i.return,o)}}function Eb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new y0),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new y0),i;default:throw Error(r(435,e.tag))}}function Hc(e,i){var o=Eb(e);i.forEach(function(u){if(!o.has(u)){o.add(u);var f=Cb.bind(null,e,u);u.then(f,f)}})}function Ln(e,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=e,T=i,V=T;t:for(;V!==null;){switch(V.tag){case 27:if(aa(V.type)){Re=V.stateNode,zn=!1;break t}break;case 5:Re=V.stateNode,zn=!1;break t;case 3:case 4:Re=V.stateNode.containerInfo,zn=!0;break t}V=V.return}if(Re===null)throw Error(r(160));E0(m,T,f),Re=null,zn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)A0(i,e),i=i.sibling}var Di=null;function A0(e,i){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(i,e),kn(e),u&4&&(Jr(3,e,e.return),zl(3,e),Jr(5,e,e.return));break;case 1:Ln(i,e),kn(e),u&512&&(Ke||o===null||Zi(o,o.return)),u&64&&Tr&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Di;if(Ln(i,e),kn(e),u&512&&(Ke||o===null||Zi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=e.memoizedState,o===null)if(u===null)if(e.stateNode===null){t:{u=e.type,o=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ui]||m[Fe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),yn(m,u,o),m[Fe]=e,qe(m),u=m;break t;case"link":var T=A_("link","href",f).get(u+(o.href||""));if(T){for(var V=0;V<T.length;V++)if(m=T[V],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(V,1);break e}}m=f.createElement(u),yn(m,u,o),f.head.appendChild(m);break;case"meta":if(T=A_("meta","content",f).get(u+(o.content||""))){for(V=0;V<T.length;V++)if(m=T[V],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(V,1);break e}}m=f.createElement(u),yn(m,u,o),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[Fe]=e,qe(m),u=m}e.stateNode=u}else S_(f,e.type,e.stateNode);else e.stateNode=b_(f,u,e.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?S_(f,e.type,e.stateNode):b_(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Gd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Ln(i,e),kn(e),u&512&&(Ke||o===null||Zi(o,o.return)),o!==null&&u&4&&Gd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Ln(i,e),kn(e),u&512&&(Ke||o===null||Zi(o,o.return)),e.flags&32){f=e.stateNode;try{Un(f,"")}catch(vt){se(e,e.return,vt)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,Gd(e,f,o!==null?o.memoizedProps:f)),u&1024&&(Kd=!0);break;case 6:if(Ln(i,e),kn(e),u&4){if(e.stateNode===null)throw Error(r(162));u=e.memoizedProps,o=e.stateNode;try{o.nodeValue=u}catch(vt){se(e,e.return,vt)}}break;case 3:if(sh=null,f=Di,Di=rh(i.containerInfo),Ln(i,e),Di=f,kn(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(vt){se(e,e.return,vt)}Kd&&(Kd=!1,S0(e));break;case 4:u=Di,Di=rh(e.stateNode.containerInfo),Ln(i,e),kn(e),Di=u;break;case 12:Ln(i,e),kn(e);break;case 31:Ln(i,e),kn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hc(e,u)));break;case 13:Ln(i,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qc=Pt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hc(e,u)));break;case 22:f=e.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,tt=Tr,ct=Ke;if(Tr=tt||f,Ke=ct||k,Ln(i,e),Ke=ct,Tr=tt,kn(e),u&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||k||Tr||Ke||ts(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){k=o=i;try{if(m=k.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{V=k.stateNode;var ft=k.memoizedProps.style,it=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;V.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(vt){se(k,k.return,vt)}}}else if(i.tag===6){if(o===null){k=i;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(vt){se(k,k.return,vt)}}}else if(i.tag===18){if(o===null){k=i;try{var lt=k.stateNode;f?d_(lt,!0):d_(k.stateNode,!1)}catch(vt){se(k,k.return,vt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hc(e,o))));break;case 19:Ln(i,e),kn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hc(e,u)));break;case 30:break;case 21:break;default:Ln(i,e),kn(e)}}function kn(e){var i=e.flags;if(i&2){try{for(var o,u=e.return;u!==null;){if(g0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,m=Qd(e);qc(e,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(Un(T,""),o.flags&=-33);var V=Qd(e);qc(e,V,T);break;case 3:case 4:var k=o.stateNode.containerInfo,tt=Qd(e);Yd(e,tt,k);break;default:throw Error(r(161))}}catch(ct){se(e,e.return,ct)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function S0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;S0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ar(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_0(e,i.alternate,i),i=i.sibling}function ts(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Jr(4,i,i.return),ts(i);break;case 1:Zi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&d0(i,i.return,o),ts(i);break;case 27:Yl(i.stateNode);case 26:case 5:Zi(i,i.return),ts(i);break;case 22:i.memoizedState===null&&ts(i);break;case 30:ts(i);break;default:ts(i)}e=e.sibling}}function Sr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=e,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:Sr(f,m,o),zl(4,m);break;case 1:if(Sr(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(tt){se(u,u.return,tt)}if(u=m,f=u.updateQueue,f!==null){var V=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)ey(k[f],V)}catch(tt){se(u,u.return,tt)}}o&&T&64&&f0(m),Ll(m,m.return);break;case 27:p0(m);case 26:case 5:Sr(f,m,o),o&&u===null&&T&4&&m0(m),Ll(m,m.return);break;case 12:Sr(f,m,o);break;case 31:Sr(f,m,o),o&&T&4&&T0(f,m);break;case 13:Sr(f,m,o),o&&T&4&&b0(f,m);break;case 22:m.memoizedState===null&&Sr(f,m,o),Ll(m,m.return);break;case 30:break;default:Sr(f,m,o)}i=i.sibling}}function Xd(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Sl(o))}function Zd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e))}function Ci(e,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)w0(e,i,o,u),i=i.sibling}function w0(e,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ci(e,i,o,u),f&2048&&zl(9,i);break;case 1:Ci(e,i,o,u);break;case 3:Ci(e,i,o,u),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e)));break;case 12:if(f&2048){Ci(e,i,o,u),e=i.stateNode;try{var m=i.memoizedProps,T=m.id,V=m.onPostCommit;typeof V=="function"&&V(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){se(i,i.return,k)}}else Ci(e,i,o,u);break;case 31:Ci(e,i,o,u);break;case 13:Ci(e,i,o,u);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Ci(e,i,o,u):kl(e,i):m._visibility&2?Ci(e,i,o,u):(m._visibility|=2,so(e,i,o,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Xd(T,i);break;case 24:Ci(e,i,o,u),f&2048&&Zd(i.alternate,i);break;default:Ci(e,i,o,u)}}function so(e,i,o,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=e,T=i,V=o,k=u,tt=T.flags;switch(T.tag){case 0:case 11:case 15:so(m,T,V,k,f),zl(8,T);break;case 23:break;case 22:var ct=T.stateNode;T.memoizedState!==null?ct._visibility&2?so(m,T,V,k,f):kl(m,T):(ct._visibility|=2,so(m,T,V,k,f)),f&&tt&2048&&Xd(T.alternate,T);break;case 24:so(m,T,V,k,f),f&&tt&2048&&Zd(T.alternate,T);break;default:so(m,T,V,k,f)}i=i.sibling}}function kl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,u=i,f=u.flags;switch(u.tag){case 22:kl(o,u),f&2048&&Xd(u.alternate,u);break;case 24:kl(o,u),f&2048&&Zd(u.alternate,u);break;default:kl(o,u)}i=i.sibling}}var Bl=8192;function oo(e,i,o){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)I0(e,i,o),e=e.sibling}function I0(e,i,o){switch(e.tag){case 26:oo(e,i,o),e.flags&Bl&&e.memoizedState!==null&&sA(o,Di,e.memoizedState,e.memoizedProps);break;case 5:oo(e,i,o);break;case 3:case 4:var u=Di;Di=rh(e.stateNode.containerInfo),oo(e,i,o),Di=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=Bl,Bl=16777216,oo(e,i,o),Bl=u):oo(e,i,o));break;default:oo(e,i,o)}}function R0(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function jl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];sn=u,C0(u,e)}R0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)D0(e),e=e.sibling}function D0(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&Jr(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Gc(e)):jl(e);break;default:jl(e)}}function Gc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];sn=u,C0(u,e)}R0(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Jr(8,i,i.return),Gc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Gc(i));break;default:Gc(i)}e=e.sibling}}function C0(e,i){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:Jr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Sl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,sn=u;else t:for(o=e;sn!==null;){u=sn;var f=u.sibling,m=u.return;if(v0(u),u===o){sn=null;break t}if(f!==null){f.return=m,sn=f;break t}sn=m}}}var Tb={getCacheForType:function(e){var i=gn(Ge),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return gn(Ge).controller.signal}},bb=typeof WeakMap=="function"?WeakMap:Map,$t=0,_e=null,kt=null,jt=0,ae=0,Zn=null,$r=!1,lo=!1,Wd=!1,wr=0,Me=0,ta=0,es=0,Jd=0,Wn=0,uo=0,Fl=null,Bn=null,$d=!1,Qc=0,x0=0,Yc=1/0,Kc=null,ea=null,$e=0,na=null,co=null,Ir=0,tm=0,em=null,V0=null,ql=0,nm=null;function Jn(){return($t&2)!==0&&jt!==0?jt&-jt:R.T!==null?lm():Xu()}function M0(){if(Wn===0)if((jt&536870912)===0||Ht){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),Wn=e}else Wn=536870912;return e=Kn.current,e!==null&&(e.flags|=32),Wn}function jn(e,i,o){(e===_e&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(ho(e,0),ia(e,jt,Wn,!1)),Ca(e,o),(($t&2)===0||e!==_e)&&(e===_e&&(($t&2)===0&&(es|=o),Me===4&&ia(e,jt,Wn,!1)),Wi(e))}function N0(e,i,o){if(($t&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&e.expiredLanes)===0||fn(e,i),f=u?wb(e,i):rm(e,i,!0),m=u;do{if(f===0){lo&&!u&&ia(e,i,0,!1);break}else{if(o=e.current.alternate,m&&!Ab(o)){f=rm(e,i,!1),m=!1;continue}if(f===2){if(m=i,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var V=e;f=Fl;var k=V.current.memoizedState.isDehydrated;if(k&&(ho(V,T).flags|=256),T=rm(V,T,!1),T!==2){if(Wd&&!k){V.errorRecoveryDisabledLanes|=m,es|=m,f=4;break t}m=Bn,Bn=f,m!==null&&(Bn===null?Bn=m:Bn.push.apply(Bn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){ho(e,0),ia(e,i,0,!0);break}t:{switch(u=e,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ia(u,i,Wn,!$r);break t;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Qc+300-Pt(),10<f)){if(ia(u,i,Wn,!$r),hn(u,0,!0)!==0)break t;Ir=i,u.timeoutHandle=c_(O0.bind(null,u,o,Bn,Kc,$d,i,Wn,es,uo,$r,m,"Throttled",-0,0),f);break t}O0(u,o,Bn,Kc,$d,i,Wn,es,uo,$r,m,null,-0,0)}}break}while(!0);Wi(e)}function O0(e,i,o,u,f,m,T,V,k,tt,ct,ft,it,lt){if(e.timeoutHandle=-1,ft=i.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},I0(i,m,ft);var vt=(m&62914560)===m?Qc-Pt():(m&4194048)===m?x0-Pt():0;if(vt=oA(ft,vt),vt!==null){Ir=m,e.cancelPendingCommit=vt(F0.bind(null,e,i,m,o,u,f,T,V,k,ct,ft,null,it,lt)),ia(e,m,T,!tt);return}}F0(e,i,m,o,u,f,T,V,k)}function Ab(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Qn(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ia(e,i,o,u){i&=~Jd,i&=~es,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var f=i;0<f;){var m=31-be(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&xa(e,o,i)}function Xc(){return($t&6)===0?(Hl(0),!1):!0}function im(){if(kt!==null){if(ae===0)var e=kt.return;else e=kt,gr=Qa=null,vd(e),eo=null,Il=0,e=kt;for(;e!==null;)h0(e.alternate,e),e=e.return;kt=null}}function ho(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,qb(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ir=0,im(),_e=e,kt=o=dr(e.current,null),jt=i,ae=0,Zn=null,$r=!1,lo=fn(e,i),Wd=!1,uo=Wn=Jd=es=ta=Me=0,Bn=Fl=null,$d=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var f=31-be(u),m=1<<f;i|=e[f],u&=~m}return wr=i,pc(),o}function P0(e,i){Ot=null,R.H=Ol,i===to||i===Sc?(i=Wp(),ae=3):i===od?(i=Wp(),ae=4):ae=i===Pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,kt===null&&(Me=1,Lc(e,li(i,e.current)))}function U0(){var e=Kn.current;return e===null?!0:(jt&4194048)===jt?fi===null:(jt&62914560)===jt||(jt&536870912)!==0?e===fi:!1}function z0(){var e=R.H;return R.H=Ol,e===null?Ol:e}function L0(){var e=R.A;return R.A=Tb,e}function Zc(){Me=4,$r||(jt&4194048)!==jt&&Kn.current!==null||(lo=!0),(ta&134217727)===0&&(es&134217727)===0||_e===null||ia(_e,jt,Wn,!1)}function rm(e,i,o){var u=$t;$t|=2;var f=z0(),m=L0();(_e!==e||jt!==i)&&(Kc=null,ho(e,i)),i=!1;var T=Me;t:do try{if(ae!==0&&kt!==null){var V=kt,k=Zn;switch(ae){case 8:im(),T=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var tt=ae;if(ae=0,Zn=null,fo(e,V,k,tt),o&&lo){T=0;break t}break;default:tt=ae,ae=0,Zn=null,fo(e,V,k,tt)}}Sb(),T=Me;break}catch(ct){P0(e,ct)}while(!0);return i&&e.shellSuspendCounter++,gr=Qa=null,$t=u,R.H=f,R.A=m,kt===null&&(_e=null,jt=0,pc()),T}function Sb(){for(;kt!==null;)k0(kt)}function wb(e,i){var o=$t;$t|=2;var u=z0(),f=L0();_e!==e||jt!==i?(Kc=null,Yc=Pt()+500,ho(e,i)):lo=fn(e,i);t:do try{if(ae!==0&&kt!==null){i=kt;var m=Zn;e:switch(ae){case 1:ae=0,Zn=null,fo(e,i,m,1);break;case 2:case 9:if(Xp(m)){ae=0,Zn=null,B0(i);break}i=function(){ae!==2&&ae!==9||_e!==e||(ae=7),Wi(e)},m.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Xp(m)?(ae=0,Zn=null,B0(i)):(ae=0,Zn=null,fo(e,i,m,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var V=kt;if(T?w_(T):V.stateNode.complete){ae=0,Zn=null;var k=V.sibling;if(k!==null)kt=k;else{var tt=V.return;tt!==null?(kt=tt,Wc(tt)):kt=null}break e}}ae=0,Zn=null,fo(e,i,m,5);break;case 6:ae=0,Zn=null,fo(e,i,m,6);break;case 8:im(),Me=6;break t;default:throw Error(r(462))}}Ib();break}catch(ct){P0(e,ct)}while(!0);return gr=Qa=null,R.H=u,R.A=f,$t=o,kt!==null?0:(_e=null,jt=0,pc(),Me)}function Ib(){for(;kt!==null&&!un();)k0(kt)}function k0(e){var i=u0(e.alternate,e,wr);e.memoizedProps=e.pendingProps,i===null?Wc(e):kt=i}function B0(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=i0(o,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=i0(o,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:vd(i);default:h0(o,i),i=kt=Lp(i,wr),i=u0(o,i,wr)}e.memoizedProps=e.pendingProps,i===null?Wc(e):kt=i}function fo(e,i,o,u){gr=Qa=null,vd(i),eo=null,Il=0;var f=i.return;try{if(mb(e,f,i,o,jt)){Me=1,Lc(e,li(o,e.current)),kt=null;return}}catch(m){if(f!==null)throw kt=f,m;Me=1,Lc(e,li(o,e.current)),kt=null;return}i.flags&32768?(Ht||u===1?e=!0:lo||(jt&536870912)!==0?e=!1:($r=e=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),j0(i,e)):Wc(i)}function Wc(e){var i=e;do{if((i.flags&32768)!==0){j0(i,$r);return}e=i.return;var o=yb(i.alternate,i,wr);if(o!==null){kt=o;return}if(i=i.sibling,i!==null){kt=i;return}kt=i=e}while(i!==null);Me===0&&(Me=5)}function j0(e,i){do{var o=_b(e.alternate,e);if(o!==null){o.flags&=32767,kt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){kt=e;return}kt=e=o}while(e!==null);Me=6,kt=null}function F0(e,i,o,u,f,m,T,V,k){e.cancelPendingCommit=null;do Jc();while($e!==0);if(($t&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=Qf,zf(e,o,m,T,V,k),e===_e&&(kt=_e=null,jt=0),co=i,na=e,Ir=o,tm=m,em=f,V0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xb(Te,function(){return Y0(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=R.T,R.T=null,f=x.p,x.p=2,T=$t,$t|=4;try{vb(e,i,o)}finally{$t=T,x.p=f,R.T=u}}$e=1,q0(),H0(),G0()}}function q0(){if($e===1){$e=0;var e=na,i=co,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=R.T,R.T=null;var u=x.p;x.p=2;var f=$t;$t|=4;try{A0(i,e);var m=pm,T=Cp(e.containerInfo),V=m.focusedElem,k=m.selectionRange;if(T!==V&&V&&V.ownerDocument&&Dp(V.ownerDocument.documentElement,V)){if(k!==null&&jf(V)){var tt=k.start,ct=k.end;if(ct===void 0&&(ct=tt),"selectionStart"in V)V.selectionStart=tt,V.selectionEnd=Math.min(ct,V.value.length);else{var ft=V.ownerDocument||document,it=ft&&ft.defaultView||window;if(it.getSelection){var lt=it.getSelection(),vt=V.textContent.length,Dt=Math.min(k.start,vt),pe=k.end===void 0?Dt:Math.min(k.end,vt);!lt.extend&&Dt>pe&&(T=pe,pe=Dt,Dt=T);var G=Rp(V,Dt),q=Rp(V,pe);if(G&&q&&(lt.rangeCount!==1||lt.anchorNode!==G.node||lt.anchorOffset!==G.offset||lt.focusNode!==q.node||lt.focusOffset!==q.offset)){var $=ft.createRange();$.setStart(G.node,G.offset),lt.removeAllRanges(),Dt>pe?(lt.addRange($),lt.extend(q.node,q.offset)):($.setEnd(q.node,q.offset),lt.addRange($))}}}}for(ft=[],lt=V;lt=lt.parentNode;)lt.nodeType===1&&ft.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ft.length;V++){var ht=ft[V];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}ch=!!gm,pm=gm=null}finally{$t=f,x.p=u,R.T=o}}e.current=i,$e=2}}function H0(){if($e===2){$e=0;var e=na,i=co,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=R.T,R.T=null;var u=x.p;x.p=2;var f=$t;$t|=4;try{_0(e,i.alternate,i)}finally{$t=f,x.p=u,R.T=o}}$e=3}}function G0(){if($e===4||$e===3){$e=0,Ee();var e=na,i=co,o=Ir,u=V0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,co=na=null,Q0(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ea=null),ur(o),i=i.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=R.T,f=x.p,x.p=2,R.T=null;try{for(var m=e.onRecoverableError,T=0;T<u.length;T++){var V=u[T];m(V.value,{componentStack:V.stack})}}finally{R.T=i,x.p=f}}(Ir&3)!==0&&Jc(),Wi(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===nm?ql++:(ql=0,nm=e):ql=0,Hl(0)}}function Q0(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Sl(i)))}function Jc(){return q0(),H0(),G0(),Y0()}function Y0(){if($e!==5)return!1;var e=na,i=tm;tm=0;var o=ur(Ir),u=R.T,f=x.p;try{x.p=32>o?32:o,R.T=null,o=em,em=null;var m=na,T=Ir;if($e=0,co=na=null,Ir=0,($t&6)!==0)throw Error(r(331));var V=$t;if($t|=4,D0(m.current),w0(m,m.current,T,o),$t=V,Hl(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Ue,m)}catch{}return!0}finally{x.p=f,R.T=u,Q0(e,i)}}function K0(e,i,o){i=li(o,i),i=Od(e.stateNode,i,2),e=Xr(e,i,2),e!==null&&(Ca(e,2),Wi(e))}function se(e,i,o){if(e.tag===3)K0(e,e,o);else for(;i!==null;){if(i.tag===3){K0(i,e,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ea===null||!ea.has(u))){e=li(o,e),o=Xy(2),u=Xr(i,o,2),u!==null&&(Zy(o,u,i,e),Ca(u,2),Wi(u));break}}i=i.return}}function am(e,i,o){var u=e.pingCache;if(u===null){u=e.pingCache=new bb;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Wd=!0,f.add(o),e=Rb.bind(null,e,i,o),i.then(e,e))}function Rb(e,i,o){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,_e===e&&(jt&o)===o&&(Me===4||Me===3&&(jt&62914560)===jt&&300>Pt()-Qc?($t&2)===0&&ho(e,0):Jd|=o,uo===jt&&(uo=0)),Wi(e)}function X0(e,i){i===0&&(i=ni()),e=qa(e,i),e!==null&&(Ca(e,i),Wi(e))}function Db(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),X0(e,o)}function Cb(e,i){var o=0;switch(e.tag){case 31:case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),X0(e,o)}function xb(e,i){return qt(e,i)}var $c=null,mo=null,sm=!1,th=!1,om=!1,ra=0;function Wi(e){e!==mo&&e.next===null&&(mo===null?$c=mo=e:mo=mo.next=e),th=!0,sm||(sm=!0,Mb())}function Hl(e,i){if(!om&&th){om=!0;do for(var o=!1,u=$c;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,V=u.pingedLanes;m=(1<<31-be(42|e)+1)-1,m&=f&~(T&~V),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,$0(u,m))}else m=jt,m=hn(u,u===_e?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fn(u,m)||(o=!0,$0(u,m));u=u.next}while(o);om=!1}}function Vb(){Z0()}function Z0(){th=sm=!1;var e=0;ra!==0&&Fb()&&(e=ra);for(var i=Pt(),o=null,u=$c;u!==null;){var f=u.next,m=W0(u,i);m===0?(u.next=null,o===null?$c=f:o.next=f,f===null&&(mo=o)):(o=u,(e!==0||(m&3)!==0)&&(th=!0)),u=f}$e!==0&&$e!==5||Hl(e),ra!==0&&(ra=0)}function W0(e,i){for(var o=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-be(m),V=1<<T,k=f[T];k===-1?((V&o)===0||(V&u)!==0)&&(f[T]=Vs(V,i)):k<=i&&(e.expiredLanes|=V),m&=~V}if(i=_e,o=jt,o=hn(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,o===0||e===i&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&ne(u),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||fn(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(u!==null&&ne(u),ur(o)){case 2:case 8:o=Ni;break;case 32:o=Te;break;case 268435456:o=Be;break;default:o=Te}return u=J0.bind(null,e),o=qt(o,u),e.callbackPriority=i,e.callbackNode=o,i}return u!==null&&u!==null&&ne(u),e.callbackPriority=2,e.callbackNode=null,2}function J0(e,i){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Jc()&&e.callbackNode!==o)return null;var u=jt;return u=hn(e,e===_e?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(N0(e,u,i),W0(e,Pt()),e.callbackNode!=null&&e.callbackNode===o?J0.bind(null,e):null)}function $0(e,i){if(Jc())return null;N0(e,i,!0)}function Mb(){Hb(function(){($t&6)!==0?qt(On,Vb):Z0()})}function lm(){if(ra===0){var e=Js;e===0&&(e=Tn,Tn<<=1,(Tn&261888)===0&&(Tn=256)),ra=e}return ra}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function e_(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function Nb(e,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=t_((f[rn]||null).action),T=u.submitter;T&&(i=(i=T[rn]||null)?t_(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var V=new Hi("action","action",null,u,f);e.push({event:V,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ra!==0){var k=T?e_(f,T):new FormData(f);Dd(o,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(V.preventDefault(),k=T?e_(f,T):new FormData(f),Dd(o,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var um=0;um<Gf.length;um++){var cm=Gf[um],Ob=cm.toLowerCase(),Pb=cm[0].toUpperCase()+cm.slice(1);Ri(Ob,"on"+Pb)}Ri(Mp,"onAnimationEnd"),Ri(Np,"onAnimationIteration"),Ri(Op,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(W2,"onTransitionRun"),Ri(J2,"onTransitionStart"),Ri($2,"onTransitionCancel"),Ri(Pp,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function n_(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],f=u.event;u=u.listeners;t:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var V=u[T],k=V.instance,tt=V.currentTarget;if(V=V.listener,k!==m&&f.isPropagationStopped())break t;m=V,f.currentTarget=tt;try{m(f)}catch(ct){gc(ct)}f.currentTarget=null,m=k}else for(T=0;T<u.length;T++){if(V=u[T],k=V.instance,tt=V.currentTarget,V=V.listener,k!==m&&f.isPropagationStopped())break t;m=V,f.currentTarget=tt;try{m(f)}catch(ct){gc(ct)}f.currentTarget=null,m=k}}}}function Bt(e,i){var o=i[Ms];o===void 0&&(o=i[Ms]=new Set);var u=e+"__bubble";o.has(u)||(i_(i,e,2,!1),o.add(u))}function hm(e,i,o){var u=0;i&&(u|=4),i_(o,e,u,i)}var eh="_reactListening"+Math.random().toString(36).slice(2);function fm(e){if(!e[eh]){e[eh]=!0,il.forEach(function(o){o!=="selectionchange"&&(Ub.has(o)||hm(o,!1,e),hm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[eh]||(i[eh]=!0,hm("selectionchange",!1,i))}}function i_(e,i,o,u){switch(M_(i)){case 2:var f=cA;break;case 8:f=hA;break;default:f=Rm}o=f.bind(null,i,o,e),f=void 0,!Pa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(i,o,{capture:!0,passive:f}):e.addEventListener(i,o,!0):f!==void 0?e.addEventListener(i,o,{passive:f}):e.addEventListener(i,o,!1)}function dm(e,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var V=u.stateNode.containerInfo;if(V===f)break;if(T===4)for(T=u.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;V!==null;){if(T=zi(V),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){u=m=T;continue t}V=V.parentNode}}u=u.return}kr(function(){var tt=m,ct=ri(o),ft=[];t:{var it=Up.get(e);if(it!==void 0){var lt=Hi,vt=e;switch(e){case"keypress":if(za(o)===0)break t;case"keydown":case"keyup":lt=fc;break;case"focusin":vt="focus",lt=ka;break;case"focusout":vt="blur",lt=ka;break;case"beforeblur":case"afterblur":lt=ka;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=v;break;case Mp:case Np:case Op:lt=ac;break;case Pp:lt=P;break;case"scroll":case"scrollend":lt=gl;break;case"wheel":lt=st;break;case"copy":case"cut":case"paste":lt=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=fr;break;case"toggle":case"beforetoggle":lt=Nt}var Dt=(i&4)!==0,pe=!Dt&&(e==="scroll"||e==="scrollend"),G=Dt?it!==null?it+"Capture":null:it;Dt=[];for(var q=tt,$;q!==null;){var ht=q;if($=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||$===null||G===null||(ht=Ai(q,G),ht!=null&&Dt.push(Ql(q,ht,$))),pe)break;q=q.return}0<Dt.length&&(it=new lt(it,vt,null,o,ct),ft.push({event:it,listeners:Dt}))}}if((i&7)===0){t:{if(it=e==="mouseover"||e==="pointerover",lt=e==="mouseout"||e==="pointerout",it&&o!==fl&&(vt=o.relatedTarget||o.fromElement)&&(zi(vt)||vt[Pi]))break t;if((lt||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,lt?(vt=o.relatedTarget||o.toElement,lt=tt,vt=vt?zi(vt):null,vt!==null&&(pe=l(vt),Dt=vt.tag,vt!==pe||Dt!==5&&Dt!==27&&Dt!==6)&&(vt=null)):(lt=null,vt=tt),lt!==vt)){if(Dt=pl,ht="onMouseLeave",G="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Dt=fr,ht="onPointerLeave",G="onPointerEnter",q="pointer"),pe=lt==null?it:Hn(lt),$=vt==null?it:Hn(vt),it=new Dt(ht,q+"leave",lt,o,ct),it.target=pe,it.relatedTarget=$,ht=null,zi(ct)===tt&&(Dt=new Dt(G,q+"enter",vt,o,ct),Dt.target=$,Dt.relatedTarget=pe,ht=Dt),pe=ht,lt&&vt)e:{for(Dt=zb,G=lt,q=vt,$=0,ht=G;ht;ht=Dt(ht))$++;ht=0;for(var It=q;It;It=Dt(It))ht++;for(;0<$-ht;)G=Dt(G),$--;for(;0<ht-$;)q=Dt(q),ht--;for(;$--;){if(G===q||q!==null&&G===q.alternate){Dt=G;break e}G=Dt(G),q=Dt(q)}Dt=null}else Dt=null;lt!==null&&r_(ft,it,lt,Dt,!1),vt!==null&&pe!==null&&r_(ft,pe,vt,Dt,!0)}}t:{if(it=tt?Hn(tt):window,lt=it.nodeName&&it.nodeName.toLowerCase(),lt==="select"||lt==="input"&&it.type==="file")var Xt=Tp;else if(vp(it))if(bp)Xt=K2;else{Xt=Q2;var Tt=G2}else lt=it.nodeName,!lt||lt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?tt&&Us(tt.elementType)&&(Xt=Tp):Xt=Y2;if(Xt&&(Xt=Xt(e,tt))){Ep(ft,Xt,o,ct);break t}Tt&&Tt(e,it,tt),e==="focusout"&&tt&&it.type==="number"&&tt.memoizedProps.value!=null&&ul(it,"number",it.value)}switch(Tt=tt?Hn(tt):window,e){case"focusin":(vp(Tt)||Tt.contentEditable==="true")&&(Hs=Tt,Ff=tt,Tl=null);break;case"focusout":Tl=Ff=Hs=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,xp(ft,o,ct);break;case"selectionchange":if(Z2)break;case"keydown":case"keyup":xp(ft,o,ct)}var Ut;if(Jt)t:{switch(e){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else qs?Ba(e,o)&&(Ft="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ft="onCompositionStart");Ft&&(Yi&&o.locale!=="ko"&&(qs||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&qs&&(Ut=ml()):(qi=ct,dl="value"in qi?qi.value:qi.textContent,qs=!0)),Tt=nh(tt,Ft),0<Tt.length&&(Ft=new Qi(Ft,e,null,o,ct),ft.push({event:Ft,listeners:Tt}),Ut?Ft.data=Ut:(Ut=Fs(o),Ut!==null&&(Ft.data=Ut)))),(Ut=si?j2(e,o):F2(e,o))&&(Ft=nh(tt,"onBeforeInput"),0<Ft.length&&(Tt=new Qi("onBeforeInput","beforeinput",null,o,ct),ft.push({event:Tt,listeners:Ft}),Tt.data=Ut)),Nb(ft,e,tt,o,ct)}n_(ft,i)})}function Ql(e,i,o){return{instance:e,listener:i,currentTarget:o}}function nh(e,i){for(var o=i+"Capture",u=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ai(e,o),f!=null&&u.unshift(Ql(e,f,m)),f=Ai(e,i),f!=null&&u.push(Ql(e,f,m))),e.tag===3)return u;e=e.return}return[]}function zb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,i,o,u,f){for(var m=i._reactName,T=[];o!==null&&o!==u;){var V=o,k=V.alternate,tt=V.stateNode;if(V=V.tag,k!==null&&k===u)break;V!==5&&V!==26&&V!==27||tt===null||(k=tt,f?(tt=Ai(o,m),tt!=null&&T.unshift(Ql(o,tt,k))):f||(tt=Ai(o,m),tt!=null&&T.push(Ql(o,tt,k)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var Lb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(Lb,`
`).replace(kb,"")}function s_(e,i){return i=a_(i),a_(e)===i}function ge(e,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Un(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Un(e,""+u);break;case"className":Gn(e,"class",u);break;case"tabIndex":Gn(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,o,u);break;case"style":hl(e,u,m);break;case"data":if(i!=="object"){Gn(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=zs(""+u),e.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&ge(e,i,"name",f.name,f,null),ge(e,i,"formEncType",f.formEncType,f,null),ge(e,i,"formMethod",f.formMethod,f,null),ge(e,i,"formTarget",f.formTarget,f,null)):(ge(e,i,"encType",f.encType,f,null),ge(e,i,"method",f.method,f,null),ge(e,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=zs(""+u),e.setAttribute(o,u);break;case"onClick":u!=null&&(e.onclick=bi);break;case"onScroll":u!=null&&Bt("scroll",e);break;case"onScrollEnd":u!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}o=zs(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""+u):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":u===!0?e.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,u):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(o,u):e.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(o):e.setAttribute(o,u);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),Os(e,"popover",u);break;case"xlinkActuate":He(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Os(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nc.get(o)||o,Os(e,o,u))}}function mm(e,i,o,u,f,m){switch(o){case"style":hl(e,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof u=="string"?Un(e,u):(typeof u=="number"||typeof u=="bigint")&&Un(e,""+u);break;case"onScroll":u!=null&&Bt("scroll",e);break;case"onScrollEnd":u!=null&&Bt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=e[rn]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,u,f);break t}o in e?e[o]=u:u===!0?e.setAttribute(o,""):Os(e,o,u)}}}function yn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ge(e,i,m,T,o,null)}}f&&ge(e,i,"srcSet",o.srcSet,o,null),u&&ge(e,i,"src",o.src,o,null);return;case"input":Bt("invalid",e);var V=m=T=f=null,k=null,tt=null;for(u in o)if(o.hasOwnProperty(u)){var ct=o[u];if(ct!=null)switch(u){case"name":f=ct;break;case"type":T=ct;break;case"checked":k=ct;break;case"defaultChecked":tt=ct;break;case"value":m=ct;break;case"defaultValue":V=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,i));break;default:ge(e,i,u,ct,o,null)}}$u(e,m,V,k,tt,T,f,!1);return;case"select":Bt("invalid",e),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(V=o[f],V!=null))switch(f){case"value":m=V;break;case"defaultValue":T=V;break;case"multiple":u=V;default:ge(e,i,f,V,o,null)}i=m,o=T,e.multiple=!!u,i!=null?Pr(e,!!u,i,!1):o!=null&&Pr(e,!!u,o,!0);return;case"textarea":Bt("invalid",e),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(V=o[T],V!=null))switch(T){case"value":u=V;break;case"defaultValue":f=V;break;case"children":m=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:ge(e,i,T,V,o,null)}Ur(e,u,f,m);return;case"option":for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null)&&(k==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":ge(e,i,k,u,o,null));return;case"dialog":Bt("beforetoggle",e),Bt("toggle",e),Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(u=0;u<Gl.length;u++)Bt(Gl[u],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in o)if(o.hasOwnProperty(tt)&&(u=o[tt],u!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ge(e,i,tt,u,o,null)}return;default:if(Us(i)){for(ct in o)o.hasOwnProperty(ct)&&(u=o[ct],u!==void 0&&mm(e,i,ct,u,o,void 0));return}}for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null&&ge(e,i,V,u,o,null))}function Bb(e,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,V=null,k=null,tt=null,ct=null;for(lt in o){var ft=o[lt];if(o.hasOwnProperty(lt)&&ft!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":k=ft;default:u.hasOwnProperty(lt)||ge(e,i,lt,null,u,ft)}}for(var it in u){var lt=u[it];if(ft=o[it],u.hasOwnProperty(it)&&(lt!=null||ft!=null))switch(it){case"type":m=lt;break;case"name":f=lt;break;case"checked":tt=lt;break;case"defaultChecked":ct=lt;break;case"value":T=lt;break;case"defaultValue":V=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,i));break;default:lt!==ft&&ge(e,i,it,lt,u,ft)}}Ps(e,T,V,k,tt,ct,m,f);return;case"select":lt=T=V=it=null;for(m in o)if(k=o[m],o.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":lt=k;default:u.hasOwnProperty(m)||ge(e,i,m,null,u,k)}for(f in u)if(m=u[f],k=o[f],u.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":it=m;break;case"defaultValue":V=m;break;case"multiple":T=m;default:m!==k&&ge(e,i,f,m,u,k)}i=V,o=T,u=lt,it!=null?Pr(e,!!o,it,!1):!!u!=!!o&&(i!=null?Pr(e,!!o,i,!0):Pr(e,!!o,o?[]:"",!1));return;case"textarea":lt=it=null;for(V in o)if(f=o[V],o.hasOwnProperty(V)&&f!=null&&!u.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:ge(e,i,V,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":it=f;break;case"defaultValue":lt=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ge(e,i,T,f,u,m)}tc(e,it,lt);return;case"option":for(var vt in o)it=o[vt],o.hasOwnProperty(vt)&&it!=null&&!u.hasOwnProperty(vt)&&(vt==="selected"?e.selected=!1:ge(e,i,vt,null,u,it));for(k in u)it=u[k],lt=o[k],u.hasOwnProperty(k)&&it!==lt&&(it!=null||lt!=null)&&(k==="selected"?e.selected=it&&typeof it!="function"&&typeof it!="symbol":ge(e,i,k,it,u,lt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in o)it=o[Dt],o.hasOwnProperty(Dt)&&it!=null&&!u.hasOwnProperty(Dt)&&ge(e,i,Dt,null,u,it);for(tt in u)if(it=u[tt],lt=o[tt],u.hasOwnProperty(tt)&&it!==lt&&(it!=null||lt!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,i));break;default:ge(e,i,tt,it,u,lt)}return;default:if(Us(i)){for(var pe in o)it=o[pe],o.hasOwnProperty(pe)&&it!==void 0&&!u.hasOwnProperty(pe)&&mm(e,i,pe,void 0,u,it);for(ct in u)it=u[ct],lt=o[ct],!u.hasOwnProperty(ct)||it===lt||it===void 0&&lt===void 0||mm(e,i,ct,it,u,lt);return}}for(var G in o)it=o[G],o.hasOwnProperty(G)&&it!=null&&!u.hasOwnProperty(G)&&ge(e,i,G,null,u,it);for(ft in u)it=u[ft],lt=o[ft],!u.hasOwnProperty(ft)||it===lt||it==null&&lt==null||ge(e,i,ft,it,u,lt)}function o_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,T=f.initiatorType,V=f.duration;if(m&&V&&o_(T)){for(T=0,V=f.responseEnd,u+=1;u<o.length;u++){var k=o[u],tt=k.startTime;if(tt>V)break;var ct=k.transferSize,ft=k.initiatorType;ct&&o_(ft)&&(k=k.responseEnd,T+=ct*(k<V?1:(V-tt)/(k-tt)))}if(--u,i+=8*(m+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gm=null,pm=null;function ih(e){return e.nodeType===9?e:e.ownerDocument}function l_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ym(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _m=null;function Fb(){var e=window.event;return e&&e.type==="popstate"?e===_m?!1:(_m=e,!0):(_m=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,Hb=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(e){return h_.resolve(null).then(e).catch(Gb)}:c_;function Gb(e){setTimeout(function(){throw e})}function aa(e){return e==="head"}function f_(e,i){var o=i,u=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){e.removeChild(f),_o(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Yl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Yl(o);for(var m=o.firstChild;m;){var T=m.nextSibling,V=m.nodeName;m[Ui]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&Yl(e.ownerDocument.body);o=f}while(o);_o(i)}function d_(e,i){var o=e;e=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=u}while(o)}function vm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vm(o),Ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Qb(e,i,o,u){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ui])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=di(e.nextSibling),e===null)break}return null}function Yb(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=di(e.nextSibling),e===null))return null;return e}function m_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=di(e.nextSibling),e===null))return null;return e}function Em(e){return e.data==="$?"||e.data==="$~"}function Tm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kb(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function di(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var bm=null;function g_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return di(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function p_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function y_(e,i,o){switch(i=ih(o),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ns(e)}var mi=new Map,__=new Set;function rh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rr=x.d;x.d={f:Xb,r:Zb,D:Wb,C:Jb,L:$b,m:tA,X:nA,S:eA,M:iA};function Xb(){var e=Rr.f(),i=Xc();return e||i}function Zb(e){var i=ii(e);i!==null&&i.tag===5&&i.type==="form"?Py(i):Rr.r(e)}var go=typeof document>"u"?null:document;function v_(e,i,o){var u=go;if(u&&typeof i=="string"&&i){var f=Pn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),__.has(f)||(__.add(f),e={rel:e,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),yn(i,"link",e),qe(i),u.head.appendChild(i)))}}function Wb(e){Rr.D(e),v_("dns-prefetch",e,null)}function Jb(e,i){Rr.C(e,i),v_("preconnect",e,i)}function $b(e,i,o){Rr.L(e,i,o);var u=go;if(u&&e&&i){var f='link[rel="preload"][as="'+Pn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Pn(o.imageSizes)+'"]')):f+='[href="'+Pn(e)+'"]';var m=f;switch(i){case"style":m=po(e);break;case"script":m=yo(e)}mi.has(m)||(e=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),mi.set(m,e),u.querySelector(f)!==null||i==="style"&&u.querySelector(Kl(m))||i==="script"&&u.querySelector(Xl(m))||(i=u.createElement("link"),yn(i,"link",e),qe(i),u.head.appendChild(i)))}}function tA(e,i){Rr.m(e,i);var o=go;if(o&&e){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Pn(u)+'"][href="'+Pn(e)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=yo(e)}if(!mi.has(m)&&(e=_({rel:"modulepreload",href:e},i),mi.set(m,e),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xl(m)))return}u=o.createElement("link"),yn(u,"link",e),qe(u),o.head.appendChild(u)}}}function eA(e,i,o){Rr.S(e,i,o);var u=go;if(u&&e){var f=Li(u).hoistableStyles,m=po(e);i=i||"default";var T=f.get(m);if(!T){var V={loading:0,preload:null};if(T=u.querySelector(Kl(m)))V.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":i},o),(o=mi.get(m))&&Am(e,o);var k=T=u.createElement("link");qe(k),yn(k,"link",e),k._p=new Promise(function(tt,ct){k.onload=tt,k.onerror=ct}),k.addEventListener("load",function(){V.loading|=1}),k.addEventListener("error",function(){V.loading|=2}),V.loading|=4,ah(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:V},f.set(m,T)}}}function nA(e,i){Rr.X(e,i);var o=go;if(o&&e){var u=Li(o).hoistableScripts,f=yo(e),m=u.get(f);m||(m=o.querySelector(Xl(f)),m||(e=_({src:e,async:!0},i),(i=mi.get(f))&&Sm(e,i),m=o.createElement("script"),qe(m),yn(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function iA(e,i){Rr.M(e,i);var o=go;if(o&&e){var u=Li(o).hoistableScripts,f=yo(e),m=u.get(f);m||(m=o.querySelector(Xl(f)),m||(e=_({src:e,async:!0,type:"module"},i),(i=mi.get(f))&&Sm(e,i),m=o.createElement("script"),qe(m),yn(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function E_(e,i,o,u){var f=(f=gt.current)?rh(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=po(o.href),o=Li(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=po(o.href);var m=Li(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Kl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),mi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mi.set(e,o),m||rA(f,e,o,T.state))),i&&u===null)throw Error(r(528,""));return T}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(o),o=Li(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function po(e){return'href="'+Pn(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function rA(e,i,o,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),yn(i,"link",o),qe(i),e.head.appendChild(i))}function yo(e){return'[src="'+Pn(e)+'"]'}function Xl(e){return"script[async]"+e}function b_(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(u)return i.instance=u,qe(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),qe(u),yn(u,"style",f),ah(u,o.precedence,e),i.instance=u;case"stylesheet":f=po(o.href);var m=e.querySelector(Kl(f));if(m)return i.state.loading|=4,i.instance=m,qe(m),m;u=T_(o),(f=mi.get(f))&&Am(u,f),m=(e.ownerDocument||e).createElement("link"),qe(m);var T=m;return T._p=new Promise(function(V,k){T.onload=V,T.onerror=k}),yn(m,"link",u),i.state.loading|=4,ah(m,o.precedence,e),i.instance=m;case"script":return m=yo(o.src),(f=e.querySelector(Xl(m)))?(i.instance=f,qe(f),f):(u=o,(f=mi.get(m))&&(u=_({},o),Sm(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),qe(f),yn(f,"link",u),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,ah(u,o.precedence,e));return i.instance}function ah(e,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var V=u[T];if(V.dataset.precedence===i)m=V;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Am(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Sm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var sh=null;function A_(e,i,o){if(sh===null){var u=new Map,f=sh=new Map;f.set(o,u)}else f=sh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(e))return u;for(u.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var m=o[f];if(!(m[Ui]||m[Fe]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=e+T;var V=u.get(T);V?V.push(m):u.set(T,[m])}}return u}function S_(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function aA(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function w_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sA(e,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=po(u.href),m=i.querySelector(Kl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=oh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=m,qe(m);return}m=i.ownerDocument||i,u=T_(u),(f=mi.get(f))&&Am(u,f),m=m.createElement("link"),qe(m);var T=m;T._p=new Promise(function(V,k){T.onload=V,T.onerror=k}),yn(m,"link",u),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=oh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var wm=0;function oA(e,i){return e.stylesheets&&e.count===0&&uh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var u=setTimeout(function(){if(e.stylesheets&&uh(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+i);0<e.imgBytes&&wm===0&&(wm=62500*jb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uh(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>wm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lh=null;function uh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lh=new Map,i.forEach(lA,e),lh=null,oh.call(e))}function lA(e,i){if(!(i.state.loading&4)){var o=lh.get(e);if(o)var u=o.get(null);else{o=new Map,lh.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=oh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Zl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function uA(e,i,o,u,f,m,T,V,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function I_(e,i,o,u,f,m,T,V,k,tt,ct,ft){return e=new uA(e,i,o,T,k,tt,ct,ft,V),i=1,m===!0&&(i|=24),m=Yn(3,null,null,i),e.current=m,m.stateNode=e,i=rd(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},ld(m),e}function R_(e){return e?(e=Ys,e):Ys}function D_(e,i,o,u,f,m){f=R_(f),u.context===null?u.context=f:u.pendingContext=f,u=Kr(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Xr(e,u,i),o!==null&&(jn(o,e,i),Dl(o,e,i))}function C_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Im(e,i){C_(e,i),(e=e.alternate)&&C_(e,i)}function x_(e){if(e.tag===13||e.tag===31){var i=qa(e,67108864);i!==null&&jn(i,e,67108864),Im(e,67108864)}}function V_(e){if(e.tag===13||e.tag===31){var i=Jn();i=Va(i);var o=qa(e,i);o!==null&&jn(o,e,i),Im(e,i)}}var ch=!0;function cA(e,i,o,u){var f=R.T;R.T=null;var m=x.p;try{x.p=2,Rm(e,i,o,u)}finally{x.p=m,R.T=f}}function hA(e,i,o,u){var f=R.T;R.T=null;var m=x.p;try{x.p=8,Rm(e,i,o,u)}finally{x.p=m,R.T=f}}function Rm(e,i,o,u){if(ch){var f=Dm(u);if(f===null)dm(e,i,u,hh,o),N_(e,u);else if(dA(f,e,i,o,u))u.stopPropagation();else if(N_(e,u),i&4&&-1<fA.indexOf(e)){for(;f!==null;){var m=ii(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Je(m.pendingLanes);if(T!==0){var V=m;for(V.pendingLanes|=2,V.entangledLanes|=2;T;){var k=1<<31-be(T);V.entanglements[1]|=k,T&=~k}Wi(m),($t&6)===0&&(Yc=Pt()+500,Hl(0))}}break;case 31:case 13:V=qa(m,2),V!==null&&jn(V,m,2),Xc(),Im(m,2)}if(m=Dm(u),m===null&&dm(e,i,u,hh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else dm(e,i,u,null,o)}}function Dm(e){return e=ri(e),Cm(e)}var hh=null;function Cm(e){if(hh=null,e=zi(e),e!==null){var i=l(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=c(i),e!==null)return e;e=null}else if(o===31){if(e=d(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return hh=e,null}function M_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case On:return 2;case Ni:return 8;case Te:case vi:return 32;case Be:return 268435456;default:return 32}default:return 32}}var xm=!1,sa=null,oa=null,la=null,Wl=new Map,Jl=new Map,ua=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(e,i){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(i.pointerId)}}function $l(e,i,o,u,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ii(i),i!==null&&x_(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function dA(e,i,o,u,f){switch(i){case"focusin":return sa=$l(sa,e,i,o,u,f),!0;case"dragenter":return oa=$l(oa,e,i,o,u,f),!0;case"mouseover":return la=$l(la,e,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return Wl.set(m,$l(Wl.get(m)||null,e,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Jl.set(m,$l(Jl.get(m)||null,e,i,o,u,f)),!0}return!1}function O_(e){var i=zi(e.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){e.blockedOn=i,Ei(e.priority,function(){V_(o)});return}}else if(i===31){if(i=d(o),i!==null){e.blockedOn=i,Ei(e.priority,function(){V_(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Dm(e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);fl=u,o.target.dispatchEvent(u),fl=null}else return i=ii(o),i!==null&&x_(i),e.blockedOn=o,!1;i.shift()}return!0}function P_(e,i,o){fh(e)&&o.delete(i)}function mA(){xm=!1,sa!==null&&fh(sa)&&(sa=null),oa!==null&&fh(oa)&&(oa=null),la!==null&&fh(la)&&(la=null),Wl.forEach(P_),Jl.forEach(P_)}function dh(e,i){e.blockedOn===i&&(e.blockedOn=null,xm||(xm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mA)))}var mh=null;function U_(e){mh!==e&&(mh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){mh===e&&(mh=null);for(var i=0;i<e.length;i+=3){var o=e[i],u=e[i+1],f=e[i+2];if(typeof u!="function"){if(Cm(u||o)===null)continue;break}var m=ii(o);m!==null&&(e.splice(i,3),i-=3,Dd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function _o(e){function i(k){return dh(k,e)}sa!==null&&dh(sa,e),oa!==null&&dh(oa,e),la!==null&&dh(la,e),Wl.forEach(i),Jl.forEach(i);for(var o=0;o<ua.length;o++){var u=ua[o];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ua.length&&(o=ua[0],o.blockedOn===null);)O_(o),o.blockedOn===null&&ua.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[rn]||null;if(typeof m=="function")T||U_(o);else if(T){var V=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[rn]||null)V=T.formAction;else if(Cm(f)!==null)continue}else V=T.action;typeof V=="function"?o[u+1]=V:(o.splice(u,3),u-=3),U_(o)}}}function z_(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Vm(e){this._internalRoot=e}gh.prototype.render=Vm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=Jn();D_(o,u,e,i,null,null)},gh.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;D_(e.current,2,null,e,null,null),Xc(),i[Pi]=null}};function gh(e){this._internalRoot=e}gh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Xu();e={blockedOn:null,target:e,priority:i};for(var o=0;o<ua.length&&i!==0&&i<ua[o].priority;o++);ua.splice(o,0,e),o===0&&O_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(r(527,L_,"19.2.3"));x.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var gA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Ue=ph.inject(gA),fe=ph}catch{}}return eu.createRoot=function(e,i){if(!s(e))throw Error(r(299));var o=!1,u="",f=Gy,m=Qy,T=Yy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=I_(e,1,!1,null,null,o,u,null,f,m,T,z_),e[Pi]=i.current,fm(e),new Vm(i)},eu.hydrateRoot=function(e,i,o){if(!s(e))throw Error(r(299));var u=!1,f="",m=Gy,T=Qy,V=Yy,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),i=I_(e,1,!0,i,o??null,u,f,k,m,T,V,z_),i.context=R_(null),o=i.current,u=Jn(),u=Va(u),f=Kr(u),f.callback=null,Xr(o,f,u),o=u,i.current.lanes=o,Ca(i,o),Wi(i),e[Pi]=i.current,fm(e),new gh(i)},eu.version="19.2.3",eu}var K_;function IA(){if(K_)return Om.exports;K_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Om.exports=wA(),Om.exports}var RA=IA();const X_=a=>{let t;const n=new Set,r=(p,y)=>{const _=typeof p=="function"?p(t):p;if(!Object.is(_,t)){const E=t;t=y??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(w=>w(t,E))}},s=()=>t,d={setState:r,getState:s,getInitialState:()=>g,subscribe:p=>(n.add(p),()=>n.delete(p))},g=t=a(r,s,d);return d},DA=(a=>a?X_(a):X_),CA=a=>a;function xA(a,t=CA){const n=yh.useSyncExternalStore(a.subscribe,yh.useCallback(()=>t(a.getState()),[a,t]),yh.useCallback(()=>t(a.getInitialState()),[a,t]));return yh.useDebugValue(n),n}const Z_=a=>{const t=DA(a),n=r=>xA(t,r);return Object.assign(n,t),n},VA=(a=>a?Z_(a):Z_),MA=()=>{};var W_={};const Lv=function(a){const t=[];let n=0;for(let r=0;r<a.length;r++){let s=a.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},NA=function(a){const t=[];let n=0,r=0;for(;n<a.length;){const s=a[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=a[n++];t[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=a[n++],c=a[n++],d=a[n++],g=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const l=a[n++],c=a[n++];t[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return t.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<a.length;s+=3){const l=a[s],c=s+1<a.length,d=c?a[s+1]:0,g=s+2<a.length,p=g?a[s+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;g||(w=64,c||(E=64)),r.push(n[y],n[_],n[E],n[w])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Lv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):NA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<a.length;){const l=n[a.charAt(s++)],d=s<a.length?n[a.charAt(s)]:0;++s;const p=s<a.length?n[a.charAt(s)]:64;++s;const _=s<a.length?n[a.charAt(s)]:64;if(++s,l==null||d==null||p==null||_==null)throw new OA;const E=l<<2|d>>4;if(r.push(E),p!==64){const w=d<<4&240|p>>2;if(r.push(w),_!==64){const O=p<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(a){const t=Lv(a);return kv.encodeByteArray(t,!0)},kh=function(a){return PA(a).replace(/\./g,"")},UA=function(a){try{return kv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Bv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zA=()=>Bv().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof W_>"u")return;const a=W_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},kA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&UA(a[1]);return t&&JSON.parse(t)},Dg=()=>{try{return MA()||zA()||LA()||kA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},BA=a=>Dg()?.emulatorHosts?.[a],jA=a=>{const t=BA(a);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},jv=()=>Dg()?.config;class FA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Cg(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qA(a){return(await fetch(a,{credentials:"include"})).ok}function HA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=a.iat||0,l=a.sub||a.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...a};return[kh(JSON.stringify(n)),kh(JSON.stringify(c)),""].join(".")}const mu={};function GA(){const a={prod:[],emulator:[]};for(const t of Object.keys(mu))mu[t]?a.emulator.push(t):a.prod.push(t);return a}function QA(a){let t=document.getElementById(a),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),n=!0),{created:n,element:t}}let J_=!1;function YA(a,t){if(typeof window>"u"||typeof document>"u"||!Cg(window.location.host)||mu[a]===t||mu[a]||J_)return;mu[a]=t;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=GA().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{J_=!0,c()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=QA(r),w=n("text"),O=document.getElementById(w)||document.createElement("span"),z=n("learnmore"),j=document.getElementById(z)||document.createElement("a"),B=n("preprendIcon"),rt=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;d(Q),y(j,z);const K=p();g(rt,B),Q.append(rt,O,j,K),document.body.appendChild(Q)}l?(O.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Bh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fv(){const a=Dg()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qv(){return!Fv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hv(){return!Fv()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Gv(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((a,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const XA="FirebaseError";class Zo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=XA,Object.setPrototypeOf(this,Zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qv.prototype.create)}}class Qv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,l=this.errors[t],c=l?ZA(l,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Zo(s,d,r)}}function ZA(a,t){return a.replace(WA,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const WA=/\{\$([^}]+)}/g;function jh(a,t){if(a===t)return!0;const n=Object.keys(a),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const l=a[s],c=t[s];if($_(l)&&$_(c)){if(!jh(l,c))return!1}else if(l!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $_(a){return a!==null&&typeof a=="object"}function Au(a){return a&&a._delegate?a._delegate:a}class Su{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const is="[DEFAULT]";class JA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new FA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tS(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const l=this.instances.get(r);return l&&t(l,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$A(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(a){return a===is?void 0:a}function tS(a){return a.instantiationMode==="EAGER"}class eS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new JA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Yt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Yt||(Yt={}));const nS={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},iS=Yt.INFO,rS={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},aS=(a,t,...n)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),s=rS[t];if(s)console[s](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yv{constructor(t){this.name=t,this._logLevel=iS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}}const sS=(a,t)=>t.some(n=>a instanceof n);let t1,e1;function oS(){return t1||(t1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,Wm=new WeakMap,Xv=new WeakMap,Lm=new WeakMap,xg=new WeakMap;function uS(a){const t=new Promise((n,r)=>{const s=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{n(ya(a.result)),s()},c=()=>{r(a.error),s()};a.addEventListener("success",l),a.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Kv.set(n,a)}).catch(()=>{}),xg.set(t,a),t}function cS(a){if(Wm.has(a))return;const t=new Promise((n,r)=>{const s=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{r(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});Wm.set(a,t)}let Jm={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return Wm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Xv.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function hS(a){Jm=a(Jm)}function fS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=a.call(km(this),t,...n);return Xv.set(r,t.sort?t.sort():[t]),ya(r)}:lS().includes(a)?function(...t){return a.apply(km(this),t),ya(Kv.get(this))}:function(...t){return ya(a.apply(km(this),t))}}function dS(a){return typeof a=="function"?fS(a):(a instanceof IDBTransaction&&cS(a),sS(a,oS())?new Proxy(a,Jm):a)}function ya(a){if(a instanceof IDBRequest)return uS(a);if(Lm.has(a))return Lm.get(a);const t=dS(a);return t!==a&&(Lm.set(a,t),xg.set(t,a)),t}const km=a=>xg.get(a);function mS(a,t,{blocked:n,upgrade:r,blocking:s,terminated:l}={}){const c=indexedDB.open(a,t),d=ya(c);return r&&c.addEventListener("upgradeneeded",g=>{r(ya(c.result),g.oldVersion,g.newVersion,ya(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),s&&g.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],Bm=new Map;function n1(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Bm.get(t))return Bm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=pS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gS.includes(n)))return;const l=async function(c,...d){const g=this.transaction(c,s?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&g.done]))[0]};return Bm.set(t,l),l}hS(a=>({...a,get:(t,n,r)=>n1(t,n)||a.get(t,n,r),has:(t,n)=>!!n1(t,n)||a.has(t,n)}));class yS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_S(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _S(a){return a.getComponent()?.type==="VERSION"}const $m="@firebase/app",i1="0.14.7";const Cr=new Yv("@firebase/app"),vS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",bS="@firebase/app-check-compat",AS="@firebase/app-check",SS="@firebase/auth",wS="@firebase/auth-compat",IS="@firebase/database",RS="@firebase/data-connect",DS="@firebase/database-compat",CS="@firebase/functions",xS="@firebase/functions-compat",VS="@firebase/installations",MS="@firebase/installations-compat",NS="@firebase/messaging",OS="@firebase/messaging-compat",PS="@firebase/performance",US="@firebase/performance-compat",zS="@firebase/remote-config",LS="@firebase/remote-config-compat",kS="@firebase/storage",BS="@firebase/storage-compat",jS="@firebase/firestore",FS="@firebase/ai",qS="@firebase/firestore-compat",HS="firebase",GS="12.8.0";const tg="[DEFAULT]",QS={[$m]:"fire-core",[vS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[AS]:"fire-app-check",[bS]:"fire-app-check-compat",[SS]:"fire-auth",[wS]:"fire-auth-compat",[IS]:"fire-rtdb",[RS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[CS]:"fire-fn",[xS]:"fire-fn-compat",[VS]:"fire-iid",[MS]:"fire-iid-compat",[NS]:"fire-fcm",[OS]:"fire-fcm-compat",[PS]:"fire-perf",[US]:"fire-perf-compat",[zS]:"fire-rc",[LS]:"fire-rc-compat",[kS]:"fire-gcs",[BS]:"fire-gcs-compat",[jS]:"fire-fst",[qS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};const Fh=new Map,YS=new Map,eg=new Map;function r1(a,t){try{a.container.addComponent(t)}catch(n){Cr.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function qh(a){const t=a.name;if(eg.has(t))return Cr.debug(`There were multiple attempts to register component ${t}.`),!1;eg.set(t,a);for(const n of Fh.values())r1(n,a);for(const n of YS.values())r1(n,a);return!0}function KS(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function XS(a){return a==null?!1:a.settings!==void 0}const ZS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new Qv("app","Firebase",ZS);class WS{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}const JS=GS;function Zv(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const r={name:tg,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw _a.create("bad-app-name",{appName:String(s)});if(n||(n=jv()),!n)throw _a.create("no-options");const l=Fh.get(s);if(l){if(jh(n,l.options)&&jh(r,l.config))return l;throw _a.create("duplicate-app",{appName:s})}const c=new eS(s);for(const g of eg.values())c.addComponent(g);const d=new WS(n,r,c);return Fh.set(s,d),d}function $S(a=tg){const t=Fh.get(a);if(!t&&a===tg&&jv())return Zv();if(!t)throw _a.create("no-app",{appName:a});return t}function Mo(a,t,n){let r=QS[a]??a;n&&(r+=`-${n}`);const s=r.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cr.warn(c.join(" "));return}qh(new Su(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const tw="firebase-heartbeat-database",ew=1,wu="firebase-heartbeat-store";let jm=null;function Wv(){return jm||(jm=mS(tw,ew,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(a=>{throw _a.create("idb-open",{originalErrorMessage:a.message})})),jm}async function nw(a){try{const n=(await Wv()).transaction(wu),r=await n.objectStore(wu).get(Jv(a));return await n.done,r}catch(t){if(t instanceof Zo)Cr.warn(t.message);else{const n=_a.create("idb-get",{originalErrorMessage:t?.message});Cr.warn(n.message)}}}async function a1(a,t){try{const r=(await Wv()).transaction(wu,"readwrite");await r.objectStore(wu).put(t,Jv(a)),await r.done}catch(n){if(n instanceof Zo)Cr.warn(n.message);else{const r=_a.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(r.message)}}}function Jv(a){return`${a.name}!${a.options.appId}`}const iw=1024,rw=30;class aw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ow(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=s1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rw){const s=lw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s1(),{heartbeatsToSend:n,unsentEntries:r}=sw(this._heartbeatsCache.heartbeats),s=kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Cr.warn(t),""}}}function s1(){return new Date().toISOString().substring(0,10)}function sw(a,t=iw){const n=[];let r=a.slice();for(const s of a){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),o1(n)>t){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o1(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ow{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gv()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return a1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return a1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function o1(a){return kh(JSON.stringify({version:2,heartbeats:a})).length}function lw(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,t=r);return t}function uw(a){qh(new Su("platform-logger",t=>new yS(t),"PRIVATE")),qh(new Su("heartbeat",t=>new aw(t),"PRIVATE")),Mo($m,i1,a),Mo($m,i1,"esm2020"),Mo("fire-js","")}uw("");var cw="firebase",hw="12.8.0";Mo(cw,hw,"app");var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var va,$v;(function(){var a;function t(M,b){function A(){}A.prototype=b.prototype,M.F=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.D=function(C,D,N){for(var I=Array(arguments.length-2),F=2;F<arguments.length;F++)I[F-2]=arguments[F];return b.prototype[D].apply(C,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,b,A){A||(A=0);const C=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)C[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;D<16;++D)C[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],D=M.g[2];let N=M.g[3],I;I=b+(N^A&(D^N))+C[0]+3614090360&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[1]+3905402710&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[2]+606105819&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[3]+3250441966&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+C[4]+4118548399&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[5]+1200080426&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[6]+2821735955&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[7]+4249261313&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+C[8]+1770035416&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[9]+2336552879&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[10]+4294925233&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[11]+2304563134&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(N^A&(D^N))+C[12]+1804603682&4294967295,b=A+(I<<7&4294967295|I>>>25),I=N+(D^b&(A^D))+C[13]+4254626195&4294967295,N=b+(I<<12&4294967295|I>>>20),I=D+(A^N&(b^A))+C[14]+2792965006&4294967295,D=N+(I<<17&4294967295|I>>>15),I=A+(b^D&(N^b))+C[15]+1236535329&4294967295,A=D+(I<<22&4294967295|I>>>10),I=b+(D^N&(A^D))+C[1]+4129170786&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[6]+3225465664&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[11]+643717713&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[0]+3921069994&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+C[5]+3593408605&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[10]+38016083&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[15]+3634488961&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[4]+3889429448&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+C[9]+568446438&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[14]+3275163606&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[3]+4107603335&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[8]+1163531501&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(D^N&(A^D))+C[13]+2850285829&4294967295,b=A+(I<<5&4294967295|I>>>27),I=N+(A^D&(b^A))+C[2]+4243563512&4294967295,N=b+(I<<9&4294967295|I>>>23),I=D+(b^A&(N^b))+C[7]+1735328473&4294967295,D=N+(I<<14&4294967295|I>>>18),I=A+(N^b&(D^N))+C[12]+2368359562&4294967295,A=D+(I<<20&4294967295|I>>>12),I=b+(A^D^N)+C[5]+4294588738&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[8]+2272392833&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[11]+1839030562&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[14]+4259657740&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+C[1]+2763975236&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[4]+1272893353&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[7]+4139469664&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[10]+3200236656&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+C[13]+681279174&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[0]+3936430074&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[3]+3572445317&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[6]+76029189&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(A^D^N)+C[9]+3654602809&4294967295,b=A+(I<<4&4294967295|I>>>28),I=N+(b^A^D)+C[12]+3873151461&4294967295,N=b+(I<<11&4294967295|I>>>21),I=D+(N^b^A)+C[15]+530742520&4294967295,D=N+(I<<16&4294967295|I>>>16),I=A+(D^N^b)+C[2]+3299628645&4294967295,A=D+(I<<23&4294967295|I>>>9),I=b+(D^(A|~N))+C[0]+4096336452&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[7]+1126891415&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[14]+2878612391&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[5]+4237533241&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+C[12]+1700485571&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[3]+2399980690&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[10]+4293915773&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[1]+2240044497&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+C[8]+1873313359&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[15]+4264355552&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[6]+2734768916&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[13]+1309151649&4294967295,A=D+(I<<21&4294967295|I>>>11),I=b+(D^(A|~N))+C[4]+4149444226&4294967295,b=A+(I<<6&4294967295|I>>>26),I=N+(A^(b|~D))+C[11]+3174756917&4294967295,N=b+(I<<10&4294967295|I>>>22),I=D+(b^(N|~A))+C[2]+718787259&4294967295,D=N+(I<<15&4294967295|I>>>17),I=A+(N^(D|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+N&4294967295}r.prototype.v=function(M,b){b===void 0&&(b=M.length);const A=b-this.blockSize,C=this.C;let D=this.h,N=0;for(;N<b;){if(D==0)for(;N<=A;)s(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<b;)if(C[D++]=M.charCodeAt(N++),D==this.blockSize){s(this,C),D=0;break}}else for(;N<b;)if(C[D++]=M[N++],D==this.blockSize){s(this,C),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;b=this.o*8;for(var A=M.length-8;A<M.length;++A)M[A]=b&255,b/=256;for(this.v(M),M=Array(16),b=0,A=0;A<4;++A)for(let C=0;C<32;C+=8)M[b++]=this.g[A]>>>C&255;return M};function l(M,b){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function c(M,b){this.h=b;const A=[];let C=!0;for(let D=M.length-1;D>=0;D--){const N=M[D]|0;C&&N==b||(A[D]=N,C=!1)}this.g=A}var d={};function g(M){return-128<=M&&M<128?l(M,function(b){return new c([b|0],b<0?-1:0)}):new c([M|0],M<0?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(M<0)return j(p(-M));const b=[];let A=1;for(let C=0;M>=A;C++)b[C]=M/A|0,A*=4294967296;return new c(b,0)}function y(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return j(y(M.substring(1),b));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(b,8));let C=_;for(let N=0;N<M.length;N+=8){var D=Math.min(8,M.length-N);const I=parseInt(M.substring(N,N+D),b);D<8?(D=p(Math.pow(b,D)),C=C.j(D).add(p(I))):(C=C.j(A),C=C.add(p(I)))}return C}var _=g(0),E=g(1),w=g(16777216);a=c.prototype,a.m=function(){if(z(this))return-j(this).m();let M=0,b=1;for(let A=0;A<this.g.length;A++){const C=this.i(A);M+=(C>=0?C:4294967296+C)*b,b*=4294967296}return M},a.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(O(this))return"0";if(z(this))return"-"+j(this).toString(M);const b=p(Math.pow(M,6));var A=this;let C="";for(;;){const D=K(A,b).g;A=B(A,D.j(b));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(M);if(A=D,O(A))return N+C;for(;N.length<6;)N="0"+N;C=N+C}},a.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function O(M){if(M.h!=0)return!1;for(let b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function z(M){return M.h==-1}a.l=function(M){return M=B(this,M),z(M)?-1:O(M)?0:1};function j(M){const b=M.g.length,A=[];for(let C=0;C<b;C++)A[C]=~M.g[C];return new c(A,~M.h).add(E)}a.abs=function(){return z(this)?j(this):this},a.add=function(M){const b=Math.max(this.g.length,M.g.length),A=[];let C=0;for(let D=0;D<=b;D++){let N=C+(this.i(D)&65535)+(M.i(D)&65535),I=(N>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);C=I>>>16,N&=65535,I&=65535,A[D]=I<<16|N}return new c(A,A[A.length-1]&-2147483648?-1:0)};function B(M,b){return M.add(j(b))}a.j=function(M){if(O(this)||O(M))return _;if(z(this))return z(M)?j(this).j(j(M)):j(j(this).j(M));if(z(M))return j(this.j(j(M)));if(this.l(w)<0&&M.l(w)<0)return p(this.m()*M.m());const b=this.g.length+M.g.length,A=[];for(var C=0;C<2*b;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(let D=0;D<M.g.length;D++){const N=this.i(C)>>>16,I=this.i(C)&65535,F=M.i(D)>>>16,J=M.i(D)&65535;A[2*C+2*D]+=I*J,rt(A,2*C+2*D),A[2*C+2*D+1]+=N*J,rt(A,2*C+2*D+1),A[2*C+2*D+1]+=I*F,rt(A,2*C+2*D+1),A[2*C+2*D+2]+=N*F,rt(A,2*C+2*D+2)}for(M=0;M<b;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=b;M<2*b;M++)A[M]=0;return new c(A,0)};function rt(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function Q(M,b){this.g=M,this.h=b}function K(M,b){if(O(b))throw Error("division by zero");if(O(M))return new Q(_,_);if(z(M))return b=K(j(M),b),new Q(j(b.g),j(b.h));if(z(b))return b=K(M,j(b)),new Q(j(b.g),b.h);if(M.g.length>30){if(z(M)||z(b))throw Error("slowDivide_ only works with positive integers.");for(var A=E,C=b;C.l(M)<=0;)A=ut(A),C=ut(C);var D=L(A,1),N=L(C,1);for(C=L(C,2),A=L(A,2);!O(C);){var I=N.add(C);I.l(M)<=0&&(D=D.add(A),N=I),C=L(C,1),A=L(A,1)}return b=B(M,D.j(b)),new Q(D,b)}for(D=_;M.l(b)>=0;){for(A=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),N=p(A),I=N.j(b);z(I)||I.l(M)>0;)A-=C,N=p(A),I=N.j(b);O(N)&&(N=E),D=D.add(N),M=B(M,I)}return new Q(D,M)}a.B=function(M){return K(this,M).h},a.and=function(M){const b=Math.max(this.g.length,M.g.length),A=[];for(let C=0;C<b;C++)A[C]=this.i(C)&M.i(C);return new c(A,this.h&M.h)},a.or=function(M){const b=Math.max(this.g.length,M.g.length),A=[];for(let C=0;C<b;C++)A[C]=this.i(C)|M.i(C);return new c(A,this.h|M.h)},a.xor=function(M){const b=Math.max(this.g.length,M.g.length),A=[];for(let C=0;C<b;C++)A[C]=this.i(C)^M.i(C);return new c(A,this.h^M.h)};function ut(M){const b=M.g.length+1,A=[];for(let C=0;C<b;C++)A[C]=M.i(C)<<1|M.i(C-1)>>>31;return new c(A,M.h)}function L(M,b){const A=b>>5;b%=32;const C=M.g.length-A,D=[];for(let N=0;N<C;N++)D[N]=b>0?M.i(N+A)>>>b|M.i(N+A+1)<<32-b:M.i(N+A);return new c(D,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$v=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,va=c}).apply(typeof l1<"u"?l1:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tE,uu,eE,Ih,ng,nE,iE,rE;(function(){var a,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var v=0;v<h.length;++v){var S=h[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)t:{var S=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var W=h[P];if(!(W in S))break t;S=S[W]}h=h[h.length-1],P=S[h],v=v(P),v!=P&&v!=null&&t(S,h,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(v){var S=[],P;for(P in v)Object.prototype.hasOwnProperty.call(v,P)&&S.push([P,v[P]]);return S}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,S){return h.call.apply(h.bind,arguments)}function p(h,v,S){return p=g,p.apply(null,arguments)}function y(h,v){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function _(h,v){function S(){}S.prototype=v.prototype,h.Z=v.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(P,W,st){for(var pt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)pt[Nt-2]=arguments[Nt];return v.prototype[W].apply(P,pt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const v=h.length;if(v>0){const S=Array(v);for(let P=0;P<v;P++)S[P]=h[P];return S}return[]}function O(h,v){for(let P=1;P<arguments.length;P++){const W=arguments[P];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=h.length||0;const st=W.length||0;h.length=S+st;for(let pt=0;pt<st;pt++)h[S+pt]=W[pt]}else h.push(W)}}class z{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){c.setTimeout(()=>{throw h},0)}function B(){var h=M;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class rt{constructor(){this.h=this.g=null}add(v,S){const P=Q.get();P.set(v,S),this.h?this.h.next=P:this.g=P,this.h=P}}var Q=new z(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,L=!1,M=new rt,b=()=>{const h=Promise.resolve(void 0);ut=()=>{h.then(A)}};function A(){for(var h;h=B();){try{h.h.call(h.g)}catch(S){j(S)}var v=Q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}L=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,v),c.removeEventListener("test",S,v)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function F(h,v){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(F,D),F.prototype.init=function(h,v){const S=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(S=="mouseover"?v=h.fromElement:S=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),R=0;function x(h,v,S,P,W){this.listener=h,this.proxy=null,this.src=v,this.type=S,this.capture=!!P,this.ha=W,this.key=++R,this.da=this.fa=!1}function nt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Y(h,v,S){for(const P in h)v.call(S,h[P],P,h)}function at(h,v){for(const S in h)v.call(void 0,h[S],S,h)}function U(h){const v={};for(const S in h)v[S]=h[S];return v}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(h,v){let S,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(S in P)h[S]=P[S];for(let st=0;st<H.length;st++)S=H[st],Object.prototype.hasOwnProperty.call(P,S)&&(h[S]=P[S])}}function et(h){this.src=h,this.g={},this.h=0}et.prototype.add=function(h,v,S,P,W){const st=h.toString();h=this.g[st],h||(h=this.g[st]=[],this.h++);const pt=gt(h,v,P,W);return pt>-1?(v=h[pt],S||(v.fa=!1)):(v=new x(v,this.src,st,!!P,W),v.fa=S,h.push(v)),v};function Z(h,v){const S=v.type;if(S in h.g){var P=h.g[S],W=Array.prototype.indexOf.call(P,v,void 0),st;(st=W>=0)&&Array.prototype.splice.call(P,W,1),st&&(nt(v),h.g[S].length==0&&(delete h.g[S],h.h--))}}function gt(h,v,S,P){for(let W=0;W<h.length;++W){const st=h[W];if(!st.da&&st.listener==v&&st.capture==!!S&&st.ha==P)return W}return-1}var At="closure_lm_"+(Math.random()*1e6|0),Ct={};function wt(h,v,S,P,W){if(Array.isArray(v)){for(let st=0;st<v.length;st++)wt(h,v[st],S,P,W);return null}return S=Wt(S),h&&h[J]?h.J(v,S,d(P)?!!P.capture:!1,W):Kt(h,v,S,!1,P,W)}function Kt(h,v,S,P,W,st){if(!v)throw Error("Invalid event type");const pt=d(W)?!!W.capture:!!W;let Nt=we(h);if(Nt||(h[At]=Nt=new et(h)),S=Nt.add(v,S,P,pt,st),S.proxy)return S;if(P=ce(),S.proxy=P,P.src=h,P.listener=S,h.addEventListener)N||(W=pt),W===void 0&&(W=!1),h.addEventListener(v.toString(),P,W);else if(h.attachEvent)h.attachEvent(Oe(v.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ce(){function h(S){return v.call(h.src,h.listener,S)}const v=he;return h}function ve(h,v,S,P,W){if(Array.isArray(v))for(var st=0;st<v.length;st++)ve(h,v[st],S,P,W);else P=d(P)?!!P.capture:!!P,S=Wt(S),h&&h[J]?(h=h.i,st=String(v).toString(),st in h.g&&(v=h.g[st],S=gt(v,S,P,W),S>-1&&(nt(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete h.g[st],h.h--)))):h&&(h=we(h))&&(v=h.g[v.toString()],h=-1,v&&(h=gt(v,S,P,W)),(S=h>-1?v[h]:null)&&Nn(S))}function Nn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[J])Z(v.i,h);else{var S=h.type,P=h.proxy;v.removeEventListener?v.removeEventListener(S,P,h.capture):v.detachEvent?v.detachEvent(Oe(S),P):v.addListener&&v.removeListener&&v.removeListener(P),(S=we(v))?(Z(S,h),S.h==0&&(S.src=null,v[At]=null)):nt(h)}}}function Oe(h){return h in Ct?Ct[h]:Ct[h]="on"+h}function he(h,v){if(h.da)h=!0;else{v=new F(v,this);const S=h.listener,P=h.ha||h.src;h.fa&&Nn(h),h=S.call(P,v)}return h}function we(h){return h=h[At],h instanceof et?h:null}var te="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wt(h){return typeof h=="function"?h:(h[te]||(h[te]=function(v){return h.handleEvent(v)}),h[te])}function Lt(){C.call(this),this.i=new et(this),this.M=this,this.G=null}_(Lt,C),Lt.prototype[J]=!0,Lt.prototype.removeEventListener=function(h,v,S,P){ve(this,h,v,S,P)};function qt(h,v){var S,P=h.G;if(P)for(S=[];P;P=P.G)S.push(P);if(h=h.M,P=v.type||v,typeof v=="string")v=new D(v,h);else if(v instanceof D)v.target=v.target||h;else{var W=v;v=new D(P,h),ot(v,W)}W=!0;let st,pt;if(S)for(pt=S.length-1;pt>=0;pt--)st=v.g=S[pt],W=ne(st,P,!0,v)&&W;if(st=v.g=h,W=ne(st,P,!0,v)&&W,W=ne(st,P,!1,v)&&W,S)for(pt=0;pt<S.length;pt++)st=v.g=S[pt],W=ne(st,P,!1,v)&&W}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const S=h.g[v];for(let P=0;P<S.length;P++)nt(S[P]);delete h.g[v],h.h--}}this.G=null},Lt.prototype.J=function(h,v,S,P){return this.i.add(String(h),v,!1,S,P)},Lt.prototype.K=function(h,v,S,P){return this.i.add(String(h),v,!0,S,P)};function ne(h,v,S,P){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let st=0;st<v.length;++st){const pt=v[st];if(pt&&!pt.da&&pt.capture==S){const Nt=pt.listener,ze=pt.ha||pt.src;pt.fa&&Z(h.i,pt),W=Nt.call(ze,P)!==!1&&W}}return W&&!P.defaultPrevented}function un(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ee(h){h.g=un(()=>{h.g=null,h.i&&(h.i=!1,Ee(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Pt extends C{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ee(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(h){C.call(this),this.h=h,this.g={}}_(Pe,C);var On=[];function Ni(h){Y(h.g,function(v,S){this.g.hasOwnProperty(S)&&Nn(v)},h),h.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Ni(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=c.JSON.stringify,vi=c.JSON.parse,Be=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function En(){}function cn(){}var Ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fe(){D.call(this,"d")}_(fe,D);function je(){D.call(this,"c")}_(je,D);var be={},xs=null;function Oi(){return xs=xs||new Lt}be.Ia="serverreachability";function Da(h){D.call(this,be.Ia,h)}_(Da,D);function Tn(h){const v=Oi();qt(v,new Da(v))}be.STAT_EVENT="statevent";function lr(h,v){D.call(this,be.STAT_EVENT,h),this.stat=v}_(lr,D);function ie(h){const v=Oi();qt(v,new lr(v,h))}be.Ja="timingevent";function Je(h,v){D.call(this,be.Ja,h),this.size=v}_(Je,D);function hn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function Vs(h,v,S,P,W,st){h.info(function(){if(h.g)if(st){var pt="",Nt=st.split("&");for(let Jt=0;Jt<Nt.length;Jt++){var ze=Nt[Jt].split("=");if(ze.length>1){const Ie=ze[0];ze=ze[1];const si=Ie.split("_");pt=si.length>=2&&si[1]=="type"?pt+(Ie+"="+ze+"&"):pt+(Ie+"=redacted&")}}}else pt=null;else pt=st;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+v+`
`+S+`
`+pt})}function ni(h,v,S,P,W,st,pt){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+v+`
`+S+`
`+st+" "+pt})}function nn(h,v,S,P){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+zf(h,S)+(P?" "+P:"")})}function Ca(h,v){h.info(function(){return"TIMEOUT: "+v})}fn.prototype.info=function(){};function zf(h,v){if(!h.g)return v;if(!v)return null;try{const st=JSON.parse(v);if(st){for(h=0;h<st.length;h++)if(Array.isArray(st[h])){var S=st[h];if(!(S.length<2)){var P=S[1];if(Array.isArray(P)&&!(P.length<1)){var W=P[0];if(W!="noop"&&W!="stop"&&W!="close")for(let pt=1;pt<P.length;pt++)P[pt]=""}}}}return Te(st)}catch{return v}}var xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function Va(){}_(Va,En),Va.prototype.g=function(){return new XMLHttpRequest},nl=new Va;function ur(h){return encodeURIComponent(String(h))}function Xu(h){var v=1;h=h.split(":");const S=[];for(;v>0&&h.length;)S.push(h.shift()),v--;return h.length&&S.push(h.join(":")),S}function Ei(h,v,S,P){this.j=h,this.i=v,this.l=S,this.S=P||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var Fe={},rn={};function Pi(h,v,S){h.M=1,h.A=Ma(He(v)),h.u=S,h.R=!0,Ms(h,null)}function Ms(h,v){h.F=Date.now(),Ui(h),h.B=He(h.A);var S=h.B,P=h.S;Array.isArray(P)||(P=[String(P)]),Us(S.i,"t",P),h.C=0,S=h.j.L,h.h=new Ti,h.g=cc(h.j,S?v:null,!h.u),h.P>0&&(h.O=new Pt(p(h.Y,h,h.g),h.P)),v=h.V,S=h.g,P=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(On[0]=W.toString()),W=On);for(let st=0;st<W.length;st++){const pt=wt(S,W[st],P||v.handleEvent,!1,v.h||v);if(!pt)break;v.g[pt.key]=pt}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Tn(),Vs(h.i,h.v,h.B,h.l,h.S,h.u)}Ei.prototype.ba=function(h){h=h.target;const v=this.O;v&&Si(h)==3?v.j():this.Y(h)},Ei.prototype.Y=function(h){try{if(h==this.g)t:{const Nt=Si(this.g),ze=this.g.ya(),Jt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||Nt!=4||ze==7||(ze==8||Jt<=0?Tn(3):Tn(2)),zi(this);var v=this.g.ca();this.X=v;var S=Lf(this);if(this.o=v==200,ni(this.i,this.v,this.B,this.l,this.S,Nt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var P,W=this.g;if((P=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(P)){var st=P;break e}}st=null}if(h=st)nn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,h);else{this.o=!1,this.m=3,ie(12),Hn(this),ii(this);break t}}if(this.R){h=!0;let Ie;for(;!this.K&&this.C<S.length;)if(Ie=Wu(this,S),Ie==rn){Nt==4&&(this.m=4,ie(14),h=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Fe){this.m=4,ie(15),nn(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else nn(this.i,this.l,Ie,null),Li(this,Ie);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||S.length!=0||this.h.h||(this.m=1,ie(16),h=!1),this.o=this.o&&h,!h)nn(this.i,this.l,S,"[Invalid Chunked Response]"),Hn(this),ii(this);else if(S.length>0&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.aa&&!pt.P&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),yl(pt),pt.P=!0,ie(11))}}else nn(this.i,this.l,S,null),Li(this,S);Nt==4&&Hn(this),this.o&&!this.K&&(Nt==4?sc(this.j,this):(this.o=!1,Ui(this)))}else hr(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,ie(12)):(this.m=0,ie(13)),Hn(this),ii(this)}}}catch{}};function Lf(h){if(!Zu(h))return h.g.la();const v=dn(h.g);if(v==="")return"";let S="";const P=v.length,W=Si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hn(h),ii(h),"";h.h.i=new c.TextDecoder}for(let st=0;st<P;st++)h.h.h=!0,S+=h.h.i.decode(v[st],{stream:!(W&&st==P-1)});return v.length=0,h.h.g+=S,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Wu(h,v){var S=h.C,P=v.indexOf(`
`,S);return P==-1?rn:(S=Number(v.substring(S,P)),isNaN(S)?Fe:(P+=1,P+S>v.length?rn:(v=v.slice(P,P+S),h.C=P+S,v)))}Ei.prototype.cancel=function(){this.K=!0,Hn(this)};function Ui(h){h.T=Date.now()+h.H,Ns(h,h.H)}function Ns(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=hn(p(h.aa,h),v)}function zi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ca(this.i,this.B),this.M!=2&&(Tn(),ie(17)),Hn(this),this.m=2,ii(this)):Ns(this,this.T-h)};function ii(h){h.j.I==0||h.K||sc(h.j,h)}function Hn(h){zi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ni(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Li(h,v){try{var S=h.j;if(S.I!=0&&(S.g==h||Bi(S.h,h))){if(!h.L&&Bi(S.h,h)&&S.I==3){try{var P=S.Ba.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)js(S),jr(S);else break t;ka(S),ie(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=hn(p(S.Va,S),6e3));ki(S.h)<=1&&S.ta&&(S.ta=void 0)}else Qi(S,11)}else if((h.L||S.g==h)&&js(S),!I(v))for(W=S.Ba.g.parse(v),v=0;v<W.length;v++){let Jt=W[v];const Ie=Jt[0];if(!(Ie<=S.K))if(S.K=Ie,Jt=Jt[1],S.I==2)if(Jt[0]=="c"){S.M=Jt[1],S.ba=Jt[2];const si=Jt[3];si!=null&&(S.ka=si,S.j.info("VER="+S.ka));const Yi=Jt[4];Yi!=null&&(S.za=Yi,S.j.info("SVER="+S.za));const wi=Jt[5];wi!=null&&typeof wi=="number"&&wi>0&&(P=1.5*wi,S.O=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const Ii=h.g;if(Ii){const Ba=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var st=P.h;st.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(al(st,st.h),st.h=null))}if(P.G){const Fs=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(P.wa=Fs,re(P.J,P.G,Fs))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),P=S;var pt=h;if(P.na=uc(P,P.L?P.ba:null,P.W),pt.L){sl(P.h,pt);var Nt=pt,ze=P.O;ze&&(Nt.H=ze),Nt.D&&(zi(Nt),Ui(Nt)),P.g=pt}else rc(P);S.i.length>0&&Gi(S)}else Jt[0]!="stop"&&Jt[0]!="close"||Qi(S,7);else S.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Qi(S,7):gl(S):Jt[0]!="noop"&&S.l&&S.l.qa(Jt),S.A=0)}}Tn(4)}catch{}}var qe=class{constructor(h,v){this.g=h,this.map=v}};function il(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ki(h){return h.h?1:h.g?h.g.size:0}function Bi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function al(h,v){h.g?h.g.add(v):h.h=v}function sl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}il.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const S of h.g.values())v=v.concat(S.G);return v}return w(h.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(h,v){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const P=h[S].indexOf("=");let W,st=null;P>=0?(W=h[S].substring(0,P),st=h[S].substring(P+1)):W=h[S],v(W,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function Gn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Gn?(this.l=h.l,an(this,h.j),this.o=h.o,this.g=h.g,Or(this,h.u),this.h=h.h,ll(this,nc(h.i)),this.m=h.m):h&&(v=String(h).match(Ju))?(this.l=!1,an(this,v[1]||"",!0),this.o=ji(v[2]||""),this.g=ji(v[3]||"",!0),Or(this,v[4]),this.h=ji(v[5]||"",!0),ll(this,v[6]||"",!0),this.m=ji(v[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}Gn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Na(v,Ps,!0),":");var S=this.g;return(S||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Na(v,Ps,!0),"@"),h.push(ur(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Na(S,S.charAt(0)=="/"?ul:$u,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Na(S,tc)),h.join("")},Gn.prototype.resolve=function(h){const v=He(this);let S=!!h.j;S?an(v,h.j):S=!!h.o,S?v.o=h.o:S=!!h.g,S?v.g=h.g:S=h.u!=null;var P=h.h;if(S)Or(v,h.u);else if(S=!!h.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var W=v.h.lastIndexOf("/");W!=-1&&(P=v.h.slice(0,W+1)+P)}if(W=P,W==".."||W==".")P="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){P=W.lastIndexOf("/",0)==0,W=W.split("/");const st=[];for(let pt=0;pt<W.length;){const Nt=W[pt++];Nt=="."?P&&pt==W.length&&st.push(""):Nt==".."?((st.length>1||st.length==1&&st[0]!="")&&st.pop(),P&&pt==W.length&&st.push("")):(st.push(Nt),P=!0)}P=st.join("/")}else P=W}return S?v.h=P:S=h.i.toString()!=="",S?ll(v,nc(h.i)):S=!!h.m,S&&(v.m=h.m),v};function He(h){return new Gn(h)}function an(h,v,S){h.j=S?ji(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Or(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function ll(h,v,S){v instanceof Ur?(h.i=v,zs(h.i,h.l)):(S||(v=Na(v,Pr)),h.i=new Ur(v,h.l))}function re(h,v,S){h.i.set(v,S)}function Ma(h){return re(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Na(h,v,S){return typeof h=="string"?(h=encodeURI(h).replace(v,Pn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ps=/[#\/\?@]/g,$u=/[#\?:]/g,ul=/[#\?]/g,Pr=/[#\?@]/g,tc=/#/g;function Ur(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Un(h){h.g||(h.g=new Map,h.h=0,h.i&&Os(h.i,function(v,S){h.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}a=Ur.prototype,a.add=function(h,v){Un(this),this.i=null,h=zr(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(v),this.h+=1,this};function ec(h,v){Un(h),v=zr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function cl(h,v){return Un(h),v=zr(h,v),h.g.has(v)}a.forEach=function(h,v){Un(this),this.g.forEach(function(S,P){S.forEach(function(W){h.call(v,W,P,this)},this)},this)};function hl(h,v){Un(h);let S=[];if(typeof v=="string")cl(h,v)&&(S=S.concat(h.g.get(zr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)S=S.concat(h[v]);return S}a.set=function(h,v){return Un(this),this.i=null,h=zr(this,h),cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},a.get=function(h,v){return h?(h=hl(this,h),h.length>0?String(h[0]):v):v};function Us(h,v,S){ec(h,v),S.length>0&&(h.i=null,h.g.set(zr(h,v),w(S)),h.h+=S.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let P=0;P<v.length;P++){var S=v[P];const W=ur(S);S=hl(this,S);for(let st=0;st<S.length;st++){let pt=W;S[st]!==""&&(pt+="="+ur(S[st])),h.push(pt)}}return this.i=h.join("&")};function nc(h){const v=new Ur;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function zr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function zs(h,v){v&&!h.j&&(Un(h),h.i=null,h.g.forEach(function(S,P){const W=P.toLowerCase();P!=W&&(ec(this,P),Us(this,W,S))},h)),h.j=v}function bi(h,v){const S=new fn;if(c.Image){const P=new Image;P.onload=y(ri,S,"TestLoadImage: loaded",!0,v,P),P.onerror=y(ri,S,"TestLoadImage: error",!1,v,P),P.onabort=y(ri,S,"TestLoadImage: abort",!1,v,P),P.ontimeout=y(ri,S,"TestLoadImage: timeout",!1,v,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else v(!1)}function fl(h,v){const S=new fn,P=new AbortController,W=setTimeout(()=>{P.abort(),ri(S,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:P.signal}).then(st=>{clearTimeout(W),st.ok?ri(S,"TestPingServer: ok",!0,v):ri(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),ri(S,"TestPingServer: error",!1,v)})}function ri(h,v,S,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(S)}catch{}}function Lr(){this.g=new Be}function Fi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Fi,En),Fi.prototype.g=function(){return new Oa(this.i,this.h)};function Oa(h,v){Lt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Oa,Lt),a=Oa.prototype,a.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ai(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},a.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ls(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ls(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}a.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?kr(this):Ai(this),this.readyState==3&&Ls(this)}},a.Oa=function(h){this.g&&(this.response=this.responseText=h,kr(this))},a.Na=function(h){this.g&&(this.response=h,kr(this))},a.ga=function(){this.g&&kr(this)};function kr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ai(h)}a.setRequestHeader=function(h,v){this.A.append(h,v)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=v.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ai(h){let v="";return Y(h,function(S,P){v+=P,v+=":",v+=S,v+=`\r
`}),v}function Pa(h,v,S){t:{for(P in S){var P=!1;break t}P=!0}P||(S=ai(S),typeof h=="string"?S!=null&&ur(S):re(h,v,S))}function de(h){Lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(de,Lt);var qi=/^https?$/i,dl=["POST","PUT"];a=de.prototype,a.Fa=function(h){this.H=h},a.ea=function(h,v,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(st){Ua(this,st);return}if(h=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)S.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const st of P.keys())S.set(st,P.get(st));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(st=>st.toLowerCase()=="content-type"),W=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(dl,v,void 0)>=0)||P||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,pt]of S)this.g.setRequestHeader(st,pt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(st){Ua(this,st)}};function Ua(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ml(h),cr(h)}function ml(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qt(this,"complete"),qt(this,"abort"),cr(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),de.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?za(this):this.Xa())},a.Xa=function(){za(this)};function za(h){if(h.h&&typeof l<"u"){if(h.v&&Si(h)==4)setTimeout(h.Ca.bind(h),0);else if(qt(h,"readystatechange"),Si(h)==4){h.h=!1;try{const st=h.ca();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var S;if(!(S=v)){var P;if(P=st===0){let pt=String(h.D).match(Ju)[1]||null;!pt&&c.self&&c.self.location&&(pt=c.self.location.protocol.slice(0,-1)),P=!qi.test(pt?pt.toLowerCase():"")}S=P}if(S)qt(h,"complete"),qt(h,"success");else{h.o=6;try{var W=Si(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",ml(h)}}finally{cr(h)}}}}function cr(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,v||qt(h,"ready");try{S.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Si(h){return h.g?h.g.readyState:0}a.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),vi(v)}};function dn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function hr(h){const v={};h=(h.g&&Si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(I(h[P]))continue;var S=Xu(h[P]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const st=v[W]||[];v[W]=st,st.push(S)}at(v,function(P){return P.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||v}function Br(h){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,h),this.Za=Hi("retryDelaySeedMs",1e4,h),this.Ta=Hi("forwardChannelMaxRetries",2,h),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new il(h&&h.concurrentRequestLimit),this.Ba=new Lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Br.prototype,a.ka=8,a.I=1,a.connect=function(h,v,S,P){ie(0),this.W=h,this.H=v||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.J=uc(this,null,this.W),Gi(this)};function gl(h){if(ks(h),h.I==3){var v=h.V++,S=He(h.J);if(re(S,"SID",h.M),re(S,"RID",v),re(S,"TYPE","terminate"),La(h,S),v=new Ei(h,h.j,v),v.M=2,v.A=Ma(He(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=v.A,S=!0),S||(v.g=cc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ui(v)}lc(h)}function jr(h){h.g&&(yl(h),h.g.cancel(),h.g=null)}function ks(h){jr(h),h.v&&(c.clearTimeout(h.v),h.v=null),js(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Gi(h){if(!rl(h.h)&&!h.m){h.m=!0;var v=h.Ea;ut||b(),L||(ut(),L=!0),M.add(v,h),h.D=0}}function Bs(h,v){return ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=hn(p(h.Ea,h,v),oc(h,h.D)),h.D++,!0)}a.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new Ei(this,this.j,h);let st=this.o;if(this.U&&(st?(st=U(st),ot(st,this.U)):st=this.U),this.u!==null||this.R||(W.J=st,st=null),this.S)t:{for(var v=0,S=0;S<this.i.length;S++){e:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(v+=P,v>4096){v=S;break t}if(v===4096||S===this.i.length-1){v=S+1;break t}}v=1e3}else v=1e3;v=ic(this,W,v),S=He(this.J),re(S,"RID",h),re(S,"CVER",22),this.G&&re(S,"X-HTTP-Session-Id",this.G),La(this,S),st&&(this.R?v="headers="+ur(ai(st))+"&"+v:this.u&&Pa(S,this.u,st)),al(this.h,W),this.Ra&&re(S,"TYPE","init"),this.S?(re(S,"$req",v),re(S,"SID","null"),W.U=!0,Pi(W,S,null)):Pi(W,S,v),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||rl(this.h)||pl(this))};function pl(h,v){var S;v?S=v.l:S=h.V++;const P=He(h.J);re(P,"SID",h.M),re(P,"RID",S),re(P,"AID",h.K),La(h,P),h.u&&h.o&&Pa(P,h.u,h.o),S=new Ei(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),v&&(h.i=v.G.concat(h.i)),v=ic(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),al(h.h,S),Pi(S,P,v)}function La(h,v){h.H&&Y(h.H,function(S,P){re(v,P,S)}),h.l&&Y({},function(S,P){re(v,P,S)})}function ic(h,v,S){S=Math.min(h.i.length,S);const P=h.l?p(h.l.Ka,h.l,h):null;t:{var W=h.i;let Nt=-1;for(;;){const ze=["count="+S];Nt==-1?S>0?(Nt=W[0].g,ze.push("ofs="+Nt)):Nt=0:ze.push("ofs="+Nt);let Jt=!0;for(let Ie=0;Ie<S;Ie++){var st=W[Ie].g;const si=W[Ie].map;if(st-=Nt,st<0)Nt=Math.max(0,W[Ie].g-100),Jt=!1;else try{st="req"+st+"_"||"";try{var pt=si instanceof Map?si:Object.entries(si);for(const[Yi,wi]of pt){let Ii=wi;d(wi)&&(Ii=Te(wi)),ze.push(st+Yi+"="+encodeURIComponent(Ii))}}catch(Yi){throw ze.push(st+"type="+encodeURIComponent("_badmap")),Yi}}catch{P&&P(si)}}if(Jt){pt=ze.join("&");break t}}pt=void 0}return h=h.i.splice(0,S),v.G=h,pt}function rc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ut||b(),L||(ut(),L=!0),M.add(v,h),h.A=0}}function ka(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=hn(p(h.Da,h),oc(h,h.A)),h.A++,!0)}a.Da=function(){if(this.v=null,ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=hn(p(this.Wa,this),h)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ie(10),jr(this),ac(this))};function yl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ac(h){h.g=new Ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=He(h.na);re(v,"RID","rpc"),re(v,"SID",h.M),re(v,"AID",h.K),re(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&re(v,"TO",h.ia),re(v,"TYPE","xmlhttp"),La(h,v),h.u&&h.o&&Pa(v,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=Ma(He(v)),S.u=null,S.R=!0,Ms(S,h)}a.Va=function(){this.C!=null&&(this.C=null,jr(this),ka(this),ie(19))};function js(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sc(h,v){var S=null;if(h.g==v){js(h),yl(h),h.g=null;var P=2}else if(Bi(h.h,v))S=v.G,sl(h.h,v),P=1;else return;if(h.I!=0){if(v.o)if(P==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var W=h.D;P=Oi(),qt(P,new Je(P,S)),Gi(h)}else rc(h);else if(W=v.m,W==3||W==0&&v.X>0||!(P==1&&Bs(h,v)||P==2&&ka(h)))switch(S&&S.length>0&&(v=h.h,v.i=v.i.concat(S)),W){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function oc(h,v){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*v}function Qi(h,v){if(h.j.info("Error code "+v),v==2){var S=p(h.bb,h),P=h.Ua;const W=!P;P=new Gn(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||an(P,"https"),Ma(P),W?bi(P.toString(),S):fl(P.toString(),S)}else ie(2);h.I=0,h.l&&h.l.pa(v),lc(h),ks(h)}a.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function lc(h){if(h.I=0,h.ja=[],h.l){const v=ol(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function uc(h,v,S){var P=S instanceof Gn?He(S):new Gn(S);if(P.g!="")v&&(P.g=v+"."+P.g),Or(P,P.u);else{var W=c.location;P=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const st=new Gn(null);P&&an(st,P),v&&(st.g=v),W&&Or(st,W),S&&(st.h=S),P=st}return S=h.G,v=h.wa,S&&v&&re(P,S,v),re(P,"VER",h.ka),La(h,P),P}function cc(h,v,S){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new de(new Fi({ab:S})):new de(h.ma),v.Fa(h.L),v}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}a=hc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Fr(){}Fr.prototype.g=function(h,v){return new Dn(h,v)};function Dn(h,v){Lt.call(this),this.g=new Br(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!I(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new fr(this)}_(Dn,Lt),Dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){gl(this.g)},Dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Te(h),h=S);v.i.push(new qe(v.Ya++,h)),v.I==3&&Gi(v)},Dn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,Dn.Z.N.call(this)};function fc(h){fe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const S in v){h=S;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(fc,fe);function dc(){je.call(this),this.status=1}_(dc,je);function fr(h){this.g=h}_(fr,hc),fr.prototype.ra=function(){qt(this.g,"a")},fr.prototype.qa=function(h){qt(this.g,new fc(h))},fr.prototype.pa=function(h){qt(this.g,new dc)},fr.prototype.oa=function(){qt(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,rE=function(){return new Fr},iE=function(){return Oi()},nE=be,ng={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Ih=xa,el.COMPLETE="complete",eE=el,cn.EventType=Ue,Ue.OPEN="a",Ue.CLOSE="b",Ue.ERROR="c",Ue.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,uu=cn,de.prototype.listenOnce=de.prototype.K,de.prototype.getLastError=de.prototype.Ha,de.prototype.getLastErrorCode=de.prototype.ya,de.prototype.getStatus=de.prototype.ca,de.prototype.getResponseJson=de.prototype.La,de.prototype.getResponseText=de.prototype.la,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Fa,tE=de}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Wo="12.8.0";function fw(a){Wo=a}const _s=new Yv("@firebase/firestore");function Io(){return _s.logLevel}function mt(a,...t){if(_s.logLevel<=Yt.DEBUG){const n=t.map(Vg);_s.debug(`Firestore (${Wo}): ${a}`,...n)}}function xn(a,...t){if(_s.logLevel<=Yt.ERROR){const n=t.map(Vg);_s.error(`Firestore (${Wo}): ${a}`,...n)}}function vs(a,...t){if(_s.logLevel<=Yt.WARN){const n=t.map(Vg);_s.warn(`Firestore (${Wo}): ${a}`,...n)}}function Vg(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function Et(a,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,aE(a,r,n)}function aE(a,t,n){let r=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xn(r),new Error(r)}function St(a,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,a||aE(t,s,r)}function Vt(a,t){return a}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Zo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class sE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class mw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gw{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){St(this.o===void 0,42304);let r=this.i;const s=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let l=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new rr,t.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const g=l;t.enqueueRetryable((async()=>{await g.promise,await s(this.currentUser)}))},d=g=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new rr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string",31837,{l:r}),new sE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return St(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class pw{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yw{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new pw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _w{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XS(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){St(this.o===void 0,3512);const r=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const s=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}class Mg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vw(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<n&&(r+=t.charAt(s[l]%62))}return r}}function xt(a,t){return a<t?-1:a>t?1:0}function ig(a,t){const n=Math.min(a.length,t.length);for(let r=0;r<n;r++){const s=a.charAt(r),l=t.charAt(r);if(s!==l)return Fm(s)===Fm(l)?xt(s,l):Fm(s)?1:-1}return xt(a.length,t.length)}const Ew=55296,Tw=57343;function Fm(a){const t=a.charCodeAt(0);return t>=Ew&&t<=Tw}function zo(a,t,n){return a.length===t.length&&a.every(((r,s)=>n(r,t[s])))}function oE(a){return a+"\0"}const c1="__name__";class Ji{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ji.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ji?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const l=Ji.compareSegments(t.get(s),n.get(s));if(l!==0)return l}return xt(t.length,n.length)}static compareSegments(t,n){const r=Ji.isNumericId(t),s=Ji.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ji.extractNumericId(t).compare(Ji.extractNumericId(n)):ig(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return va.fromString(t.substring(4,t.length-2))}}class ee extends Ji{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new _t(dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends Ji{construct(t,n,r){return new xe(t,n,r)}static isValidIdentifier(t){return bw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c1}static keyField(){return new xe([c1])}static fromServerFormat(t){const n=[];let r="",s=0;const l=()=>{if(r.length===0)throw new _t(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<t.length;){const d=t[s];if(d==="\\"){if(s+1===t.length)throw new _t(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _t(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(l(),s++)}if(l(),c)throw new _t(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xe(n)}static emptyPath(){return new xe([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ee.fromString(t))}static fromName(t){return new yt(ee.fromString(t).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ee(t.slice()))}}function lE(a,t,n){if(!n)throw new _t(dt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Aw(a,t,n,r){if(t===!0&&r===!0)throw new _t(dt.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function h1(a){if(!yt.isDocumentKey(a))throw new _t(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function f1(a){if(yt.isDocumentKey(a))throw new _t(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function uE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Ng(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function sr(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new _t(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(a);throw new _t(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}function Ze(a,t){const n={typeString:a};return t&&(n.value=t),n}function Bu(a,t){if(!uE(a))throw new _t(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){n=`JSON missing required field: '${r}'`;break}const c=a[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new _t(dt.INVALID_ARGUMENT,n);return!0}const d1=-62135596800,m1=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*m1);return new le(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<d1)throw new _t(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m1}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-d1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ze("string",le._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new le(0,0))}static max(){return new Rt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Iu=-1;class Hh{constructor(t,n,r,s){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=s}}function rg(a){return a.fields.find((t=>t.kind===2))}function rs(a){return a.fields.filter((t=>t.kind!==2))}Hh.UNKNOWN_ID=-1;class Rh{constructor(t,n){this.fieldPath=t,this.kind=n}}class Ru{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new Ru(0,ei.min())}}function Sw(a,t){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,s=Rt.fromTimestamp(r===1e9?new le(n+1,0):new le(n,r));return new ei(s,yt.empty(),t)}function cE(a){return new ei(a.readTime,a.key,Iu)}class ei{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(Rt.min(),yt.empty(),Iu)}static max(){return new ei(Rt.max(),yt.empty(),Iu)}}function Og(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(a.documentKey,t.documentKey),n!==0?n:xt(a.largestBatchId,t.largestBatchId))}const hE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Is(a){if(a.code!==dt.FAILED_PRECONDITION||a.message!==hE)throw a;mt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X(((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):X.reject(n)}static resolve(t){return new X(((n,r)=>{n(t)}))}static reject(t){return new X(((n,r)=>{r(t)}))}static waitFor(t){return new X(((n,r)=>{let s=0,l=0,c=!1;t.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&n()}),(g=>r(g)))})),c=!0,l===s&&n()}))}static or(t){let n=X.resolve(!1);for(const r of t)n=n.next((s=>s?X.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,l)=>{r.push(n.call(this,s,l))})),this.waitFor(r)}static mapArray(t,n){return new X(((r,s)=>{const l=t.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;n(t[p]).next((y=>{c[p]=y,++d,d===l&&r(c)}),(y=>s(y)))}}))}static doWhile(t,n){return new X(((r,s)=>{const l=()=>{t()===!0?n().next((()=>{l()}),s):r()};l()}))}}const $n="SimpleDb";class df{static open(t,n,r,s){try{return new df(n,t.transaction(s,r))}catch(l){throw new gu(n,l)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new rr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new gu(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Pg(r.target.error);this.S.reject(new gu(t,s))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(mt($n,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new Iw(n)}}class Ea{static delete(t){return mt($n,"Removing database:",t),os(Bv().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!Gv())return!1;if(Ea.F())return!0;const t=Bh(),n=Ea.M(t),r=0<n&&n<10,s=dE(t),l=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,Ea.M(Bh())===12.2&&xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(mt($n,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=l=>{const c=l.target.result;n(c)},s.onblocked=()=>{r(new gu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new _t(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new _t(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new gu(t,c))},s.onupgradeneeded=l=>{mt($n,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,s.transaction,l.oldVersion,this.version).next((()=>{mt($n,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,s){const l=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const d=df.open(this.db,t,l?"readonly":"readwrite",r),g=s(d).next((p=>(d.C(),p))).catch((p=>(d.abort(p),X.reject(p)))).toPromise();return g.catch((()=>{})),await d.D,g}catch(d){const g=d,p=g.name!=="FirebaseError"&&c<3;if(mt($n,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function dE(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ww{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return os(this.U.delete())}}class gu extends _t{constructor(t,n){super(dt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ia(a){return a.name==="IndexedDbTransactionError"}class Iw{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(mt($n,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(mt($n,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),os(r)}add(t){return mt($n,"ADD",this.store.name,t,t),os(this.store.add(t))}get(t){return os(this.store.get(t)).next((n=>(n===void 0&&(n=null),mt($n,"GET",this.store.name,t,n),n)))}delete(t){return mt($n,"DELETE",this.store.name,t),os(this.store.delete(t))}count(){return mt($n,"COUNT",this.store.name),os(this.store.count())}H(t,n){const r=this.options(t,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const l=s.getAll(r.range);return new X(((c,d)=>{l.onerror=g=>{d(g.target.error)},l.onsuccess=g=>{c(g.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((d,g)=>{c.push(g)})).next((()=>c))}}Z(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new X(((s,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{s(c.target.result)}}))}X(t,n){mt($n,"DELETE ALL",this.store.name);const r=this.options(t,n);r.Y=!1;const s=this.cursor(r);return this.J(s,((l,c,d)=>d.delete()))}ee(t,n){let r;n?r=t:(r={},n=t);const s=this.cursor(r);return this.J(s,n)}te(t){const n=this.cursor({});return new X(((r,s)=>{n.onerror=l=>{const c=Pg(l.target.error);s(c)},n.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}J(t,n){const r=[];return new X(((s,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void s();const g=new ww(d),p=n(d.primaryKey,d.value,g);if(p instanceof X){const y=p.catch((_=>(g.done(),X.reject(_))));r.push(y)}g.isDone?s():g.G===null?d.continue():d.continue(g.G)}})).next((()=>X.waitFor(r)))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function os(a){return new X(((t,n)=>{a.onsuccess=r=>{const s=r.target.result;t(s)},a.onerror=r=>{const s=Pg(r.target.error);n(s)}}))}let g1=!1;function Pg(a){const t=Ea.M(Bh());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(n)>=0){const r=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return g1||(g1=!0,setTimeout((()=>{throw r}),0)),r}}return a}const pu="IndexBackfiller";class Rw{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){mt(pu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();mt(pu,`Documents written: ${n}`)}catch(n){Ia(n)?mt(pu,"Ignoring IndexedDB error during index backfill: ",n):await Is(n)}await this.re(6e4)}))}}class Dw{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const r=new Set;let s=n,l=!0;return X.doWhile((()=>l===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return mt(pu,`Processing collection: ${c}`),this.oe(t,c,s).next((d=>{s-=d,r.add(c)}));l=!1})))).next((()=>n-s))}oe(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((s=>this.localStore.localDocuments.getNextDocuments(t,n,s,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(s,l))).next((d=>(mt(pu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,n,d)))).next((()=>c.size))}))))}_e(t,n){let r=t;return n.changes.forEach(((s,l)=>{const c=cE(l);Og(c,r)>0&&(r=c)})),new ei(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}class pi{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}pi.ce=-1;const ds=-1;function mf(a){return a==null}function Du(a){return a===0&&1/a==-1/0}function Cw(a){return typeof a=="number"&&Number.isInteger(a)&&!Du(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const Gh="";function Rn(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=p1(t)),t=xw(a.get(n),t);return p1(t)}function xw(a,t){let n=t;const r=a.length;for(let s=0;s<r;s++){const l=a.charAt(s);switch(l){case"\0":n+="";break;case Gh:n+="";break;default:n+=l}}return n}function p1(a){return a+Gh+""}function nr(a){const t=a.length;if(St(t>=2,64408,{path:a}),t===2)return St(a.charAt(0)===Gh&&a.charAt(1)==="",56145,{path:a}),ee.emptyPath();const n=t-2,r=[];let s="";for(let l=0;l<t;){const c=a.indexOf(Gh,l);switch((c<0||c>n)&&Et(50515,{path:a}),a.charAt(c+1)){case"":const d=a.substring(l,c);let g;s.length===0?g=d:(s+=d,g=s,s=""),r.push(g);break;case"":s+=a.substring(l,c),s+="\0";break;case"":s+=a.substring(l,c+1);break;default:Et(61167,{path:a})}l=c+2}return new ee(r)}const as="remoteDocuments",ju="owner",vo="owner",Cu="mutationQueues",Vw="userId",Vi="mutations",y1="batchId",hs="userMutationsIndex",_1=["userId","batchId"];function Dh(a,t){return[a,Rn(t)]}function mE(a,t,n){return[a,Rn(t),n]}const Mw={},Lo="documentMutations",Qh="remoteDocumentsV14",Nw=["prefixPath","collectionGroup","readTime","documentId"],Ch="documentKeyIndex",Ow=["prefixPath","collectionGroup","documentId"],gE="collectionGroupIndex",Pw=["collectionGroup","readTime","prefixPath","documentId"],xu="remoteDocumentGlobal",ag="remoteDocumentGlobalKey",ko="targets",pE="queryTargetsIndex",Uw=["canonicalId","targetId"],Bo="targetDocuments",zw=["targetId","path"],Ug="documentTargetsIndex",Lw=["path","targetId"],Yh="targetGlobalKey",ms="targetGlobal",Vu="collectionParents",kw=["collectionId","parent"],jo="clientMetadata",Bw="clientId",gf="bundles",jw="bundleId",pf="namedQueries",Fw="name",zg="indexConfiguration",qw="indexId",sg="collectionGroupIndex",Hw="collectionGroup",yu="indexState",Gw=["indexId","uid"],yE="sequenceNumberIndex",Qw=["uid","sequenceNumber"],_u="indexEntries",Yw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_E="documentKeyIndex",Kw=["indexId","uid","orderedDocumentKey"],yf="documentOverlays",Xw=["userId","collectionPath","documentId"],og="collectionPathOverlayIndex",Zw=["userId","collectionPath","largestBatchId"],vE="collectionGroupOverlayIndex",Ww=["userId","collectionGroup","largestBatchId"],Lg="globals",Jw="name",EE=[Cu,Vi,Lo,as,ko,ju,ms,Bo,jo,xu,Vu,gf,pf],$w=[...EE,yf],TE=[Cu,Vi,Lo,Qh,ko,ju,ms,Bo,jo,xu,Vu,gf,pf,yf],bE=TE,kg=[...bE,zg,yu,_u],tI=kg,AE=[...kg,Lg],eI=AE;class lg extends fE{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function en(a,t){const n=Vt(a);return Ea.O(n.le,t)}function v1(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function Rs(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function SE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Ce{constructor(t,n){this.comparator=t,this.root=n||vn.EMPTY}insert(t,n){return new Ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vh(this.root,t,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vh(this.root,t,this.comparator,!0)}}class vh{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&s&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vn{constructor(t,n,r,s,l){this.key=t,this.value=n,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=l??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,l){return new vn(t??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,n,r),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,s,l){return this}insert(t,n,r){return new vn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ue{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new E1(this.data.getIterator())}getIteratorFrom(t){return new E1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ue(this.comparator);return n.data=t,n}}class E1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eo(a){return a.hasNext()?a.getNext():void 0}class yi{constructor(t){this.fields=t,t.sort(xe.comparator)}static empty(){return new yi([])}unionWith(t){let n=new ue(xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new yi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wE("Invalid base64 string: "+l):l}})(t);return new We(n)}static fromUint8Array(t){const n=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const nI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(a){if(St(!!a,39018),typeof a=="string"){let t=0;const n=nI.exec(a);if(St(!!n,46558,{timestamp:a}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:De(a.seconds),nanos:De(a.nanos)}}function De(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Vr(a){return typeof a=="string"?We.fromBase64String(a):We.fromUint8Array(a)}const IE="server_timestamp",RE="__type__",DE="__previous_value__",CE="__local_write_time__";function Bg(a){return(a?.mapValue?.fields||{})[RE]?.stringValue===IE}function _f(a){const t=a.mapValue.fields[DE];return Bg(t)?_f(t):t}function Mu(a){const t=xr(a.mapValue.fields[CE].timestampValue);return new le(t.seconds,t.nanos)}class iI{constructor(t,n,r,s,l,c,d,g,p,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const Kh="(default)";class Es{constructor(t,n){this.projectId=t,this.database=n||Kh}static empty(){return new Es("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(t){return t instanceof Es&&t.projectId===this.projectId&&t.database===this.database}}function rI(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new _t(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(a.options.projectId,t)}const jg="__type__",xE="__max__",pa={mapValue:{fields:{__type__:{stringValue:xE}}}},Fg="__vector__",Fo="value",xh={nullValue:"NULL_VALUE"};function ba(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Bg(a)?4:VE(a)?9007199254740991:vf(a)?10:11:Et(28295,{value:a})}function or(a,t){if(a===t)return!0;const n=ba(a);if(n!==ba(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Mu(a).isEqual(Mu(t));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=xr(s.timestampValue),d=xr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(s,l){return Vr(s.bytesValue).isEqual(Vr(l.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(s,l){return De(s.geoPointValue.latitude)===De(l.geoPointValue.latitude)&&De(s.geoPointValue.longitude)===De(l.geoPointValue.longitude)})(a,t);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return De(s.integerValue)===De(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=De(s.doubleValue),d=De(l.doubleValue);return c===d?Du(c)===Du(d):isNaN(c)&&isNaN(d)}return!1})(a,t);case 9:return zo(a.arrayValue.values||[],t.arrayValue.values||[],or);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(v1(c)!==v1(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!or(c[g],d[g])))return!1;return!0})(a,t);default:return Et(52216,{left:a})}}function Nu(a,t){return(a.values||[]).find((n=>or(n,t)))!==void 0}function Aa(a,t){if(a===t)return 0;const n=ba(a),r=ba(t);if(n!==r)return xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=De(l.integerValue||l.doubleValue),g=De(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(a,t);case 3:return T1(a.timestampValue,t.timestampValue);case 4:return T1(Mu(a),Mu(t));case 5:return ig(a.stringValue,t.stringValue);case 6:return(function(l,c){const d=Vr(l),g=Vr(c);return d.compareTo(g)})(a.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const y=xt(d[p],g[p]);if(y!==0)return y}return xt(d.length,g.length)})(a.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=xt(De(l.latitude),De(c.latitude));return d!==0?d:xt(De(l.longitude),De(c.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return b1(a.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},g=c.fields||{},p=d[Fo]?.arrayValue,y=g[Fo]?.arrayValue,_=xt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:b1(p,y)})(a.mapValue,t.mapValue);case 11:return(function(l,c){if(l===pa.mapValue&&c===pa.mapValue)return 0;if(l===pa.mapValue)return 1;if(c===pa.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},y=Object.keys(p);g.sort(),y.sort();for(let _=0;_<g.length&&_<y.length;++_){const E=ig(g[_],y[_]);if(E!==0)return E;const w=Aa(d[g[_]],p[y[_]]);if(w!==0)return w}return xt(g.length,y.length)})(a.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function T1(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return xt(a,t);const n=xr(a),r=xr(t),s=xt(n.seconds,r.seconds);return s!==0?s:xt(n.nanos,r.nanos)}function b1(a,t){const n=a.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const l=Aa(n[s],r[s]);if(l)return l}return xt(n.length,r.length)}function qo(a){return ug(a)}function ug(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const r=xr(n);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Vr(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return yt.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let r="[",s=!0;for(const l of n.values||[])s?s=!1:r+=",",r+=ug(l);return r+"]"})(a.arrayValue):"mapValue"in a?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of r)l?l=!1:s+=",",s+=`${c}:${ug(n.fields[c])}`;return s+"}"})(a.mapValue):Et(61005,{value:a})}function Vh(a){switch(ba(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_f(a);return t?16+Vh(t):16;case 5:return 2*a.stringValue.length;case 6:return Vr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,l)=>s+Vh(l)),0)})(a.arrayValue);case 10:case 11:return(function(r){let s=0;return Rs(r.fields,((l,c)=>{s+=l.length+Vh(c)})),s})(a.mapValue);default:throw Et(13486,{value:a})}}function qg(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function cg(a){return!!a&&"integerValue"in a}function Ou(a){return!!a&&"arrayValue"in a}function A1(a){return!!a&&"nullValue"in a}function S1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mh(a){return!!a&&"mapValue"in a}function vf(a){return(a?.mapValue?.fields||{})[jg]?.stringValue===Fg}function vu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Rs(a.mapValue.fields,((n,r)=>t.mapValue.fields[n]=vu(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vu(a.arrayValue.values[n]);return t}return{...a}}function VE(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===xE}const ME={mapValue:{fields:{[jg]:{stringValue:Fg},[Fo]:{arrayValue:{}}}}};function aI(a){return"nullValue"in a?xh:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?qg(Es.empty(),yt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?vf(a)?ME:{mapValue:{}}:Et(35942,{value:a})}function sI(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?qg(Es.empty(),yt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?ME:"mapValue"in a?vf(a)?{mapValue:{}}:pa:Et(61959,{value:a})}function w1(a,t){const n=Aa(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function I1(a,t){const n=Aa(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Mh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vu(n)}setAll(t){let n=xe.emptyPath(),r={},s=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=vu(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,s)}delete(t){const n=this.field(t.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return or(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Mh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Rs(n,((s,l)=>t[s]=l));for(const s of r)delete t[s]}clone(){return new qn(vu(this.value))}}function NE(a){const t=[];return Rs(a.fields,((n,r)=>{const s=new xe([n]);if(Mh(r)){const l=NE(r.mapValue).fields;if(l.length===0)t.push(s);else for(const c of l)t.push(s.child(c))}else t.push(s)})),new yi(t)}class Ne{constructor(t,n,r,s,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Ne(t,0,Rt.min(),Rt.min(),Rt.min(),qn.empty(),0)}static newFoundDocument(t,n,r,s){return new Ne(t,1,n,Rt.min(),r,s,0)}static newNoDocument(t,n){return new Ne(t,2,n,Rt.min(),Rt.min(),qn.empty(),0)}static newUnknownDocument(t,n){return new Ne(t,3,n,Rt.min(),Rt.min(),qn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ne&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ho{constructor(t,n){this.position=t,this.inclusive=n}}function R1(a,t,n){let r=0;for(let s=0;s<a.position.length;s++){const l=t[s],c=a.position[s];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=Aa(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function D1(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!or(a.position[n],t.position[n]))return!1;return!0}class Xh{constructor(t,n="asc"){this.field=t,this.dir=n}}function oI(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class OE{}class Gt extends OE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new lI(t,n,r):n==="array-contains"?new hI(t,r):n==="in"?new BE(t,r):n==="not-in"?new fI(t,r):n==="array-contains-any"?new dI(t,r):new Gt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new uI(t,r):new cI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Aa(n,this.value)):n!==null&&ba(this.value)===ba(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ye extends OE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ye(t,n)}matches(t){return Go(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Go(a){return a.op==="and"}function hg(a){return a.op==="or"}function Hg(a){return PE(a)&&Go(a)}function PE(a){for(const t of a.filters)if(t instanceof ye)return!1;return!0}function fg(a){if(a instanceof Gt)return a.field.canonicalString()+a.op.toString()+qo(a.value);if(Hg(a))return a.filters.map((t=>fg(t))).join(",");{const t=a.filters.map((n=>fg(n))).join(",");return`${a.op}(${t})`}}function UE(a,t){return a instanceof Gt?(function(r,s){return s instanceof Gt&&r.op===s.op&&r.field.isEqual(s.field)&&or(r.value,s.value)})(a,t):a instanceof ye?(function(r,s){return s instanceof ye&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((l,c,d)=>l&&UE(c,s.filters[d])),!0):!1})(a,t):void Et(19439)}function zE(a,t){const n=a.filters.concat(t);return ye.create(n,a.op)}function LE(a){return a instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`})(a):a instanceof ye?(function(n){return n.op.toString()+" {"+n.getFilters().map(LE).join(" ,")+"}"})(a):"Filter"}class lI extends Gt{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class uI extends Gt{constructor(t,n){super(t,"in",n),this.keys=kE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class cI extends Gt{constructor(t,n){super(t,"not-in",n),this.keys=kE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function kE(a,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class hI extends Gt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ou(n)&&Nu(n.arrayValue,this.value)}}class BE extends Gt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class fI extends Gt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nu(this.value.arrayValue,n)}}class dI extends Gt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ou(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nu(this.value.arrayValue,r)))}}class mI{constructor(t,n=null,r=[],s=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function dg(a,t=null,n=[],r=[],s=null,l=null,c=null){return new mI(a,t,n,r,s,l,c)}function Ts(a){const t=Vt(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>fg(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),mf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>qo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>qo(r))).join(",")),t.Te=n}return t.Te}function Fu(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!oI(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!UE(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!D1(a.startAt,t.startAt)&&D1(a.endAt,t.endAt)}function Zh(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Wh(a,t){return a.filters.filter((n=>n instanceof Gt&&n.field.isEqual(t)))}function C1(a,t,n){let r=xh,s=!0;for(const l of Wh(a,t)){let c=xh,d=!0;switch(l.op){case"<":case"<=":c=aI(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=xh}w1({value:r,inclusive:s},{value:c,inclusive:d})<0&&(r=c,s=d)}if(n!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=n.position[l];w1({value:r,inclusive:s},{value:c,inclusive:n.inclusive})<0&&(r=c,s=n.inclusive);break}}return{value:r,inclusive:s}}function x1(a,t,n){let r=pa,s=!0;for(const l of Wh(a,t)){let c=pa,d=!0;switch(l.op){case">=":case">":c=sI(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=pa}I1({value:r,inclusive:s},{value:c,inclusive:d})>0&&(r=c,s=d)}if(n!==null){for(let l=0;l<a.orderBy.length;++l)if(a.orderBy[l].field.isEqual(t)){const c=n.position[l];I1({value:r,inclusive:s},{value:c,inclusive:n.inclusive})>0&&(r=c,s=n.inclusive);break}}return{value:r,inclusive:s}}class Ef{constructor(t,n=null,r=[],s=[],l=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gI(a,t,n,r,s,l,c,d){return new Ef(a,t,n,r,s,l,c,d)}function Tf(a){return new Ef(a)}function V1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function pI(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function yI(a){return a.collectionGroup!==null}function Eu(a){const t=Vt(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ue(xe.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Xh(l,r))})),n.has(xe.keyField().canonicalString())||t.Ie.push(new Xh(xe.keyField(),r))}return t.Ie}function _i(a){const t=Vt(a);return t.Ee||(t.Ee=_I(t,Eu(a))),t.Ee}function _I(a,t){if(a.limitType==="F")return dg(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new Xh(s.field,l)}));const n=a.endAt?new Ho(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Ho(a.startAt.position,a.startAt.inclusive):null;return dg(a.path,a.collectionGroup,t,a.filters,a.limit,n,r)}}function mg(a,t,n){return new Ef(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function bf(a,t){return Fu(_i(a),_i(t))&&a.limitType===t.limitType}function jE(a){return`${Ts(_i(a))}|lt:${a.limitType}`}function Ro(a){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>LE(s))).join(", ")}]`),mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>qo(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>qo(s))).join(",")),`Target(${r})`})(_i(a))}; limitType=${a.limitType})`}function qu(a,t){return t.isFoundDocument()&&(function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(a,t)&&(function(r,s){for(const l of Eu(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(a,t)&&(function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0})(a,t)&&(function(r,s){return!(r.startAt&&!(function(c,d,g){const p=R1(c,d,g);return c.inclusive?p<=0:p<0})(r.startAt,Eu(r),s)||r.endAt&&!(function(c,d,g){const p=R1(c,d,g);return c.inclusive?p>=0:p>0})(r.endAt,Eu(r),s))})(a,t)}function vI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function FE(a){return(t,n)=>{let r=!1;for(const s of Eu(a)){const l=EI(s,t,n);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function EI(a,t,n){const r=a.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?Aa(g,p):Et(42886)})(a.field,t,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:a.dir})}}class Nr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return void(s[l]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Rs(this.inner,((n,r)=>{for(const[s,l]of r)t(s,l)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const TI=new Ce(yt.comparator);function ti(){return TI}const qE=new Ce(yt.comparator);function cu(...a){let t=qE;for(const n of a)t=t.insert(n.key,n);return t}function HE(a){let t=qE;return a.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function ir(){return Tu()}function GE(){return Tu()}function Tu(){return new Nr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const bI=new Ce(yt.comparator),AI=new ue(yt.comparator);function zt(...a){let t=AI;for(const n of a)t=t.add(n);return t}const SI=new ue(xt);function wI(){return SI}function Gg(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(t)?"-0":t}}function QE(a){return{integerValue:""+a}}function II(a,t){return Cw(t)?QE(t):Gg(a,t)}class Af{constructor(){this._=void 0}}function RI(a,t,n){return a instanceof Pu?(function(s,l){const c={fields:{[RE]:{stringValue:IE},[CE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Bg(l)&&(l=_f(l)),l&&(c.fields[DE]=l),{mapValue:c}})(n,t):a instanceof Qo?KE(a,t):a instanceof Yo?XE(a,t):(function(s,l){const c=YE(s,l),d=M1(c)+M1(s.Ae);return cg(c)&&cg(s.Ae)?QE(d):Gg(s.serializer,d)})(a,t)}function DI(a,t,n){return a instanceof Qo?KE(a,t):a instanceof Yo?XE(a,t):n}function YE(a,t){return a instanceof Uu?(function(r){return cg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class Pu extends Af{}class Qo extends Af{constructor(t){super(),this.elements=t}}function KE(a,t){const n=ZE(t);for(const r of a.elements)n.some((s=>or(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Yo extends Af{constructor(t){super(),this.elements=t}}function XE(a,t){let n=ZE(t);for(const r of a.elements)n=n.filter((s=>!or(s,r)));return{arrayValue:{values:n}}}class Uu extends Af{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function M1(a){return De(a.integerValue||a.doubleValue)}function ZE(a){return Ou(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class CI{constructor(t,n){this.field=t,this.transform=n}}function xI(a,t){return a.field.isEqual(t.field)&&(function(r,s){return r instanceof Qo&&s instanceof Qo||r instanceof Yo&&s instanceof Yo?zo(r.elements,s.elements,or):r instanceof Uu&&s instanceof Uu?or(r.Ae,s.Ae):r instanceof Pu&&s instanceof Pu})(a.transform,t.transform)}class VI{constructor(t,n){this.version=t,this.transformResults=n}}class Vn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nh(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Sf{}function WE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new wf(a.key,Vn.none()):new Jo(a.key,a.data,Vn.none());{const n=a.data,r=qn.empty();let s=new ue(xe.comparator);for(let l of t.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),s=s.add(l)}return new Ra(a.key,r,new yi(s.toArray()),Vn.none())}}function MI(a,t,n){a instanceof Jo?(function(s,l,c){const d=s.value.clone(),g=O1(s.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,t,n):a instanceof Ra?(function(s,l,c){if(!Nh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=O1(s.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(JE(s)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(a,t,n):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function bu(a,t,n,r){return a instanceof Jo?(function(l,c,d,g){if(!Nh(l.precondition,c))return d;const p=l.value.clone(),y=P1(l.fieldTransforms,g,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(a,t,n,r):a instanceof Ra?(function(l,c,d,g){if(!Nh(l.precondition,c))return d;const p=P1(l.fieldTransforms,g,c),y=c.data;return y.setAll(JE(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(a,t,n,r):(function(l,c,d){return Nh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(a,t,n)}function NI(a,t){let n=null;for(const r of a.fieldTransforms){const s=t.data.field(r.field),l=YE(r.transform,s||null);l!=null&&(n===null&&(n=qn.empty()),n.set(r.field,l))}return n||null}function N1(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zo(r,s,((l,c)=>xI(l,c)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Jo extends Sf{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ra extends Sf{constructor(t,n,r,s,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JE(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=a.data.field(n);t.set(n,r)}})),t}function O1(a,t,n){const r=new Map;St(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let s=0;s<n.length;s++){const l=a[s],c=l.transform,d=t.data.field(l.field);r.set(l.field,DI(c,d,n[s]))}return r}function P1(a,t,n){const r=new Map;for(const s of a){const l=s.transform,c=n.data.field(s.field);r.set(s.field,RI(l,c,t))}return r}class wf extends Sf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $E extends Sf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qg{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(t.key)&&MI(l,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=bu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=bu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=GE();return this.mutations.forEach((s=>{const l=t.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const g=WE(c,d);g!==null&&r.set(s.key,g),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&zo(this.mutations,t.mutations,((n,r)=>N1(n,r)))&&zo(this.baseMutations,t.baseMutations,((n,r)=>N1(n,r)))}}class Yg{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){St(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return bI})();const l=t.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,r[c].version);return new Yg(t,n,r,s)}}class Kg{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Xe,Qt;function PI(a){switch(a){case dt.OK:return Et(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function tT(a){if(a===void 0)return xn("GRPC error has no .code"),dt.UNKNOWN;switch(a){case Xe.OK:return dt.OK;case Xe.CANCELLED:return dt.CANCELLED;case Xe.UNKNOWN:return dt.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return dt.INTERNAL;case Xe.UNAVAILABLE:return dt.UNAVAILABLE;case Xe.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Xe.NOT_FOUND:return dt.NOT_FOUND;case Xe.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Xe.ABORTED:return dt.ABORTED;case Xe.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Xe.DATA_LOSS:return dt.DATA_LOSS;default:return Et(39323,{code:a})}}(Qt=Xe||(Xe={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function UI(){return new TextEncoder}const zI=new va([4294967295,4294967295],0);function U1(a){const t=UI().encode(a),n=new $v;return n.update(t),new Uint8Array(n.digest())}function z1(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new va([n,r],0),new va([s,l],0)]}class Xg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=va.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(va.fromNumber(r)));return s.compare(zI)===1&&(s=new va([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=U1(t),[r,s]=z1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,s,l);if(!this.we(c))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Xg(l,s,n);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=U1(t),[r,s]=z1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,s,l);this.be(c)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class If{constructor(t,n,r,s,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Hu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new If(Rt.min(),s,new Ce(xt),ti(),zt())}}class Hu{constructor(t,n,r,s,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Hu(r,n,zt(),zt(),zt())}}class Oh{constructor(t,n,r,s){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=s}}class eT{constructor(t,n){this.targetId=t,this.Ce=n}}class nT{constructor(t,n,r=We.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class L1{constructor(){this.ve=0,this.Fe=k1(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),r=zt();return this.Fe.forEach(((s,l)=>{switch(l){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Et(38017,{changeType:l})}})),new Hu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=k1()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class LI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ti(),this.He=Eh(),this.Je=Eh(),this.Ze=new Ce(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const l=s.target;if(Zh(l))if(r===0){const c=new yt(l.path);this.et(n,c,Ne.newNoDocument(c,Rt.min()))}else St(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(t),g=d?this.ct(d,t,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=n;let c,d;try{c=Vr(r).toUint8Array()}catch(g){if(g instanceof wE)return vs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Xg(c,s,l)}catch(g){return vs(g instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Zh(d.target)){const g=new yt(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,Ne.newNoDocument(g,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let r=zt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const s=new If(t,n,this.Ze,this.je,r);return this.je=ti(),this.He=Eh(),this.Je=Eh(),this.Ze=new Ce(xt),s}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new L1,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new ue(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new ue(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new L1),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Eh(){return new Ce(yt.comparator)}function k1(){return new Ce(yt.comparator)}const kI={asc:"ASCENDING",desc:"DESCENDING"},BI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class FI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function gg(a,t){return a.useProto3Json||mf(t)?t:{value:t}}function Ko(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function qI(a,t){return Ko(a,t.toTimestamp())}function Mn(a){return St(!!a,49232),Rt.fromTimestamp((function(n){const r=xr(n);return new le(r.seconds,r.nanos)})(a))}function Zg(a,t){return pg(a,t).canonicalString()}function pg(a,t){const n=(function(s){return new ee(["projects",s.projectId,"databases",s.database])})(a).child("documents");return t===void 0?n:n.child(t)}function rT(a){const t=ee.fromString(a);return St(dT(t),10190,{key:t.toString()}),t}function Jh(a,t){return Zg(a.databaseId,t.path)}function gs(a,t){const n=rT(t);if(n.get(1)!==a.databaseId.projectId)throw new _t(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new _t(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new yt(oT(n))}function aT(a,t){return Zg(a.databaseId,t)}function sT(a){const t=rT(a);return t.length===4?ee.emptyPath():oT(t)}function yg(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function oT(a){return St(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function B1(a,t,n){return{name:Jh(a,t),fields:n.value.mapValue.fields}}function HI(a,t,n){const r=gs(a,t.name),s=Mn(t.updateTime),l=t.createTime?Mn(t.createTime):Rt.min(),c=new qn({mapValue:{fields:t.fields}}),d=Ne.newFoundDocument(r,s,l,c);return n&&d.setHasCommittedMutations(),n?d.setHasCommittedMutations():d}function GI(a,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(St(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(St(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))})(a,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?dt.UNKNOWN:tT(p.code);return new _t(y,p.message||"")})(c);n=new nT(r,s,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=gs(a,r.document.name),l=Mn(r.document.updateTime),c=r.document.createTime?Mn(r.document.createTime):Rt.min(),d=new qn({mapValue:{fields:r.document.fields}}),g=Ne.newFoundDocument(s,l,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Oh(p,y,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=gs(a,r.document),l=r.readTime?Mn(r.readTime):Rt.min(),c=Ne.newNoDocument(s,l),d=r.removedTargetIds||[];n=new Oh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=gs(a,r.document),l=r.removedTargetIds||[];n=new Oh([],l,s,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,c=new OI(s,l),d=r.targetId;n=new eT(d,c)}}return n}function $h(a,t){let n;if(t instanceof Jo)n={update:B1(a,t.key,t.value)};else if(t instanceof wf)n={delete:Jh(a,t.key)};else if(t instanceof Ra)n={update:B1(a,t.key,t.data),updateMask:WI(t.fieldMask)};else{if(!(t instanceof $E))return Et(16599,{dt:t.type});n={verify:Jh(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:qI(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(a,t.precondition)),n}function _g(a,t){const n=t.currentDocument?(function(l){return l.updateTime!==void 0?Vn.updateTime(Mn(l.updateTime)):l.exists!==void 0?Vn.exists(l.exists):Vn.none()})(t.currentDocument):Vn.none(),r=t.updateTransforms?t.updateTransforms.map((s=>(function(c,d){let g=null;if("setToServerValue"in d)St(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),g=new Pu;else if("appendMissingElements"in d){const y=d.appendMissingElements.values||[];g=new Qo(y)}else if("removeAllFromArray"in d){const y=d.removeAllFromArray.values||[];g=new Yo(y)}else"increment"in d?g=new Uu(c,d.increment):Et(16584,{proto:d});const p=xe.fromServerFormat(d.fieldPath);return new CI(p,g)})(a,s))):[];if(t.update){t.update.name;const s=gs(a,t.update.name),l=new qn({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new yi(p.map((y=>xe.fromServerFormat(y))))})(t.updateMask);return new Ra(s,l,c,n,r)}return new Jo(s,l,n,r)}if(t.delete){const s=gs(a,t.delete);return new wf(s,n)}if(t.verify){const s=gs(a,t.verify);return new $E(s,n)}return Et(1463,{proto:t})}function QI(a,t){return a&&a.length>0?(St(t!==void 0,14353),a.map((n=>(function(s,l){let c=s.updateTime?Mn(s.updateTime):Mn(l);return c.isEqual(Rt.min())&&(c=Mn(l)),new VI(c,s.transformResults||[])})(n,t)))):[]}function lT(a,t){return{documents:[aT(a,t.path)]}}function uT(a,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aT(a,s);const l=(function(p){if(p.length!==0)return fT(ye.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Do(E.field),direction:KI(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=gg(a,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:s}}function cT(a){let t=sT(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=hT(_);return E instanceof ye&&Hg(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(O){return new Xh(Co(O.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,mf(E)?null:E})(n.limit));let g=null;n.startAt&&(g=(function(_){const E=!!_.before,w=_.values||[];return new Ho(w,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,w=_.values||[];return new Ho(w,E)})(n.endAt)),gI(t,s,c,l,d,"F",g,p)}function YI(a,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hT(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Co(n.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(n.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(n.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Gt.create(Co(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return ye.create(n.compositeFilter.filters.map((r=>hT(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(a):Et(30097,{filter:a})}function KI(a){return kI[a]}function XI(a){return BI[a]}function ZI(a){return jI[a]}function Do(a){return{fieldPath:a.canonicalString()}}function Co(a){return xe.fromServerFormat(a.fieldPath)}function fT(a){return a instanceof Gt?(function(n){if(n.op==="=="){if(S1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(A1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(A1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:XI(n.op),value:n.value}}})(a):a instanceof ye?(function(n){const r=n.getFilters().map((s=>fT(s)));return r.length===1?r[0]:{compositeFilter:{op:ZI(n.op),filters:r}}})(a):Et(54877,{filter:a})}function WI(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function dT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function mT(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Dr{constructor(t,n,r,s,l=Rt.min(),c=Rt.min(),d=We.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gT{constructor(t){this.yt=t}}function JI(a,t){let n;if(t.document)n=HI(a.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=yt.fromSegments(t.noDocument.path),s=As(t.noDocument.readTime);n=Ne.newNoDocument(r,s),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Et(56709);{const r=yt.fromSegments(t.unknownDocument.path),s=As(t.unknownDocument.version);n=Ne.newUnknownDocument(r,s)}}return t.readTime&&n.setReadTime((function(s){const l=new le(s[0],s[1]);return Rt.fromTimestamp(l)})(t.readTime)),n}function j1(a,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(l,c){return{name:Jh(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Ko(l,c.version.toTimestamp()),createTime:Ko(l,c.createTime.toTimestamp())}})(a.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bs(t.version)};else{if(!t.isUnknownDocument())return Et(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:bs(t.version)}}return r}function tf(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function bs(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function As(a){const t=new le(a.seconds,a.nanoseconds);return Rt.fromTimestamp(t)}function ls(a,t){const n=(t.baseMutations||[]).map((l=>_g(a.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const r=t.mutations.map((l=>_g(a.yt,l))),s=le.fromMillis(t.localWriteTimeMs);return new Qg(t.batchId,s,n,r)}function fu(a){const t=As(a.readTime),n=a.lastLimboFreeSnapshotVersion!==void 0?As(a.lastLimboFreeSnapshotVersion):Rt.min();let r;return r=(function(l){return l.documents!==void 0})(a.query)?(function(l){const c=l.documents.length;return St(c===1,1966,{count:c}),_i(Tf(sT(l.documents[0])))})(a.query):(function(l){return _i(cT(l))})(a.query),new Dr(r,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,n,We.fromBase64String(a.resumeToken))}function pT(a,t){const n=bs(t.snapshotVersion),r=bs(t.lastLimboFreeSnapshotVersion);let s;s=Zh(t.target)?lT(a.yt,t.target):uT(a.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ts(t.target),readTime:n,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function yT(a){const t=cT({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?mg(t,t.limit,"L"):t}function qm(a,t){return new Kg(t.largestBatchId,_g(a.yt,t.overlayMutation))}function F1(a,t){const n=t.path.lastSegment();return[a,Rn(t.path.popLast()),n]}function q1(a,t,n,r){return{indexId:a,uid:t,sequenceNumber:n,readTime:bs(r.readTime),documentKey:Rn(r.documentKey.path),largestBatchId:r.largestBatchId}}class $I{getBundleMetadata(t,n){return H1(t).get(n).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:As(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(t,n){return H1(t).put((function(s){return{bundleId:s.id,createTime:bs(Mn(s.createTime)),version:s.version}})(n))}getNamedQuery(t,n){return G1(t).get(n).next((r=>{if(r)return(function(l){return{name:l.name,query:yT(l.bundledQuery),readTime:As(l.readTime)}})(r)}))}saveNamedQuery(t,n){return G1(t).put((function(s){return{name:s.name,readTime:bs(Mn(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function H1(a){return en(a,gf)}function G1(a){return en(a,pf)}class Rf{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const r=n.uid||"";return new Rf(t,r)}getOverlay(t,n){return nu(t).get(F1(this.userId,n)).next((r=>r?qm(this.serializer,r):null))}getOverlays(t,n){const r=ir();return X.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&r.set(s,l)})))).next((()=>r))}saveOverlays(t,n,r){const s=[];return r.forEach(((l,c)=>{const d=new Kg(n,c);s.push(this.bt(t,d))})),X.waitFor(s)}removeOverlaysForBatchId(t,n,r){const s=new Set;n.forEach((c=>s.add(Rn(c.getCollectionPath()))));const l=[];return s.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(nu(t).X(og,d))})),X.waitFor(l)}getOverlaysForCollection(t,n,r){const s=ir(),l=Rn(n),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return nu(t).H(og,c).next((d=>{for(const g of d){const p=qm(this.serializer,g);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(t,n,r,s){const l=ir();let c;const d=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return nu(t).ee({index:vE,range:d},((g,p,y)=>{const _=qm(this.serializer,p);l.size()<s||_.largestBatchId===c?(l.set(_.getKey(),_),c=_.largestBatchId):y.done()})).next((()=>l))}bt(t,n){return nu(t).put((function(s,l,c){const[d,g,p]=F1(l,c.mutation.key);return{userId:l,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:$h(s.yt,c.mutation)}})(this.serializer,this.userId,n))}}function nu(a){return en(a,yf)}class tR{St(t){return en(t,Lg)}getSessionToken(t){return this.St(t).get("sessionToken").next((n=>{const r=n?.value;return r?We.fromUint8Array(r):We.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.St(t).put({name:"sessionToken",value:n.toUint8Array()})}}class us{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(De(t.integerValue));else if("doubleValue"in t){const r=De(t.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Du(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=xr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(Vr(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in t?VE(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):vf(t)?this.kt(t.mapValue,n):(this.Kt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.qt(t.arrayValue,n),this.Nt(n)):Et(19022,{Ut:t})}Ot(t,n){this.Ft(n,25),this.$t(t,n)}$t(t,n){n.xt(t)}Kt(t,n){const r=t.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(t,n){const r=t.fields||{};this.Ft(n,53);const s=Fo,l=r[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(De(l)),this.Ot(s,n),this.Ct(r[s],n)}qt(t,n){const r=t.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(t,n){this.Ft(n,37),yt.fromName(t).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}us.Wt=new us;const To=255;function eR(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function Q1(a){const t=64-(function(r){let s=0;for(let l=0;l<8;++l){const c=eR(255&r[l]);if(s+=c,c!==8)break}return s})(a);return Math.ceil(t/8)}class nR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const s=n.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(t){const n=this.en(t),r=Q1(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(t){const n=this.en(t),r=Q1(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(To),this.sn(255)}_n(){this.an(To),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===To?(this.sn(To),this.sn(0)):this.sn(n)}Ht(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===To?(this.an(To),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class iR{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class rR{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class iu{constructor(){this.cn=new nR,this.ascending=new iR(this.cn),this.descending=new rR(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class cs{constructor(t,n,r,s){this.hn=t,this.Pn=n,this.Tn=r,this.In=s}En(){const t=this.In.length,n=t===0||this.In[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.In,0),n!==t?r.set([0],this.In.length):++r[r.length-1],new cs(this.hn,this.Pn,this.Tn,r)}Rn(t,n,r){return{indexId:this.hn,uid:t,arrayValue:Ph(this.Tn),directionalValue:Ph(this.In),orderedDocumentKey:Ph(n),documentKey:r.path.toArray()}}An(t,n,r){const s=this.Rn(t,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ha(a,t){let n=a.hn-t.hn;return n!==0?n:(n=Y1(a.Tn,t.Tn),n!==0?n:(n=Y1(a.In,t.In),n!==0?n:yt.comparator(a.Pn,t.Pn)))}function Y1(a,t){for(let n=0;n<a.length&&n<t.length;++n){const r=a[n]-t[n];if(r!==0)return r}return a.length-t.length}function Ph(a){return Hv()?(function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r})(a):a}function K1(a){return typeof a!="string"?a:(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(a)}class X1{constructor(t){this.Vn=new ue(((n,r)=>xe.comparator(n.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const n of t.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(t){if(St(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=rg(t);if(n!==void 0&&!this.pn(n))return!1;const r=rs(t);let s=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)s=s.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!s.has(d.field.canonicalString())){const g=r[l];if(!this.yn(d,g)||!this.wn(this.dn[c++],g))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let t=new ue(xe.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Rh(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new Rh(r.field,0))}for(const r of this.dn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new Rh(r.field,r.dir==="asc"?0:1)));return new Hh(Hh.UNKNOWN_ID,this.collectionId,n,Ru.empty())}pn(t){for(const n of this.mn)if(this.yn(n,t))return!0;return!1}yn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}wn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}function _T(a){if(St(a instanceof Gt||a instanceof ye,20012),a instanceof Gt){if(a instanceof BE){const n=a.value.arrayValue?.values?.map((r=>Gt.create(a.field,"==",r)))||[];return ye.create(n,"or")}return a}const t=a.filters.map((n=>_T(n)));return ye.create(t,a.op)}function aR(a){if(a.getFilters().length===0)return[];const t=Tg(_T(a));return St(vT(t),7391),vg(t)||Eg(t)?[t]:t.getFilters()}function vg(a){return a instanceof Gt}function Eg(a){return a instanceof ye&&Hg(a)}function vT(a){return vg(a)||Eg(a)||(function(n){if(n instanceof ye&&hg(n)){for(const r of n.getFilters())if(!vg(r)&&!Eg(r))return!1;return!0}return!1})(a)}function Tg(a){if(St(a instanceof Gt||a instanceof ye,34018),a instanceof Gt)return a;if(a.filters.length===1)return Tg(a.filters[0]);const t=a.filters.map((r=>Tg(r)));let n=ye.create(t,a.op);return n=ef(n),vT(n)?n:(St(n instanceof ye,64498),St(Go(n),40251),St(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Wg(r,s))))}function Wg(a,t){let n;return St(a instanceof Gt||a instanceof ye,38388),St(t instanceof Gt||t instanceof ye,25473),n=a instanceof Gt?t instanceof Gt?(function(s,l){return ye.create([s,l],"and")})(a,t):Z1(a,t):t instanceof Gt?Z1(t,a):(function(s,l){if(St(s.filters.length>0&&l.filters.length>0,48005),Go(s)&&Go(l))return zE(s,l.getFilters());const c=hg(s)?s:l,d=hg(s)?l:s,g=c.filters.map((p=>Wg(p,d)));return ye.create(g,"or")})(a,t),ef(n)}function Z1(a,t){if(Go(t))return zE(t,a.getFilters());{const n=t.filters.map((r=>Wg(a,r)));return ye.create(n,"or")}}function ef(a){if(St(a instanceof Gt||a instanceof ye,11850),a instanceof Gt)return a;const t=a.getFilters();if(t.length===1)return ef(t[0]);if(PE(a))return a;const n=t.map((s=>ef(s))),r=[];return n.forEach((s=>{s instanceof Gt?r.push(s):s instanceof ye&&(s.op===a.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:ye.create(r,a.op)}class sR{constructor(){this.Sn=new Jg}addToCollectionParentIndex(t,n){return this.Sn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(ei.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(ei.min())}updateCollectionGroup(t,n,r){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class Jg{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new ue(ee.comparator),l=!s.has(r);return this.index[n]=s.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new ue(ee.comparator)).toArray()}}const W1="IndexedDbIndexManager",Th=new Uint8Array(0);class oR{constructor(t,n){this.databaseId=n,this.Dn=new Jg,this.Cn=new Nr((r=>Ts(r)),((r,s)=>Fu(r,s))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.Dn.has(n)){const r=n.lastSegment(),s=n.popLast();t.addOnCommittedListener((()=>{this.Dn.add(n)}));const l={collectionId:r,parent:Rn(s)};return J1(t).put(l)}return X.resolve()}getCollectionParents(t,n){const r=[],s=IDBKeyRange.bound([n,""],[oE(n),""],!1,!0);return J1(t).H(s).next((l=>{for(const c of l){if(c.collectionId!==n)break;r.push(nr(c.parent))}return r}))}addFieldIndex(t,n){const r=ru(t),s=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete s.indexId;const l=r.add(s);if(n.indexState){const c=Ao(t);return l.next((d=>{c.put(q1(d,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return l.next()}deleteFieldIndex(t,n){const r=ru(t),s=Ao(t),l=bo(t);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=ru(t),r=bo(t),s=Ao(t);return n.X().next((()=>r.X())).next((()=>s.X()))}createTargetIndexes(t,n){return X.forEach(this.vn(n),(r=>this.getIndexType(t,r).next((s=>{if(s===0||s===1){const l=new X1(r).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,n){const r=bo(t);let s=!0;const l=new Map;return X.forEach(this.vn(n),(c=>this.Fn(t,c).next((d=>{s&&(s=!!d),l.set(c,d)})))).next((()=>{if(s){let c=zt();const d=[];return X.forEach(l,((g,p)=>{mt(W1,`Using index ${(function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map((K=>`${K.fieldPath}:${K.kind}`)).join(",")}`})(g)} to execute ${Ts(n)}`);const y=(function(Q,K){const ut=rg(K);if(ut===void 0)return null;for(const L of Wh(Q,ut.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null})(p,g),_=(function(Q,K){const ut=new Map;for(const L of rs(K))for(const M of Wh(Q,L.fieldPath))switch(M.op){case"==":case"in":ut.set(L.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return ut.set(L.fieldPath.canonicalString(),M.value),Array.from(ut.values())}return null})(p,g),E=(function(Q,K){const ut=[];let L=!0;for(const M of rs(K)){const b=M.kind===0?C1(Q,M.fieldPath,Q.startAt):x1(Q,M.fieldPath,Q.startAt);ut.push(b.value),L&&(L=b.inclusive)}return new Ho(ut,L)})(p,g),w=(function(Q,K){const ut=[];let L=!0;for(const M of rs(K)){const b=M.kind===0?x1(Q,M.fieldPath,Q.endAt):C1(Q,M.fieldPath,Q.endAt);ut.push(b.value),L&&(L=b.inclusive)}return new Ho(ut,L)})(p,g),O=this.Mn(g,p,E),z=this.Mn(g,p,w),j=this.xn(g,p,_),B=this.On(g.indexId,y,O,E.inclusive,z,w.inclusive,j);return X.forEach(B,(rt=>r.Z(rt,n.limit).next((Q=>{Q.forEach((K=>{const ut=yt.fromSegments(K.documentKey);c.has(ut)||(c=c.add(ut),d.push(ut))}))}))))})).next((()=>d))}return X.resolve(null)}))}vn(t){let n=this.Cn.get(t);return n||(t.filters.length===0?n=[t]:n=aR(ye.create(t.filters,"and")).map((r=>dg(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,n),n)}On(t,n,r,s,l,c,d){const g=(n!=null?n.length:1)*Math.max(r.length,l.length),p=g/(n!=null?n.length:1),y=[];for(let _=0;_<g;++_){const E=n?this.Nn(n[_/p]):Th,w=this.Bn(t,E,r[_%p],s),O=this.Ln(t,E,l[_%p],c),z=d.map((j=>this.Bn(t,E,j,!0)));y.push(...this.createRange(w,O,z))}return y}Bn(t,n,r,s){const l=new cs(t,yt.empty(),n,r);return s?l:l.En()}Ln(t,n,r,s){const l=new cs(t,yt.empty(),n,r);return s?l.En():l}Fn(t,n){const r=new X1(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,s).next((l=>{let c=null;for(const d of l)r.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(t,n){let r=2;const s=this.vn(n);return X.forEach(s,(l=>this.Fn(t,l).next((c=>{c?r!==0&&c.fields.length<(function(g){let p=new ue(xe.comparator),y=!1;for(const _ of g.filters)for(const E of _.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const _ of g.orderBy)_.field.isKeyField()||(p=p.add(_.field));return p.size+(y?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&s.length>1&&r===2?1:r))}kn(t,n){const r=new iu;for(const s of rs(t)){const l=n.data.field(s.fieldPath);if(l==null)return null;const c=r.ln(s.kind);us.Wt.Dt(l,c)}return r.un()}Nn(t){const n=new iu;return us.Wt.Dt(t,n.ln(0)),n.un()}Kn(t,n){const r=new iu;return us.Wt.Dt(qg(this.databaseId,n),r.ln((function(l){const c=rs(l);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}xn(t,n,r){if(r===null)return[];let s=[];s.push(new iu);let l=0;for(const c of rs(t)){const d=r[l++];for(const g of s)if(this.qn(n,c.fieldPath)&&Ou(d))s=this.Un(s,c,d);else{const p=g.ln(c.kind);us.Wt.Dt(d,p)}}return this.$n(s)}Mn(t,n,r){return this.xn(t,n,r.position)}$n(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].un();return n}Un(t,n,r){const s=[...t],l=[];for(const c of r.arrayValue.values||[])for(const d of s){const g=new iu;g.seed(d.un()),us.Wt.Dt(c,g.ln(n.kind)),l.push(g)}return l}qn(t,n){return!!t.filters.find((r=>r instanceof Gt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,n){const r=ru(t),s=Ao(t);return(n?r.H(sg,IDBKeyRange.bound(n,n)):r.H()).next((l=>{const c=[];return X.forEach(l,(d=>s.get([d.indexId,this.uid]).next((g=>{c.push((function(y,_){const E=_?new Ru(_.sequenceNumber,new ei(As(_.readTime),new yt(nr(_.documentKey)),_.largestBatchId)):Ru.empty(),w=y.fields.map((([O,z])=>new Rh(xe.fromServerFormat(O),z)));return new Hh(y.indexId,y.collectionGroup,w,E)})(d,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((r,s)=>{const l=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return l!==0?l:xt(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,r){const s=ru(t),l=Ao(t);return this.Wn(t).next((c=>s.H(sg,IDBKeyRange.bound(n,n)).next((d=>X.forEach(d,(g=>l.put(q1(g.indexId,this.uid,c,r))))))))}updateIndexEntries(t,n){const r=new Map;return X.forEach(n,((s,l)=>{const c=r.get(s.collectionGroup);return(c?X.resolve(c):this.getFieldIndexes(t,s.collectionGroup)).next((d=>(r.set(s.collectionGroup,d),X.forEach(d,(g=>this.Qn(t,s,g).next((p=>{const y=this.Gn(l,g);return p.isEqual(y)?X.resolve():this.zn(t,l,g,p,y)})))))))}))}jn(t,n,r,s){return bo(t).put(s.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(t,n,r,s){return bo(t).delete(s.An(this.uid,this.Kn(r,n.key),n.key))}Qn(t,n,r){const s=bo(t);let l=new ue(ha);return s.ee({index:_E,range:IDBKeyRange.only([r.indexId,this.uid,Ph(this.Kn(r,n))])},((c,d)=>{l=l.add(new cs(r.indexId,n,K1(d.arrayValue),K1(d.directionalValue)))})).next((()=>l))}Gn(t,n){let r=new ue(ha);const s=this.kn(n,t);if(s==null)return r;const l=rg(n);if(l!=null){const c=t.data.field(l.fieldPath);if(Ou(c))for(const d of c.arrayValue.values||[])r=r.add(new cs(n.indexId,t.key,this.Nn(d),s))}else r=r.add(new cs(n.indexId,t.key,Th,s));return r}zn(t,n,r,s,l){mt(W1,"Updating index entries for document '%s'",n.key);const c=[];return(function(g,p,y,_,E){const w=g.getIterator(),O=p.getIterator();let z=Eo(w),j=Eo(O);for(;z||j;){let B=!1,rt=!1;if(z&&j){const Q=y(z,j);Q<0?rt=!0:Q>0&&(B=!0)}else z!=null?rt=!0:B=!0;B?(_(j),j=Eo(O)):rt?(E(z),z=Eo(w)):(z=Eo(w),j=Eo(O))}})(s,l,ha,(d=>{c.push(this.jn(t,n,r,d))}),(d=>{c.push(this.Hn(t,n,r,d))})),X.waitFor(c)}Wn(t){let n=1;return Ao(t).ee({index:yE,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,l)=>{l.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(t,n,r){r=r.sort(((c,d)=>ha(c,d))).filter(((c,d,g)=>!d||ha(c,g[d-1])!==0));const s=[];s.push(t);for(const c of r){const d=ha(c,t),g=ha(c,n);if(d===0)s[0]=t.En();else if(d>0&&g<0)s.push(c),s.push(c.En());else if(g>0)break}s.push(n);const l=[];for(let c=0;c<s.length;c+=2){if(this.Jn(s[c],s[c+1]))return[];const d=s[c].An(this.uid,Th,yt.empty()),g=s[c+1].An(this.uid,Th,yt.empty());l.push(IDBKeyRange.bound(d,g))}return l}Jn(t,n){return ha(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next($1)}getMinOffset(t,n){return X.mapArray(this.vn(n),(r=>this.Fn(t,r).next((s=>s||Et(44426))))).next($1)}}function J1(a){return en(a,Vu)}function bo(a){return en(a,_u)}function ru(a){return en(a,zg)}function Ao(a){return en(a,yu)}function $1(a){St(a.length!==0,28825);let t=a[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<a.length;r++){const s=a[r].indexState.offset;Og(s,t)<0&&(t=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new ei(t.readTime,t.documentKey,n)}const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function TT(a,t,n){const r=a.store(Vi),s=a.store(Lo),l=[],c=IDBKeyRange.only(n.batchId);let d=0;const g=r.ee({range:c},((y,_,E)=>(d++,E.delete())));l.push(g.next((()=>{St(d===1,47070,{batchId:n.batchId})})));const p=[];for(const y of n.mutations){const _=mE(t,y.key.path,n.batchId);l.push(s.delete(_)),p.push(y.key)}return X.waitFor(l).next((()=>p))}function nf(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw Et(14731);t=a.noDocument}return JSON.stringify(t).length}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(ET,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Df{constructor(t,n,r,s){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static wt(t,n,r,s){St(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Df(l,n,r,s)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fa(t).ee({index:hs,range:r},((s,l,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(t,n,r,s){const l=xo(t),c=fa(t);return c.add({}).next((d=>{St(typeof d=="number",49019);const g=new Qg(d,n,r,s),p=(function(w,O,z){const j=z.baseMutations.map((rt=>$h(w.yt,rt))),B=z.mutations.map((rt=>$h(w.yt,rt)));return{userId:O,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:j,mutations:B}})(this.serializer,this.userId,g),y=[];let _=new ue(((E,w)=>xt(E.canonicalString(),w.canonicalString())));for(const E of s){const w=mE(this.userId,E.key.path,d);_=_.add(E.key.path.popLast()),y.push(c.put(p)),y.push(l.put(w,Mw))}return _.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[d]=g.keys()})),X.waitFor(y).next((()=>g))}))}lookupMutationBatch(t,n){return fa(t).get(n).next((r=>r?(St(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ls(this.serializer,r)):null))}Xn(t,n){return this.Zn[n]?X.resolve(this.Zn[n]):this.lookupMutationBatch(t,n).next((r=>{if(r){const s=r.keys();return this.Zn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return fa(t).ee({index:hs,range:s},((c,d,g)=>{d.userId===this.userId&&(St(d.batchId>=r,47524,{Yn:r}),l=ls(this.serializer,d)),g.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ds;return fa(t).ee({index:hs,range:n,reverse:!0},((s,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,ds],[this.userId,Number.POSITIVE_INFINITY]);return fa(t).H(hs,n).next((r=>r.map((s=>ls(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=Dh(this.userId,n.path),s=IDBKeyRange.lowerBound(r),l=[];return xo(t).ee({range:s},((c,d,g)=>{const[p,y,_]=c,E=nr(y);if(p===this.userId&&n.path.isEqual(E))return fa(t).get(_).next((w=>{if(!w)throw Et(61480,{er:c,batchId:_});St(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:_}),l.push(ls(this.serializer,w))}));g.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ue(xt);const s=[];return n.forEach((l=>{const c=Dh(this.userId,l.path),d=IDBKeyRange.lowerBound(c),g=xo(t).ee({range:d},((p,y,_)=>{const[E,w,O]=p,z=nr(w);E===this.userId&&l.path.isEqual(z)?r=r.add(O):_.done()}));s.push(g)})),X.waitFor(s).next((()=>this.tr(t,r)))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1,l=Dh(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new ue(xt);return xo(t).ee({range:c},((g,p,y)=>{const[_,E,w]=g,O=nr(E);_===this.userId&&r.isPrefixOf(O)?O.length===s&&(d=d.add(w)):y.done()})).next((()=>this.tr(t,d)))}tr(t,n){const r=[],s=[];return n.forEach((l=>{s.push(fa(t).get(l).next((c=>{if(c===null)throw Et(35274,{batchId:l});St(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(ls(this.serializer,c))})))})),X.waitFor(s).next((()=>r))}removeMutationBatch(t,n){return TT(t.le,this.userId,n).next((r=>(t.addOnCommittedListener((()=>{this.nr(n.batchId)})),X.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return X.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),s=[];return xo(t).ee({range:r},((l,c,d)=>{if(l[0]===this.userId){const g=nr(l[1]);s.push(g)}else d.done()})).next((()=>{St(s.length===0,56720,{rr:s.map((l=>l.canonicalString()))})}))}))}containsKey(t,n){return bT(t,this.userId,n)}ir(t){return AT(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ds,lastStreamToken:""}))}}function bT(a,t,n){const r=Dh(t,n.path),s=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return xo(a).ee({range:l,Y:!0},((d,g,p)=>{const[y,_,E]=d;y===t&&_===s&&(c=!0),p.done()})).next((()=>c))}function fa(a){return en(a,Vi)}function xo(a){return en(a,Lo)}function AT(a){return en(a,Cu)}class Ss{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ss(0)}static ar(){return new Ss(-1)}}class lR{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.ur(t).next((n=>{const r=new Ss(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((n=>Rt.fromTimestamp(new le(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,r){return this.ur(t).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.cr(t,s))))}addTargetData(t,n){return this.lr(t,n).next((()=>this.ur(t).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(t,r))))))}updateTargetData(t,n){return this.lr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>So(t).delete(n.targetId))).next((()=>this.ur(t))).next((r=>(St(r.targetCount>0,8065),r.targetCount-=1,this.cr(t,r))))}removeTargets(t,n,r){let s=0;const l=[];return So(t).ee(((c,d)=>{const g=fu(d);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(s++,l.push(this.removeTargetData(t,g)))})).next((()=>X.waitFor(l))).next((()=>s))}forEachTarget(t,n){return So(t).ee(((r,s)=>{const l=fu(s);n(l)}))}ur(t){return ev(t).get(Yh).next((n=>(St(n!==null,2888),n)))}cr(t,n){return ev(t).put(Yh,n)}lr(t,n){return So(t).put(pT(this.serializer,n))}hr(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.ur(t).next((n=>n.targetCount))}getTargetData(t,n){const r=Ts(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return So(t).ee({range:s,index:pE},((c,d,g)=>{const p=fu(d);Fu(n,p.target)&&(l=p,g.done())})).next((()=>l))}addMatchingKeys(t,n,r){const s=[],l=ga(t);return n.forEach((c=>{const d=Rn(c.path);s.push(l.put({targetId:r,path:d})),s.push(this.referenceDelegate.addReference(t,r,c))})),X.waitFor(s)}removeMatchingKeys(t,n,r){const s=ga(t);return X.forEach(n,(l=>{const c=Rn(l.path);return X.waitFor([s.delete([r,c]),this.referenceDelegate.removeReference(t,r,l)])}))}removeMatchingKeysForTargetId(t,n){const r=ga(t),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=ga(t);let l=zt();return s.ee({range:r,Y:!0},((c,d,g)=>{const p=nr(c[1]),y=new yt(p);l=l.add(y)})).next((()=>l))}containsKey(t,n){const r=Rn(n.path),s=IDBKeyRange.bound([r],[oE(r)],!1,!0);let l=0;return ga(t).ee({index:Ug,Y:!0,range:s},(([c,d],g,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(t,n){return So(t).get(n).next((r=>r?fu(r):null))}}function So(a){return en(a,ko)}function ev(a){return en(a,ms)}function ga(a){return en(a,Bo)}const nv="LruGarbageCollector",uR=1048576;function iv([a,t],[n,r]){const s=xt(a,n);return s===0?xt(t,r):s}class cR{constructor(t){this.Pr=t,this.buffer=new ue(iv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ST{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?mt(nv,"Ignoring IndexedDB error during garbage collection: ",n):await Is(n)}await this.Ar(3e5)}))}}class hR{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return X.resolve(pi.ce);const r=new cR(n);return this.Vr.forEachTarget(t,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(t,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(tv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,s,l,c,d,g,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(t,s)))).next((_=>(r=_,d=Date.now(),this.removeTargets(t,r,n)))).next((_=>(l=_,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((_=>(p=Date.now(),Io()<=Yt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${_} documents in `+(p-g)+`ms
Total Duration: ${p-y}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_}))))}}function wT(a,t){return new hR(a,t)}class fR{constructor(t,n){this.db=t,this.garbageCollector=wT(this,n)}dr(t){const n=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}mr(t,n){return this.yr(t,((r,s)=>n(s)))}addReference(t,n,r){return bh(t,r)}removeReference(t,n,r){return bh(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return bh(t,n)}wr(t,n){return(function(s,l){let c=!1;return AT(s).te((d=>bT(s,d,l).next((g=>(g&&(c=!0),X.resolve(!g)))))).next((()=>c))})(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.yr(t,((c,d)=>{if(d<=n){const g=this.wr(t,c).next((p=>{if(!p)return l++,r.getEntry(t,c).next((()=>(r.removeEntry(c,Rt.min()),ga(t).delete((function(_){return[0,Rn(_.path)]})(c)))))}));s.push(g)}})).next((()=>X.waitFor(s))).next((()=>r.apply(t))).next((()=>l))}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return bh(t,n)}yr(t,n){const r=ga(t);let s,l=pi.ce;return r.ee({index:Ug},(([c,d],{path:g,sequenceNumber:p})=>{c===0?(l!==pi.ce&&n(new yt(nr(s)),l),l=p,s=g):l=pi.ce})).next((()=>{l!==pi.ce&&n(new yt(nr(s)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function bh(a,t){return ga(a).put((function(r,s){return{targetId:0,path:Rn(r.path),sequenceNumber:s}})(t,a.currentSequenceNumber))}class IT{constructor(){this.changes=new Nr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ne.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dR{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return ns(t).put(r)}removeEntry(t,n,r){return ns(t).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],tf(c),d[d.length-1]]})(n,r))}updateMetadata(t,n){return this.getMetadata(t).next((r=>(r.byteSize+=n,this.br(t,r))))}getEntry(t,n){let r=Ne.newInvalidDocument(n);return ns(t).ee({index:Ch,range:IDBKeyRange.only(au(n))},((s,l)=>{r=this.Sr(n,l)})).next((()=>r))}Dr(t,n){let r={size:0,document:Ne.newInvalidDocument(n)};return ns(t).ee({index:Ch,range:IDBKeyRange.only(au(n))},((s,l)=>{r={document:this.Sr(n,l),size:nf(l)}})).next((()=>r))}getEntries(t,n){let r=ti();return this.Cr(t,n,((s,l)=>{const c=this.Sr(s,l);r=r.insert(s,c)})).next((()=>r))}vr(t,n){let r=ti(),s=new Ce(yt.comparator);return this.Cr(t,n,((l,c)=>{const d=this.Sr(l,c);r=r.insert(l,d),s=s.insert(l,nf(c))})).next((()=>({documents:r,Fr:s})))}Cr(t,n,r){if(n.isEmpty())return X.resolve();let s=new ue(sv);n.forEach((g=>s=s.add(g)));const l=IDBKeyRange.bound(au(s.first()),au(s.last())),c=s.getIterator();let d=c.getNext();return ns(t).ee({index:Ch,range:l},((g,p,y)=>{const _=yt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&sv(d,_)<0;)r(d,null),d=c.getNext();d&&d.isEqual(_)&&(r(d,p),d=c.hasNext()?c.getNext():null),d?y.j(au(d)):y.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,n,r,s,l){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),tf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ns(t).H(IDBKeyRange.bound(d,g,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=ti();for(const _ of p){const E=this.Sr(yt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);E.isFoundDocument()&&(qu(n,E)||s.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,n,r,s){let l=ti();const c=av(n,r),d=av(n,ei.max());return ns(t).ee({index:gE,range:IDBKeyRange.bound(c,d,!0)},((g,p,y)=>{const _=this.Sr(yt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(_.key,_),l.size===s&&y.done()})).next((()=>l))}newChangeBuffer(t){return new mR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return rv(t).get(ag).next((n=>(St(!!n,20021),n)))}br(t,n){return rv(t).put(ag,n)}Sr(t,n){if(n){const r=JI(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Rt.min())))return r}return Ne.newInvalidDocument(t)}}function RT(a){return new dR(a)}class mR extends IT{constructor(t,n){super(),this.Mr=t,this.trackRemovals=n,this.Or=new Nr((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(t){const n=[];let r=0,s=new ue(((l,c)=>xt(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Or.get(l);if(n.push(this.Mr.removeEntry(t,l,d.readTime)),c.isValidDocument()){const g=j1(this.Mr.serializer,c);s=s.add(l.path.popLast());const p=nf(g);r+=p-d.size,n.push(this.Mr.addEntry(t,l,g))}else if(r-=d.size,this.trackRemovals){const g=j1(this.Mr.serializer,c.convertToNoDocument(Rt.min()));n.push(this.Mr.addEntry(t,l,g))}})),s.forEach((l=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),n.push(this.Mr.updateMetadata(t,r)),X.waitFor(n)}getFromCache(t,n){return this.Mr.Dr(t,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,n){return this.Mr.vr(t,n).next((({documents:r,Fr:s})=>(s.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function rv(a){return en(a,xu)}function ns(a){return en(a,Qh)}function au(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function av(a,t){const n=t.documentKey.path.toArray();return[a,tf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sv(a,t){const n=a.path.toArray(),r=t.path.toArray();let s=0;for(let l=0;l<n.length-2&&l<r.length-2;++l)if(s=xt(n[l],r[l]),s)return s;return s=xt(n.length,r.length),s||(s=xt(n[n.length-2],r[r.length-2]),s||xt(n[n.length-1],r[r.length-1]))}class gR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class DT{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&bu(r.mutation,s,yi.empty(),le.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=zt()){const s=ir();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((l=>{let c=cu();return l.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=ir();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,zt())))}populateOverlays(t,n,r){const s=[];return r.forEach((l=>{n.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(t,s).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,r,s){let l=ti();const c=Tu(),d=(function(){return Tu()})();return n.forEach(((g,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Ra)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),bu(y.mutation,p,y.mutation.getFieldMask(),le.now())):c.set(p.key,yi.empty())})),this.recalculateAndSaveOverlays(t,l).next((g=>(g.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new gR(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const r=Tu();let s=new Ce(((c,d)=>c-d)),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let y=r.get(g)||yi.empty();y=d.applyToLocalView(p,y),r.set(g,y);const _=(s.get(d.batchId)||zt()).add(g);s=s.insert(d.batchId,_)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,y=g.value,_=GE();y.forEach((E=>{if(!l.has(E)){const w=WE(n.get(E),r.get(E));w!==null&&_.set(E,w),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return X.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return pI(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):yI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-l.size):X.resolve(ir());let d=Iu,g=l;return c.next((p=>X.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?X.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{g=g.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,g,p,zt()))).next((y=>({batchId:d,changes:HE(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((r=>{let s=cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const l=n.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(t,l).next((d=>X.forEach(d,(g=>{const p=(function(_,E){return new Ef(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,s).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,s)))).next((c=>{l.forEach(((g,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Ne.newInvalidDocument(y)))}));let d=cu();return c.forEach(((g,p)=>{const y=l.get(g);y!==void 0&&bu(y.mutation,p,yi.empty(),le.now()),qu(n,p)&&(d=d.insert(g,p))})),d}))}}class pR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Mn(s.createTime)}})(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:yT(s.bundledQuery),readTime:Mn(s.readTime)}})(n)),X.resolve()}}class yR{constructor(){this.overlays=new Ce(yt.comparator),this.Lr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ir();return X.forEach(n,(s=>this.getOverlay(t,s).next((l=>{l!==null&&r.set(s,l)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,l)=>{this.bt(t,n,l)})),X.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(t,n,r){const s=ir(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&s.set(g.getKey(),g)}return X.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let l=new Ce(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ir(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ir(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=s)););return X.resolve(d)}bt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Kg(n,r));let l=this.Lr.get(n);l===void 0&&(l=zt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class _R{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}class $g{constructor(){this.kr=new ue(on.Kr),this.qr=new ue(on.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new on(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new on(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new yt(new ee([])),r=new on(n,t),s=new on(n,t+1),l=[];return this.qr.forEachInRange([r,s],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new yt(new ee([])),r=new on(n,t),s=new on(n,t+1);let l=zt();return this.qr.forEachInRange([r,s],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new on(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class on{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return yt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||yt.comparator(t.key,n.key)}}class vR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ue(on.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Qg(l,n,r,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new on(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(t,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Xr(r),l=s<0?0:s;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ds:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,s],(c=>{const d=this.Zr(c.Hr);l.push(d)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ue(xt);return n.forEach((s=>{const l=new on(s,0),c=new on(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{r=r.add(d.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new on(new yt(l),0);let d=new ue(xt);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(g.Hr)),!0)}),c),X.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){St(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(n.mutations,(s=>{const l=new on(s.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new on(n,0),s=this.Jr.firstAfterOrEqual(r);return X.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ER{constructor(t){this.ti=t,this.docs=(function(){return new Ce(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),l=s?s.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Ne.newInvalidDocument(n))}getEntries(t,n){let r=ti();return n.forEach((s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():Ne.newInvalidDocument(s))})),X.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let l=ti();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:y}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Og(cE(y),r)<=0||(s.has(y.key)||qu(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(t,n,r,s){Et(9500)}ni(t,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new TR(this)}getSize(t){return X.resolve(this.size)}}class TR extends IT{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(r)})),X.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class bR{constructor(t){this.persistence=t,this.ri=new Nr((n=>Ts(n)),Fu),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new $g,this.targetCount=0,this.oi=Ss._r()}forEachTarget(t,n){return this.ri.forEach(((r,s)=>n(s))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),X.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Ss(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.lr(n),X.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,r){let s=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),s++)})),X.waitFor(l).next((()=>s))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return X.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),X.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach((c=>{l.push(s.markPotentiallyOrphaned(t,c))})),X.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return X.resolve(r)}containsKey(t,n){return X.resolve(this.si.containsKey(n))}}class tp{constructor(t,n){this._i={},this.overlays={},this.ai=new pi(0),this.ui=!1,this.ui=!0,this.ci=new _R,this.referenceDelegate=t(this),this.li=new bR(this),this.indexManager=new sR,this.remoteDocumentCache=(function(s){return new ER(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new gT(n),this.Pi=new pR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new yR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new vR(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){mt("MemoryPersistence","Starting transaction:",t);const s=new AR(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(t,n){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class AR extends fE{constructor(t){super(),this.currentSequenceNumber=t}}class Cf{constructor(t){this.persistence=t,this.Ri=new $g,this.Ai=null}static Vi(t){return new Cf(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),X.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const s=yt.fromPath(r);return this.mi(t,s).next((l=>{l||n.removeEntry(s,Rt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class rf{constructor(t,n){this.persistence=t,this.fi=new Nr((r=>Rn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=wT(this,n)}static Vi(t,n){return new rf(t,n)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return X.forEach(this.fi,((r,s)=>this.wr(t,r,s).next((l=>l?X.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(r++,l.removeEntry(c,Rt.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Vh(t.data.value)),n}wr(t,n,r){return X.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class SR{constructor(t){this.serializer=t}k(t,n,r,s){const l=new df("createOrUpgrade",n);r<1&&s>=1&&((function(g){g.createObjectStore(ju)})(t),(function(g){g.createObjectStore(Cu,{keyPath:Vw}),g.createObjectStore(Vi,{keyPath:y1,autoIncrement:!0}).createIndex(hs,_1,{unique:!0}),g.createObjectStore(Lo)})(t),ov(t),(function(g){g.createObjectStore(as)})(t));let c=X.resolve();return r<3&&s>=3&&(r!==0&&((function(g){g.deleteObjectStore(Bo),g.deleteObjectStore(ko),g.deleteObjectStore(ms)})(t),ov(t)),c=c.next((()=>(function(g){const p=g.store(ms),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return p.put(Yh,y)})(l)))),r<4&&s>=4&&(r!==0&&(c=c.next((()=>(function(g,p){return p.store(Vi).H().next((_=>{g.deleteObjectStore(Vi),g.createObjectStore(Vi,{keyPath:y1,autoIncrement:!0}).createIndex(hs,_1,{unique:!0});const E=p.store(Vi),w=_.map((O=>E.put(O)));return X.waitFor(w)}))})(t,l)))),c=c.next((()=>{(function(g){g.createObjectStore(jo,{keyPath:Bw})})(t)}))),r<5&&s>=5&&(c=c.next((()=>this.gi(l)))),r<6&&s>=6&&(c=c.next((()=>((function(g){g.createObjectStore(xu)})(t),this.pi(l))))),r<7&&s>=7&&(c=c.next((()=>this.yi(l)))),r<8&&s>=8&&(c=c.next((()=>this.wi(t,l)))),r<9&&s>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&s>=10&&(c=c.next((()=>this.bi(l)))),r<11&&s>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(gf,{keyPath:jw})})(t),(function(g){g.createObjectStore(pf,{keyPath:Fw})})(t)}))),r<12&&s>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(yf,{keyPath:Xw});p.createIndex(og,Zw,{unique:!1}),p.createIndex(vE,Ww,{unique:!1})})(t)}))),r<13&&s>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(Qh,{keyPath:Nw});p.createIndex(Ch,Ow),p.createIndex(gE,Pw)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(as)))),r<14&&s>=14&&(c=c.next((()=>this.Di(t,l)))),r<15&&s>=15&&(c=c.next((()=>(function(g){g.createObjectStore(zg,{keyPath:qw,autoIncrement:!0}).createIndex(sg,Hw,{unique:!1}),g.createObjectStore(yu,{keyPath:Gw}).createIndex(yE,Qw,{unique:!1}),g.createObjectStore(_u,{keyPath:Yw}).createIndex(_E,Kw,{unique:!1})})(t)))),r<16&&s>=16&&(c=c.next((()=>{n.objectStore(yu).clear()})).next((()=>{n.objectStore(_u).clear()}))),r<17&&s>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(Lg,{keyPath:Jw})})(t)}))),r<18&&s>=18&&Hv()&&(c=c.next((()=>{n.objectStore(yu).clear()})).next((()=>{n.objectStore(_u).clear()}))),c}pi(t){let n=0;return t.store(as).ee(((r,s)=>{n+=nf(s)})).next((()=>{const r={byteSize:n};return t.store(xu).put(ag,r)}))}gi(t){const n=t.store(Cu),r=t.store(Vi);return n.H().next((s=>X.forEach(s,(l=>{const c=IDBKeyRange.bound([l.userId,ds],[l.userId,l.lastAcknowledgedBatchId]);return r.H(hs,c).next((d=>X.forEach(d,(g=>{St(g.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=ls(this.serializer,g);return TT(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const n=t.store(Bo),r=t.store(as);return t.store(ms).get(Yh).next((s=>{const l=[];return r.ee(((c,d)=>{const g=new ee(c),p=(function(_){return[0,Rn(_)]})(g);l.push(n.get(p).next((y=>y?X.resolve():(_=>n.put({targetId:0,path:Rn(_),sequenceNumber:s.highestListenSequenceNumber}))(g))))})).next((()=>X.waitFor(l)))}))}wi(t,n){t.createObjectStore(Vu,{keyPath:kw});const r=n.store(Vu),s=new Jg,l=c=>{if(s.add(c)){const d=c.lastSegment(),g=c.popLast();return r.put({collectionId:d,parent:Rn(g)})}};return n.store(as).ee({Y:!0},((c,d)=>{const g=new ee(c);return l(g.popLast())})).next((()=>n.store(Lo).ee({Y:!0},(([c,d,g],p)=>{const y=nr(d);return l(y.popLast())}))))}bi(t){const n=t.store(ko);return n.ee(((r,s)=>{const l=fu(s),c=pT(this.serializer,l);return n.put(c)}))}Si(t,n){const r=n.store(as),s=[];return r.ee(((l,c)=>{const d=n.store(Qh),g=(function(_){return _.document?new yt(ee.fromString(_.document.name).popFirst(5)):_.noDocument?yt.fromSegments(_.noDocument.path):_.unknownDocument?yt.fromSegments(_.unknownDocument.path):Et(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(d.put(p))})).next((()=>X.waitFor(s)))}Di(t,n){const r=n.store(Vi),s=RT(this.serializer),l=new tp(Cf.Vi,this.serializer.yt);return r.H().next((c=>{const d=new Map;return c.forEach((g=>{let p=d.get(g.userId)??zt();ls(this.serializer,g).keys().forEach((y=>p=p.add(y))),d.set(g.userId,p)})),X.forEach(d,((g,p)=>{const y=new _n(p),_=Rf.wt(this.serializer,y),E=l.getIndexManager(y),w=Df.wt(y,this.serializer,E,l.referenceDelegate);return new DT(s,w,_,E).recalculateAndSaveOverlaysForDocumentKeys(new lg(n,pi.ce),g).next()}))}))}}function ov(a){a.createObjectStore(Bo,{keyPath:zw}).createIndex(Ug,Lw,{unique:!0}),a.createObjectStore(ko,{keyPath:"targetId"}).createIndex(pE,Uw,{unique:!0}),a.createObjectStore(ms)}const da="IndexedDbPersistence",Hm=18e5,Gm=5e3,Qm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wR="main";class ep{constructor(t,n,r,s,l,c,d,g,p,y,_=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ci=l,this.window=c,this.document=d,this.Fi=p,this.Mi=y,this.xi=_,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!ep.v())throw new _t(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fR(this,s),this.Ki=n+wR,this.serializer=new gT(g),this.qi=new Ea(this.Ki,this.xi,new SR(this.serializer)),this.ci=new tR,this.li=new lR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RT(this.serializer),this.Pi=new $I,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&xn(da,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(dt.FAILED_PRECONDITION,Qm);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new pi(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Ah(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((n=>this.isPrimary&&!n?this.Ji(t).next((()=>!1)):!!n&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(Ia(t))return mt(da,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return mt(da,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return su(t).get(vo).next((n=>X.resolve(this.Xi(n))))}Yi(t){return Ah(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Hm)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=en(n,jo);return r.H().next((s=>{const l=this.ns(s,Hm),c=s.filter((d=>l.indexOf(d)===-1));return X.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const n of t)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?X.resolve(!0):su(t).get(vo).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Gm)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new _t(dt.FAILED_PRECONDITION,Qm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ah(t).H().next((r=>this.ns(r,Gm).find((s=>{if(this.clientId!==s.clientId){const l=!this.networkEnabled&&s.networkEnabled,c=!this.inForeground&&s.inForeground,d=this.networkEnabled===s.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&mt(da,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[ju,jo],(t=>{const n=new lg(t,pi.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(t,n){return t.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>Ah(t).H().next((n=>this.ns(n,Hm).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,n){return Df.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new oR(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Rf.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,n,r){mt(da,"Starting transaction:",t);const s=n==="readonly"?"readonly":"readwrite",l=(function(g){return g===18?eI:g===17?AE:g===16?tI:g===15?kg:g===14?bE:g===13?TE:g===12?$w:g===11?EE:void Et(60245)})(this.xi);let c;return this.qi.runTransaction(t,s,l,(d=>(c=new lg(d,this.ai?this.ai.next():pi.ce),n==="readwrite-primary"?this.ji(c).next((g=>!!g||this.Hi(c))).next((g=>{if(!g)throw xn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new _t(dt.FAILED_PRECONDITION,hE);return r(c)})).next((g=>this.Zi(c).next((()=>g)))):this.Ps(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(t){return su(t).get(vo).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Gm)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _t(dt.FAILED_PRECONDITION,Qm)}))}Zi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return su(t).put(vo,n)}static v(){return Ea.v()}Ji(t){const n=su(t);return n.get(vo).next((r=>this.Xi(r)?(mt(da,"Releasing primary lease."),n.delete(vo)):X.resolve()))}ts(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(xn(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;qv()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const n=this.Ui?.getItem(this.rs(t))!==null;return mt(da,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return xn(da,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){xn("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function su(a){return en(a,ju)}function Ah(a){return en(a,jo)}function IR(a,t){let n=a.projectId;return a.isDefaultDatabase||(n+="."+a.database),"firestore/"+t+"/"+n+"/"}class np{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=s}static Es(t,n){let r=zt(),s=zt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new np(t,n.fromCache,r,s)}}class RR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class CT{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qv()?8:dE(Bh())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,s,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new RR;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,r,s){return r.documentReadCount<this.Vs?(Io()<=Yt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Io()<=Yt.DEBUG&&mt("QueryEngine","Query:",Ro(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Io()<=Yt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_i(n))):X.resolve())}gs(t,n){if(V1(n))return X.resolve(null);let r=_i(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=mg(n,null,"F"),r=_i(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=zt(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((g=>{const p=this.bs(n,d);return this.Ss(n,p,c,g.readTime)?this.gs(t,mg(n,null,"F")):this.Ds(t,p,n,g)}))))})))))}ps(t,n,r,s){return V1(n)||s.isEqual(Rt.min())?X.resolve(null):this.fs.getDocuments(t,r).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,r,s)?X.resolve(null):(Io()<=Yt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ro(n)),this.Ds(t,c,n,Sw(s,Iu)).next((d=>d)))}))}bs(t,n){let r=new ue(FE(t));return n.forEach(((s,l)=>{qu(t,l)&&(r=r.add(l))})),r}Ss(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(t,n,r){return Io()<=Yt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.fs.getDocumentsMatchingQuery(t,n,ei.min(),r)}Ds(t,n,r,s){return this.fs.getDocumentsMatchingQuery(t,r,s).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const ip="LocalStore",DR=3e8;class CR{constructor(t,n,r,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new Ce(xt),this.Fs=new Nr((l=>Ts(l)),Fu),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DT(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function xT(a,t,n,r){return new CR(a,t,n,r)}async function VT(a,t){const n=Vt(a);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((l=>(s=l,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let g=zt();for(const p of s){c.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function xR(a,t){const n=Vt(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,p,y){const _=p.batch,E=_.keys();let w=X.resolve();return E.forEach((O=>{w=w.next((()=>y.getEntry(g,O))).next((z=>{const j=p.docVersions.get(O);St(j!==null,48541),z.version.compareTo(j)<0&&(_.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(g,_)))})(n,r,t,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let g=zt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function MT(a){const t=Vt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function VR(a,t){const n=Vt(a),r=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const E=s.get(_);if(!E)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let w=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(We.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),s=s.insert(_,w),(function(z,j,B){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=DR?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,w,y)&&d.push(n.li.updateTargetData(l,w))}));let g=ti(),p=zt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(MR(l,c,t.documentUpdates).next((y=>{g=y.Bs,p=y.Ls}))),!r.isEqual(Rt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(y)}return X.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(n.vs=s,l)))}function MR(a,t,n){let r=zt(),s=zt();return n.forEach((l=>r=r.add(l))),t.getEntries(a,r).next((l=>{let c=ti();return n.forEach(((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):mt(ip,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:s}}))}function NR(a,t){const n=Vt(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ds),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function OR(a,t){const n=Vt(a);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,t).next((l=>l?(s=l,X.resolve(s)):n.li.allocateTargetId(r).next((c=>(s=new Dr(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function bg(a,t,n){const r=Vt(a),s=r.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Ia(c))throw c;mt(ip,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(s.target)}function lv(a,t,n){const r=Vt(a);let s=Rt.min(),l=zt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,y){const _=Vt(g),E=_.Fs.get(y);return E!==void 0?X.resolve(_.vs.get(E)):_.li.getTargetData(p,y)})(r,c,_i(t)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((g=>{l=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,n?s:Rt.min(),n?l:zt()))).next((d=>(PR(r,vI(t),d),{documents:d,ks:l})))))}function PR(a,t,n){let r=a.Ms.get(t)||Rt.min();n.forEach(((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),a.Ms.set(t,r)}class uv{constructor(){this.activeTargetIds=wI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NT{constructor(){this.vo=new uv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new uv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UR{Mo(t){}shutdown(){}}const cv="ConnectivityMonitor";class hv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(cv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(cv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Ag(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const Ym="RestConnection",zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(t,n,r,s,l){const c=Ag(),d=this.Qo(t,n.toUriEncodedString());mt(Ym,`Sending RPC '${t}' ${c}:`,d,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,s,l);const{host:p}=new URL(d),y=Cg(p);return this.zo(t,d,g,r,y).then((_=>(mt(Ym,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw vs(Ym,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",r),_}))}jo(t,n,r,s,l,c){return this.Wo(t,n,r,s,l)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>t[l]=s)),r&&r.headers.forEach(((s,l)=>t[l]=s))}Qo(t,n){const r=zR[t];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class kR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const An="WebChannelConnection",ou=(a,t,n)=>{a.listen(t,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class No extends LR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!No.c_){const t=iE();ou(t,nE.STAT_EVENT,(n=>{n.stat===ng.PROXY?mt(An,"STAT_EVENT: detected buffering proxy"):n.stat===ng.NOPROXY&&mt(An,"STAT_EVENT: detected no buffering proxy")})),No.c_=!0}}zo(t,n,r,s,l){const c=Ag();return new Promise(((d,g)=>{const p=new tE;p.setWithCredentials(!0),p.listenOnce(eE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ih.NO_ERROR:const _=p.getResponseJson();mt(An,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case Ih.TIMEOUT:mt(An,`RPC '${t}' ${c} timed out`),g(new _t(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const E=p.getStatus();if(mt(An,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w?.error;if(O&&O.status&&O.message){const z=(function(B){const rt=B.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(rt)>=0?rt:dt.UNKNOWN})(O.status);g(new _t(z,O.message))}else g(new _t(dt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new _t(dt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{mt(An,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(s);mt(An,`RPC '${t}' ${c} sending request:`,s),p.send(n,"POST",y,r,15)}))}T_(t,n,r){const s=Ag(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=l.join("");mt(An,`Creating RPC '${t}' stream ${s}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let _=!1,E=!1;const w=new kR({Ho:O=>{E?mt(An,`Not sending because RPC '${t}' stream ${s} is closed:`,O):(_||(mt(An,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),mt(An,`RPC '${t}' stream ${s} sending:`,O),y.send(O))},Jo:()=>y.close()});return ou(y,uu.EventType.OPEN,(()=>{E||(mt(An,`RPC '${t}' stream ${s} transport opened.`),w.i_())})),ou(y,uu.EventType.CLOSE,(()=>{E||(E=!0,mt(An,`RPC '${t}' stream ${s} transport closed`),w.o_(),this.E_(y))})),ou(y,uu.EventType.ERROR,(O=>{E||(E=!0,vs(An,`RPC '${t}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),w.o_(new _t(dt.UNAVAILABLE,"The operation could not be completed")))})),ou(y,uu.EventType.MESSAGE,(O=>{if(!E){const z=O.data[0];St(!!z,16349);const j=z,B=j?.error||j[0]?.error;if(B){mt(An,`RPC '${t}' stream ${s} received error:`,B);const rt=B.status;let Q=(function(L){const M=Xe[L];if(M!==void 0)return tT(M)})(rt),K=B.message;Q===void 0&&(Q=dt.INTERNAL,K="Unknown error status: "+rt+" with message "+B.message),E=!0,w.o_(new _t(Q,K)),y.close()}else mt(An,`RPC '${t}' stream ${s} received:`,z),w.__(z)}})),No.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rE()}}function BR(a){return new No(a)}function jR(){return typeof window<"u"?window:null}function Uh(){return typeof document<"u"?document:null}function xf(a){return new FI(a,!0)}No.c_=!1;class OT{constructor(t,n,r=1e3,s=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fv="PersistentStream";class PT{constructor(t,n,r,s,l,c,d,g){this.Ci=t,this.b_=r,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new _t(dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(fv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(mt(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FR extends PT{constructor(t,n,r,s,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=GI(this.serializer,t),r=(function(l){if(!("targetChange"in l))return Rt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Mn(c.readTime):Rt.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=yg(this.serializer),n.addTarget=(function(l,c){let d;const g=c.target;if(d=Zh(g)?{documents:lT(l,g)}:{query:uT(l,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iT(l,c.resumeToken);const p=gg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=Ko(l,c.snapshotVersion.toTimestamp());const p=gg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const r=YI(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=yg(this.serializer),n.removeTarget=t,this.K_(n)}}class qR extends PT{constructor(t,n,r,s,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return St(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,St(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){St(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=QI(t.writeResults,t.commitTime),r=Mn(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=yg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>$h(this.serializer,r)))};this.K_(n)}}class HR{}class GR extends HR{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new _t(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,pg(n,r),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(dt.UNKNOWN,l.toString())}))}jo(t,n,r,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,pg(n,r),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(dt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QR(a,t,n,r){return new GR(a,t,n,r)}class YR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xn(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ws="RemoteStore";class KR{constructor(t,n,r,s,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ds(this)&&(mt(ws,"Restarting streams for network reachability change."),await(async function(g){const p=Vt(g);p.Ea.add(4),await Gu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Vf(p)})(this))}))})),this.Va=new YR(r,s)}}async function Vf(a){if(Ds(a))for(const t of a.Ra)await t(!0)}async function Gu(a){for(const t of a.Ra)await t(!1)}function UT(a,t){const n=Vt(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),op(n)?sp(n):$o(n).O_()&&ap(n,t))}function rp(a,t){const n=Vt(a),r=$o(n);n.Ia.delete(t),r.O_()&&zT(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ds(n)&&n.Va.set("Unknown"))}function ap(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(a).Z_(t)}function zT(a,t){a.da.$e(t),$o(a).X_(t)}function sp(a){a.da=new LI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),$o(a).start(),a.Va.ua()}function op(a){return Ds(a)&&!$o(a).x_()&&a.Ia.size>0}function Ds(a){return Vt(a).Ea.size===0}function LT(a){a.da=void 0}async function XR(a){a.Va.set("Online")}async function ZR(a){a.Ia.forEach(((t,n)=>{ap(a,t)}))}async function WR(a,t){LT(a),op(a)?(a.Va.ha(t),sp(a)):a.Va.set("Unknown")}async function JR(a,t,n){if(a.Va.set("Online"),t instanceof nT&&t.state===2&&t.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(a,t)}catch(r){mt(ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await af(a,r)}else if(t instanceof Oh?a.da.Xe(t):t instanceof eT?a.da.st(t):a.da.tt(t),!n.isEqual(Rt.min()))try{const r=await MT(a.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,p)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),zT(l,g);const _=new Dr(y.target,g,p,y.sequenceNumber);ap(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(a,n)}catch(r){mt(ws,"Failed to raise snapshot:",r),await af(a,r)}}async function af(a,t,n){if(!Ia(t))throw t;a.Ea.add(1),await Gu(a),a.Va.set("Offline"),n||(n=()=>MT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{mt(ws,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Vf(a)}))}function kT(a,t){return t().catch((n=>af(a,n,t)))}async function Qu(a){const t=Vt(a),n=Sa(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ds;for(;$R(t);)try{const s=await NR(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,t4(t,s)}catch(s){await af(t,s)}BT(t)&&jT(t)}function $R(a){return Ds(a)&&a.Ta.length<10}function t4(a,t){a.Ta.push(t);const n=Sa(a);n.O_()&&n.Y_&&n.ea(t.mutations)}function BT(a){return Ds(a)&&!Sa(a).x_()&&a.Ta.length>0}function jT(a){Sa(a).start()}async function e4(a){Sa(a).ra()}async function n4(a){const t=Sa(a);for(const n of a.Ta)t.ea(n.mutations)}async function i4(a,t,n){const r=a.Ta.shift(),s=Yg.from(r,t,n);await kT(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await Qu(a)}async function r4(a,t){t&&Sa(a).Y_&&await(async function(r,s){if((function(c){return PI(c)&&c!==dt.ABORTED})(s.code)){const l=r.Ta.shift();Sa(r).B_(),await kT(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Qu(r)}})(a,t),BT(a)&&jT(a)}async function dv(a,t){const n=Vt(a);n.asyncQueue.verifyOperationInProgress(),mt(ws,"RemoteStore received new credentials");const r=Ds(n);n.Ea.add(3),await Gu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Vf(n)}async function a4(a,t){const n=Vt(a);t?(n.Ea.delete(2),await Vf(n)):t||(n.Ea.add(2),await Gu(n),n.Va.set("Unknown"))}function $o(a){return a.ma||(a.ma=(function(n,r,s){const l=Vt(n);return l.sa(),new FR(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Zo:XR.bind(null,a),Yo:ZR.bind(null,a),t_:WR.bind(null,a),J_:JR.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),op(a)?sp(a):a.Va.set("Unknown")):(await a.ma.stop(),LT(a))}))),a.ma}function Sa(a){return a.fa||(a.fa=(function(n,r,s){const l=Vt(n);return l.sa(),new qR(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:e4.bind(null,a),t_:r4.bind(null,a),ta:n4.bind(null,a),na:i4.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Qu(a)):(await a.fa.stop(),a.Ta.length>0&&(mt(ws,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class lp{constructor(t,n,r,s,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,l){const c=Date.now()+r,d=new lp(t,n,c,s,l);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(a,t){if(xn("AsyncQueue",`${t}: ${a}`),Ia(a))return new _t(dt.UNAVAILABLE,`${t}: ${a}`);throw a}class Oo{static emptySet(t){return new Oo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=cu(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class mv{constructor(){this.ga=new Ce(yt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Xo{constructor(t,n,r,s,l,c,d,g,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,s,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xo(t,n,Oo.emptySet(n),c,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class s4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class o4{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Vt(n),l=s.queries;s.queries=gv(),l.forEach(((c,d)=>{for(const g of d.ba)g.onError(r)}))})(this,new _t(dt.ABORTED,"Firestore shutting down"))}}function gv(){return new Nr((a=>jE(a)),bf)}async function FT(a,t){const n=Vt(a);let r=3;const s=t.query;let l=n.queries.get(s);l?!l.Sa()&&t.Da()&&(r=2):(l=new s4,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(s,!0);break;case 1:l.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=up(c,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(d)}n.queries.set(s,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&cp(n)}async function qT(a,t){const n=Vt(a),r=t.query;let s=3;const l=n.queries.get(r);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?s=t.Da()?0:1:!l.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l4(a,t){const n=Vt(a);let r=!1;for(const s of t){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(s)&&(r=!0);c.wa=s}}r&&cp(n)}function u4(a,t,n){const r=Vt(a),s=r.queries.get(t);if(s)for(const l of s.ba)l.onError(n);r.queries.delete(t)}function cp(a){a.Ca.forEach((t=>{t.next()}))}var Sg,pv;(pv=Sg||(Sg={})).Ma="default",pv.Cache="cache";class HT{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sg.Cache}}class GT{constructor(t){this.key=t}}class QT{constructor(t){this.key=t}}class c4{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=FE(t),this.tu=new Oo(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new mv,s=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((y,_)=>{const E=s.get(y),w=qu(this.query,_)?_:null,O=!!E&&this.mutatedKeys.has(E.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;E&&w?E.data.isEqual(w.data)?O!==z&&(r.track({type:3,doc:w}),j=!0):this.su(E,w)||(r.track({type:2,doc:w}),j=!0,(g&&this.eu(w,g)>0||p&&this.eu(w,p)<0)&&(d=!0)):!E&&w?(r.track({type:0,doc:w}),j=!0):E&&!w&&(r.track({type:1,doc:E}),j=!0,(g||p)&&(d=!0)),j&&(w?(c=c.add(w),l=z?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(w,O){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:j})}};return z(w)-z(O)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),s=s??!1;const d=n&&!s?this._u():[],g=this.Ya.size===0&&this.current&&!s?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new Xo(this.query,t.tu,l,c,t.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new QT(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new GT(r))})),n}cu(t){this.Za=t.ks,this.Ya=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hp="SyncEngine";class h4{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class f4{constructor(t){this.key=t,this.hu=!1}}class d4{constructor(t,n,r,s,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Nr((d=>jE(d)),bf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ce(yt.comparator),this.Au=new Map,this.Vu=new $g,this.du={},this.mu=new Map,this.fu=Ss.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m4(a,t,n=!0){const r=JT(a);let s;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await YT(r,t,n,!0),s}async function g4(a,t){const n=JT(a);await YT(n,t,!0,!1)}async function YT(a,t,n,r){const s=await OR(a.localStore,_i(t)),l=s.targetId,c=a.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await p4(a,t,l,c==="current",s.resumeToken)),a.isPrimaryClient&&n&&UT(a.remoteStore,s),d}async function p4(a,t,n,r,s){a.pu=(_,E,w)=>(async function(z,j,B,rt){let Q=j.view.ru(B);Q.Ss&&(Q=await lv(z.localStore,j.query,!1).then((({documents:M})=>j.view.ru(M,Q))));const K=rt&&rt.targetChanges.get(j.targetId),ut=rt&&rt.targetMismatches.get(j.targetId)!=null,L=j.view.applyChanges(Q,z.isPrimaryClient,K,ut);return _v(z,j.targetId,L.au),L.snapshot})(a,_,E,w);const l=await lv(a.localStore,t,!0),c=new c4(t,l.ks),d=c.ru(l.documents),g=Hu.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",s),p=c.applyChanges(d,a.isPrimaryClient,g);_v(a,n,p.au);const y=new h4(t,n,c);return a.Tu.set(t,y),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),p.snapshot}async function y4(a,t,n){const r=Vt(a),s=r.Tu.get(t),l=r.Iu.get(s.targetId);if(l.length>1)return r.Iu.set(s.targetId,l.filter((c=>!bf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&rp(r.remoteStore,s.targetId),wg(r,s.targetId)})).catch(Is)):(wg(r,s.targetId),await bg(r.localStore,s.targetId,!0))}async function _4(a,t){const n=Vt(a),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rp(n.remoteStore,r.targetId))}async function v4(a,t,n){const r=$T(a);try{const s=await(function(c,d){const g=Vt(c),p=le.now(),y=d.reduce(((w,O)=>w.add(O.key)),zt());let _,E;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let O=ti(),z=zt();return g.xs.getEntries(w,y).next((j=>{O=j,O.forEach(((B,rt)=>{rt.isValidDocument()||(z=z.add(B))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,O))).next((j=>{_=j;const B=[];for(const rt of d){const Q=NI(rt,_.get(rt.key).overlayedDocument);Q!=null&&B.push(new Ra(rt.key,Q,NE(Q.value.mapValue),Vn.exists(!0)))}return g.mutationQueue.addMutationBatch(w,p,B,d)})).next((j=>{E=j;const B=j.applyToLocalDocumentSet(_,z);return g.documentOverlayCache.saveOverlays(w,j.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:HE(_)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(c,d,g){let p=c.du[c.currentUser.toKey()];p||(p=new Ce(xt)),p=p.insert(d,g),c.du[c.currentUser.toKey()]=p})(r,s.batchId,n),await Yu(r,s.changes),await Qu(r.remoteStore)}catch(s){const l=up(s,"Failed to persist write");n.reject(l)}}async function KT(a,t){const n=Vt(a);try{const r=await VR(n.localStore,t);t.targetChanges.forEach(((s,l)=>{const c=n.Au.get(l);c&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?St(c.hu,14607):s.removedDocuments.size>0&&(St(c.hu,42227),c.hu=!1))})),await Yu(n,r,t)}catch(r){await Is(r)}}function yv(a,t,n){const r=Vt(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const g=Vt(c);g.onlineState=d;let p=!1;g.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(d)&&(p=!0)})),p&&cp(g)})(r.eventManager,t),s.length&&r.Pu.J_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function E4(a,t,n){const r=Vt(a);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),l=s&&s.key;if(l){let c=new Ce(yt.comparator);c=c.insert(l,Ne.newNoDocument(l,Rt.min()));const d=zt().add(l),g=new If(Rt.min(),new Map,new Ce(xt),c,d);await KT(r,g),r.Ru=r.Ru.remove(l),r.Au.delete(t),fp(r)}else await bg(r.localStore,t,!1).then((()=>wg(r,t,n))).catch(Is)}async function T4(a,t){const n=Vt(a),r=t.batch.batchId;try{const s=await xR(n.localStore,t);ZT(n,r,null),XT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yu(n,s)}catch(s){await Is(s)}}async function b4(a,t,n){const r=Vt(a);try{const s=await(function(c,d){const g=Vt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return g.mutationQueue.lookupMutationBatch(p,d).next((_=>(St(_!==null,37113),y=_.keys(),g.mutationQueue.removeMutationBatch(p,_)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>g.localDocuments.getDocuments(p,y)))}))})(r.localStore,t);ZT(r,t,n),XT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yu(r,s)}catch(s){await Is(s)}}function XT(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function ZT(a,t,n){const r=Vt(a);let s=r.du[r.currentUser.toKey()];if(s){const l=s.get(t);l&&(n?l.reject(n):l.resolve(),s=s.remove(t)),r.du[r.currentUser.toKey()]=s}}function wg(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),n&&a.Pu.yu(r,n);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||WT(a,r)}))}function WT(a,t){a.Eu.delete(t.path.canonicalString());const n=a.Ru.get(t);n!==null&&(rp(a.remoteStore,n),a.Ru=a.Ru.remove(t),a.Au.delete(n),fp(a))}function _v(a,t,n){for(const r of n)r instanceof GT?(a.Vu.addReference(r.key,t),A4(a,r)):r instanceof QT?(mt(hp,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||WT(a,r.key)):Et(19791,{wu:r})}function A4(a,t){const n=t.key,r=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(r)||(mt(hp,"New document in limbo: "+n),a.Eu.add(r),fp(a))}function fp(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new yt(ee.fromString(t)),r=a.fu.next();a.Au.set(r,new f4(n)),a.Ru=a.Ru.insert(n,r),UT(a.remoteStore,new Dr(_i(Tf(n.path)),r,"TargetPurposeLimboResolution",pi.ce))}}async function Yu(a,t,n){const r=Vt(a),s=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,g)=>{c.push(r.pu(g,t,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(p){s.push(p);const y=np.Es(g.targetId,p);l.push(y)}})))})),await Promise.all(c),r.Pu.J_(s),await(async function(g,p){const y=Vt(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>X.forEach(p,(E=>X.forEach(E.Ts,(w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w))).next((()=>X.forEach(E.Is,(w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))))))}catch(_){if(!Ia(_))throw _;mt(ip,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=y.vs.get(E),O=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(O);y.vs=y.vs.insert(E,z)}}})(r.localStore,l))}async function S4(a,t){const n=Vt(a);if(!n.currentUser.isEqual(t)){mt(hp,"User change. New user:",t.toKey());const r=await VT(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new _t(dt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yu(n,r.Ns)}}function w4(a,t){const n=Vt(a),r=n.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let s=zt();const l=n.Iu.get(t);if(!l)return s;for(const c of l){const d=n.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function JT(a){const t=Vt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E4.bind(null,t),t.Pu.J_=l4.bind(null,t.eventManager),t.Pu.yu=u4.bind(null,t.eventManager),t}function $T(a){const t=Vt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,t),t}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return xT(this.persistence,new CT,t.initialUser,this.serializer)}Cu(t){return new tp(Cf.Vi,this.serializer)}Du(t){return new NT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class I4 extends zu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){St(this.persistence.referenceDelegate instanceof rf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ST(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new tp((r=>rf.Vi(r,n)),this.serializer)}}class R4 extends zu{constructor(t,n,r){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await $T(this.xu.syncEngine),await Qu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return xT(this.persistence,new CT,t.initialUser,this.serializer)}Fu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new ST(r,t.asyncQueue,n)}Mu(t,n){const r=new Dw(n,this.persistence);return new Rw(t.asyncQueue,r)}Cu(t){const n=IR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new ep(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,jR(),Uh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new NT}}class sf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S4.bind(null,this.syncEngine),await a4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new o4})()}createDatastore(t){const n=xf(t.databaseInfo.databaseId),r=BR(t.databaseInfo);return QR(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,l,c,d){return new KR(r,s,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>yv(this.syncEngine,n,0)),(function(){return hv.v()?new hv:new UR})())}createSyncEngine(t,n){return(function(s,l,c,d,g,p,y){const _=new d4(s,l,c,d,g,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Vt(n);mt(ws,"RemoteStore shutting down."),r.Ea.add(5),await Gu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sf.provider={build:()=>new sf};class t2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const wa="FirestoreClient";class D4{constructor(t,n,r,s,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=_n.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{mt(wa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(mt(wa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=up(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Km(a,t){a.asyncQueue.verifyOperationInProgress(),mt(wa,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let r=n.initialUser;a.setCredentialChangeListener((async s=>{r.isEqual(s)||(await VT(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function vv(a,t){a.asyncQueue.verifyOperationInProgress();const n=await C4(a);mt(wa,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((r=>dv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,s)=>dv(t.remoteStore,s))),a._onlineComponents=t}async function C4(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){mt(wa,"Using user provided OfflineComponentProvider");try{await Km(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===dt.FAILED_PRECONDITION||s.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;vs("Error using user provided cache. Falling back to memory cache: "+n),await Km(a,new zu)}}else mt(wa,"Using default OfflineComponentProvider"),await Km(a,new I4(void 0));return a._offlineComponents}async function e2(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(mt(wa,"Using user provided OnlineComponentProvider"),await vv(a,a._uninitializedComponentsProvider._online)):(mt(wa,"Using default OnlineComponentProvider"),await vv(a,new sf))),a._onlineComponents}function x4(a){return e2(a).then((t=>t.syncEngine))}async function n2(a){const t=await e2(a),n=t.eventManager;return n.onListen=m4.bind(null,t.syncEngine),n.onUnlisten=y4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=g4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=_4.bind(null,t.syncEngine),n}function V4(a,t,n={}){const r=new rr;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const y=new t2({next:E=>{y.Nu(),c.enqueueAndForget((()=>qT(l,_)));const w=E.docs.has(d);!w&&E.fromCache?p.reject(new _t(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&g&&g.source==="server"?p.reject(new _t(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new HT(Tf(d.path),y,{includeMetadataChanges:!0,Ka:!0});return FT(l,_)})(await n2(a),a.asyncQueue,t,n,r))),r.promise}function M4(a,t,n={}){const r=new rr;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const y=new t2({next:E=>{y.Nu(),c.enqueueAndForget((()=>qT(l,_))),E.fromCache&&g.source==="server"?p.reject(new _t(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new HT(d,y,{includeMetadataChanges:!0,Ka:!0});return FT(l,_)})(await n2(a),a.asyncQueue,t,n,r))),r.promise}function N4(a,t){const n=new rr;return a.asyncQueue.enqueueAndForget((async()=>v4(await x4(a),t,n))),n.promise}function i2(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const O4="ComponentProvider",Ev=new Map;function P4(a,t,n,r,s){return new iI(a,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,i2(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const r2="firestore.googleapis.com",Tv=!0;class bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r2,this.ssl=Tv}else this.host=t.host,this.ssl=t.ssl??Tv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uR)throw new _t(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Aw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i2(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _t(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _t(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _t(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mf{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dw;switch(r.type){case"firstParty":return new yw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ev.get(n);r&&(mt(O4,"Removing Datastore"),Ev.delete(n),r.terminate())})(this),Promise.resolve()}}function U4(a,t,n,r={}){a=sr(a,Mf);const s=Cg(t),l=a._getSettings(),c={...l,emulatorOptions:a._getEmulatorOptions()},d=`${t}:${n}`;s&&(qA(`https://${d}`),YA("Firestore",!0)),l.host!==r2&&l.host!==d&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:d,ssl:s,emulatorOptions:r};if(!jh(g,c)&&(a._setSettings(g),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=_n.MOCK_USER;else{p=HA(r.mockUserToken,a._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _t(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(_)}a._authCredentials=new mw(new sE(p,y))}}class Nf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Nf(this.firestore,t,this._query)}}class tn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Bu(n,tn._jsonSchema))return new tn(t,r||null,new yt(ee.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Ze("string",tn._jsonSchemaVersion),referencePath:Ze("string")};class Ta extends Nf{constructor(t,n,r){super(t,n,Tf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new yt(t))}withConverter(t){return new Ta(this.firestore,t,this._path)}}function Av(a,t,...n){if(a=Au(a),lE("collection","path",t),a instanceof Mf){const r=ee.fromString(t,...n);return f1(r),new Ta(a,null,r)}{if(!(a instanceof tn||a instanceof Ta))throw new _t(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...n));return f1(r),new Ta(a.firestore,null,r)}}function Ku(a,t,...n){if(a=Au(a),arguments.length===1&&(t=Mg.newId()),lE("doc","path",t),a instanceof Mf){const r=ee.fromString(t,...n);return h1(r),new tn(a,null,new yt(r))}{if(!(a instanceof tn||a instanceof Ta))throw new _t(dt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...n));return h1(r),new tn(a.firestore,a instanceof Ta?a.converter:null,new yt(r))}}const Sv="AsyncQueue";class wv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OT(this,"async_queue_retry"),this._c=()=>{const r=Uh();r&&mt(Sv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Uh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ia(t))throw t;mt(Sv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,xn("INTERNAL UNHANDLED ERROR: ",Iv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=lp.createAndSchedule(this,t,n,r,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Et(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Iv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Cs extends Mf{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new wv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wv(t),this._firestoreClient=void 0,await t}}}function z4(a,t){const n=typeof a=="object"?a:$S(),r=typeof a=="string"?a:Kh,s=KS(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=jA("firestore");l&&U4(s,...l)}return s}function dp(a){if(a._terminated)throw new _t(dt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||a2(a),a._firestoreClient}function a2(a){const t=a._freezeSettings(),n=P4(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new D4(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(a._componentsProvider))}function L4(a,t){vs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=a._freezeSettings();return k4(a,sf.provider,{build:r=>new R4(r,n.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function k4(a,t,n){if((a=sr(a,Cs))._firestoreClient||a._terminated)throw new _t(dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new _t(dt.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:t,_offline:n},a2(a)}class gi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gi(We.fromBase64String(t))}catch(n){throw new _t(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new gi(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bu(t,gi._jsonSchema))return gi.fromBase64String(t.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Ze("string",gi._jsonSchemaVersion),bytes:Ze("string")};class s2{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class o2{constructor(t){this._methodName=t}}class ar{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(t){if(Bu(t,ar._jsonSchema))return new ar(t.latitude,t.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Ze("string",ar._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bu(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new _t(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ze("string",Mi._jsonSchemaVersion),vectorValues:Ze("object")};const B4=/^__.*__$/;class j4{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ra(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jo(t,this.data,n,this.fieldTransforms)}}function l2(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:a})}}class mp{constructor(t,n,r,s,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new mp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return of(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(l2(this.dataSource)&&B4.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class F4{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||xf(t)}createContext(t,n,r,s=!1){return new mp({dataSource:t,methodName:n,targetDoc:r,path:xe.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u2(a){const t=a._freezeSettings(),n=xf(a._databaseId);return new F4(a._databaseId,!!t.ignoreUndefinedProperties,n)}function c2(a,t,n,r,s,l={}){const c=a.createContext(l.merge||l.mergeFields?2:0,t,n,s);m2("Data must be an object, but it was:",c,r);const d=f2(r,c);let g,p;if(l.merge)g=new yi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=gp(t,_,n);if(!c.contains(E))throw new _t(dt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);G4(y,E)||y.push(E)}g=new yi(y),p=c.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,p=c.fieldTransforms;return new j4(new qn(d),g,p)}function h2(a,t){if(d2(a=Au(a)))return m2("Unsupported field value:",t,a),f2(a,t);if(a instanceof o2)return(function(r,s){if(!l2(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,s){const l=[];let c=0;for(const d of r){let g=h2(d,s.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(a,t)}return(function(r,s){if((r=Au(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return II(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=le.fromDate(r);return{timestampValue:Ko(s.serializer,l)}}if(r instanceof le){const l=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ko(s.serializer,l)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:iT(s.serializer,r._byteString)};if(r instanceof tn){const l=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mi)return(function(c,d){const g=c instanceof Mi?c.toArray():c;return{mapValue:{fields:{[jg]:{stringValue:Fg},[Fo]:{arrayValue:{values:g.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return Gg(d.serializer,y)}))}}}}}})(r,s);if(mT(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ng(r)}`)})(a,t)}function f2(a,t){const n={};return SE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rs(a,((r,s)=>{const l=h2(s,t.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function d2(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof le||a instanceof ar||a instanceof gi||a instanceof tn||a instanceof o2||a instanceof Mi||mT(a))}function m2(a,t,n){if(!d2(n)||!uE(n)){const r=Ng(n);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function gp(a,t,n){if((t=Au(t))instanceof s2)return t._internalPath;if(typeof t=="string")return H4(a,t);throw of("Field path arguments must be of type string or ",a,!1,void 0,n)}const q4=new RegExp("[~\\*/\\[\\]]");function H4(a,t,n){if(t.search(q4)>=0)throw of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new s2(...t.split("."))._internalPath}catch{throw of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function of(a,t,n,r,s){const l=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${r}`),c&&(g+=` in document ${s}`),g+=")"),new _t(dt.INVALID_ARGUMENT,d+a+g)}function G4(a,t){return a.some((n=>n.isEqual(t)))}class Q4{convertValue(t,n="none"){switch(ba(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Rs(t,((s,l)=>{r[s]=this.convertValue(l,n)})),r}convertVectorValue(t){const n=t.fields?.[Fo].arrayValue?.values?.map((r=>De(r.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new ar(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=_f(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mu(t));default:return null}}convertTimestamp(t){const n=xr(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);St(dT(r),9688,{name:t});const s=new Es(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return s.isEqual(n)||xn(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class g2 extends Q4{constructor(t){super(),this.firestore=t}convertBytes(t){return new gi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}const Rv="@firebase/firestore",Dv="4.10.0";class p2{constructor(t,n,r,s,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(gp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y4 extends p2{data(){return super.data()}}function K4(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new _t(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function y2(a,t,n){let r;return r=a?a.toFirestore(t):t,r}class du{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ps extends p2{constructor(t,n,r,s,l,c){super(t,n,r,s,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:Ze("string",ps._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class zh extends ps{data(t={}){return super.data(t)}}class Po{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new du(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new zh(this._firestore,this._userDataWriter,r.key,r,new du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const g=new zh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new zh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:X4(d.type),doc:g,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function X4(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:Ze("string",Po._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};function Z4(a){a=sr(a,tn);const t=sr(a.firestore,Cs),n=dp(t);return V4(n,a._key).then((r=>tD(t,a,r)))}function W4(a){a=sr(a,Nf);const t=sr(a.firestore,Cs),n=dp(t),r=new g2(t);return K4(a._query),M4(n,a._query).then((s=>new Po(t,r,a,s)))}function J4(a,t,n){a=sr(a,tn);const r=sr(a.firestore,Cs),s=y2(a.converter,t),l=u2(r);return pp(r,[c2(l,"setDoc",a._key,s,a.converter!==null,n).toMutation(a._key,Vn.none())])}function _2(a){return pp(sr(a.firestore,Cs),[new wf(a._key,Vn.none())])}function $4(a,t){const n=sr(a.firestore,Cs),r=Ku(a),s=y2(a.converter,t),l=u2(a.firestore);return pp(n,[c2(l,"addDoc",r._key,s,a.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then((()=>r))}function pp(a,t){const n=dp(a);return N4(n,t)}function tD(a,t,n){const r=n.docs.get(t._key),s=new g2(a);return new ps(a,s,t._key,r,new du(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){fw(JS),qh(new Su("firestore",((r,{instanceIdentifier:s,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Cs(new gw(r.getProvider("auth-internal")),new _w(c,r.getProvider("app-check-internal")),rI(c,s),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Mo(Rv,Dv,t),Mo(Rv,Dv,"esm2020")})();const eD={apiKey:"AIzaSyDm53ojMBFXyUdQyf_-p2y4vr6iF7hZkNA",authDomain:"gastosabuelo.firebaseapp.com",projectId:"gastosabuelo",storageBucket:"gastosabuelo.firebasestorage.app",messagingSenderId:"856217062498",appId:"1:856217062498:web:d80e9d2af5516d4bcf153b",measurementId:"G-9E2TC7DBE4"},nD=Zv(eD),ys=z4(nD);L4(ys).catch(a=>{a.code=="failed-precondition"?console.log("Persistence failed: Multiple tabs open"):a.code=="unimplemented"&&console.log("Persistence not supported by browser")});function iD(a,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(r){if(r!=="default"&&!(r in a)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(a,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}}))})),Object.freeze(a)}function v2(a,t){return new Promise((function(n,r){let s;return rD(a).then((function(l){try{return s=l,n(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(c){return r(c)}}),r)}))}const rD=a=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(({target:{result:s}})=>{const l=new DataView(s);let c=0;if(l.getUint16(c)!==65496)return n("not a valid JPEG");for(c+=2;;){const d=l.getUint16(c);if(d===65498)break;const g=l.getUint16(c+2);if(d===65505&&l.getUint32(c+4)===1165519206){const p=c+10;let y;switch(l.getUint16(p)){case 18761:y=!0;break;case 19789:y=!1;break;default:return n("TIFF header contains invalid endian")}if(l.getUint16(p+2,y)!==42)return n("TIFF header contains invalid version");const _=l.getUint32(p+4,y),E=p+_+2+12*l.getUint16(p+_,y);for(let w=p+_+2;w<E;w+=12)if(l.getUint16(w,y)==274){if(l.getUint16(w+2,y)!==3)return n("Orientation data type is invalid");if(l.getUint32(w+4,y)!==1)return n("Orientation data count is invalid");l.setUint16(w+8,1,y);break}return t(s.slice(c,c+2+g))}c+=2+g}return t(new Blob)})),r.readAsArrayBuffer(a)}));var lf={},aD={get exports(){return lf},set exports(a){lf=a}};(function(a){var t,n,r={};aD.exports=r,r.parse=function(s,l){for(var c=r.bin.readUshort,d=r.bin.readUint,g=0,p={},y=new Uint8Array(s),_=y.length-4;d(y,_)!=101010256;)_--;g=_,g+=4;var E=c(y,g+=4);c(y,g+=2);var w=d(y,g+=2),O=d(y,g+=4);g+=4,g=O;for(var z=0;z<E;z++){d(y,g),g+=4,g+=4,g+=4,d(y,g+=4),w=d(y,g+=4);var j=d(y,g+=4),B=c(y,g+=4),rt=c(y,g+2),Q=c(y,g+4);g+=6;var K=d(y,g+=8);g+=4,g+=B+rt+Q,r._readLocal(y,K,p,w,j,l)}return p},r._readLocal=function(s,l,c,d,g,p){var y=r.bin.readUshort,_=r.bin.readUint;_(s,l),y(s,l+=4),y(s,l+=2);var E=y(s,l+=2);_(s,l+=2),_(s,l+=4),l+=4;var w=y(s,l+=8),O=y(s,l+=2);l+=2;var z=r.bin.readUTF8(s,l,w);if(l+=w,l+=O,p)c[z]={size:g,csize:d};else{var j=new Uint8Array(s.buffer,l);if(E==0)c[z]=new Uint8Array(j.buffer.slice(l,l+d));else{if(E!=8)throw"unknown compression method: "+E;var B=new Uint8Array(g);r.inflateRaw(j,B),c[z]=B}}},r.inflateRaw=function(s,l){return r.F.inflate(s,l)},r.inflate=function(s,l){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),l)},r.deflate=function(s,l){l==null&&(l={level:6});var c=0,d=new Uint8Array(50+Math.floor(1.1*s.length));d[c]=120,d[c+1]=156,c+=2,c=r.F.deflateRaw(s,d,c,l.level);var g=r.adler(s,0,s.length);return d[c+0]=g>>>24&255,d[c+1]=g>>>16&255,d[c+2]=g>>>8&255,d[c+3]=g>>>0&255,new Uint8Array(d.buffer,0,c+4)},r.deflateRaw=function(s,l){l==null&&(l={level:6});var c=new Uint8Array(50+Math.floor(1.1*s.length)),d=r.F.deflateRaw(s,c,d,l.level);return new Uint8Array(c.buffer,0,d)},r.encode=function(s,l){l==null&&(l=!1);var c=0,d=r.bin.writeUint,g=r.bin.writeUshort,p={};for(var y in s){var _=!r._noNeed(y)&&!l,E=s[y],w=r.crc.crc(E,0,E.length);p[y]={cpr:_,usize:E.length,crc:w,file:_?r.deflateRaw(E):E}}for(var y in p)c+=p[y].file.length+30+46+2*r.bin.sizeUTF8(y);c+=22;var O=new Uint8Array(c),z=0,j=[];for(var y in p){var B=p[y];j.push(z),z=r._writeHeader(O,z,y,B,0)}var rt=0,Q=z;for(var y in p)B=p[y],j.push(z),z=r._writeHeader(O,z,y,B,1,j[rt++]);var K=z-Q;return d(O,z,101010256),z+=4,g(O,z+=4,rt),g(O,z+=2,rt),d(O,z+=2,K),d(O,z+=4,Q),z+=4,z+=2,O.buffer},r._noNeed=function(s){var l=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},r._writeHeader=function(s,l,c,d,g,p){var y=r.bin.writeUint,_=r.bin.writeUshort,E=d.file;return y(s,l,g==0?67324752:33639248),l+=4,g==1&&(l+=2),_(s,l,20),_(s,l+=2,0),_(s,l+=2,d.cpr?8:0),y(s,l+=2,0),y(s,l+=4,d.crc),y(s,l+=4,E.length),y(s,l+=4,d.usize),_(s,l+=4,r.bin.sizeUTF8(c)),_(s,l+=2,0),l+=2,g==1&&(l+=2,l+=2,y(s,l+=6,p),l+=4),l+=r.bin.writeUTF8(s,l,c),g==0&&(s.set(E,l),l+=E.length),l},r.crc={table:(function(){for(var s=new Uint32Array(256),l=0;l<256;l++){for(var c=l,d=0;d<8;d++)1&c?c=3988292384^c>>>1:c>>>=1;s[l]=c}return s})(),update:function(s,l,c,d){for(var g=0;g<d;g++)s=r.crc.table[255&(s^l[c+g])]^s>>>8;return s},crc:function(s,l,c){return 4294967295^r.crc.update(4294967295,s,l,c)}},r.adler=function(s,l,c){for(var d=1,g=0,p=l,y=l+c;p<y;){for(var _=Math.min(p+5552,y);p<_;)g+=d+=s[p++];d%=65521,g%=65521}return g<<16|d},r.bin={readUshort:function(s,l){return s[l]|s[l+1]<<8},writeUshort:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255},readUint:function(s,l){return 16777216*s[l+3]+(s[l+2]<<16|s[l+1]<<8|s[l])},writeUint:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255,s[l+2]=c>>16&255,s[l+3]=c>>24&255},readASCII:function(s,l,c){for(var d="",g=0;g<c;g++)d+=String.fromCharCode(s[l+g]);return d},writeASCII:function(s,l,c){for(var d=0;d<c.length;d++)s[l+d]=c.charCodeAt(d)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,l,c){for(var d,g="",p=0;p<c;p++)g+="%"+r.bin.pad(s[l+p].toString(16));try{d=decodeURIComponent(g)}catch{return r.bin.readASCII(s,l,c)}return d},writeUTF8:function(s,l,c){for(var d=c.length,g=0,p=0;p<d;p++){var y=c.charCodeAt(p);if((4294967168&y)==0)s[l+g]=y,g++;else if((4294965248&y)==0)s[l+g]=192|y>>6,s[l+g+1]=128|y>>0&63,g+=2;else if((4294901760&y)==0)s[l+g]=224|y>>12,s[l+g+1]=128|y>>6&63,s[l+g+2]=128|y>>0&63,g+=3;else{if((4292870144&y)!=0)throw"e";s[l+g]=240|y>>18,s[l+g+1]=128|y>>12&63,s[l+g+2]=128|y>>6&63,s[l+g+3]=128|y>>0&63,g+=4}}return g},sizeUTF8:function(s){for(var l=s.length,c=0,d=0;d<l;d++){var g=s.charCodeAt(d);if((4294967168&g)==0)c++;else if((4294965248&g)==0)c+=2;else if((4294901760&g)==0)c+=3;else{if((4292870144&g)!=0)throw"e";c+=4}}return c}},r.F={},r.F.deflateRaw=function(s,l,c,d){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],p=r.F.U,y=r.F._goodIndex;r.F._hash;var _=r.F._putsE,E=0,w=c<<3,O=0,z=s.length;if(d==0){for(;E<z;)_(l,w,E+(D=Math.min(65535,z-E))==z?1:0),w=r.F._copyExact(s,E,D,l,w+8),E+=D;return w>>>3}var j=p.lits,B=p.strt,rt=p.prev,Q=0,K=0,ut=0,L=0,M=0,b=0;for(z>2&&(B[b=r.F._hash(s,0)]=0),E=0;E<z;E++){if(M=b,E+1<z-2){b=r.F._hash(s,E+1);var A=E+1&32767;rt[A]=B[b],B[b]=A}if(O<=E){(Q>14e3||K>26697)&&z-E>100&&(O<E&&(j[Q]=E-O,Q+=2,O=E),w=r.F._writeBlock(E==z-1||O==z?1:0,j,Q,L,s,ut,E-ut,l,w),Q=K=L=0,ut=E);var C=0;E<z-2&&(C=r.F._bestMatch(s,E,rt,M,Math.min(g[2],z-E),g[3]));var D=C>>>16,N=65535&C;if(C!=0){N=65535&C;var I=y(D=C>>>16,p.of0);p.lhst[257+I]++;var F=y(N,p.df0);p.dhst[F]++,L+=p.exb[I]+p.dxb[F],j[Q]=D<<23|E-O,j[Q+1]=N<<16|I<<8|F,Q+=2,O=E+D}else p.lhst[s[E]]++;K++}}for(ut==E&&s.length!=0||(O<E&&(j[Q]=E-O,Q+=2,O=E),w=r.F._writeBlock(1,j,Q,L,s,ut,E-ut,l,w),Q=0,K=0,Q=K=L=0,ut=E);(7&w)!=0;)w++;return w>>>3},r.F._bestMatch=function(s,l,c,d,g,p){var y=32767&l,_=c[y],E=y-_+32768&32767;if(_==y||d!=r.F._hash(s,l-E))return 0;for(var w=0,O=0,z=Math.min(32767,l);E<=z&&--p!=0&&_!=y;){if(w==0||s[l+w]==s[l+w-E]){var j=r.F._howLong(s,l,E);if(j>w){if(O=E,(w=j)>=g)break;E+2<j&&(j=E+2);for(var B=0,rt=0;rt<j-2;rt++){var Q=l-E+rt+32768&32767,K=Q-c[Q]+32768&32767;K>B&&(B=K,_=Q)}}}E+=(y=_)-(_=c[y])+32768&32767}return w<<16|O},r.F._howLong=function(s,l,c){if(s[l]!=s[l-c]||s[l+1]!=s[l+1-c]||s[l+2]!=s[l+2-c])return 0;var d=l,g=Math.min(s.length,l+258);for(l+=3;l<g&&s[l]==s[l-c];)l++;return l-d},r.F._hash=function(s,l){return(s[l]<<8|s[l+1])+(s[l+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,l,c,d,g,p,y,_,E){var w,O,z,j,B,rt,Q,K,ut,L=r.F.U,M=r.F._putsF,b=r.F._putsE;L.lhst[256]++,O=(w=r.F.getTrees())[0],z=w[1],j=w[2],B=w[3],rt=w[4],Q=w[5],K=w[6],ut=w[7];var A=32+((E+3&7)==0?0:8-(E+3&7))+(y<<3),C=d+r.F.contSize(L.fltree,L.lhst)+r.F.contSize(L.fdtree,L.dhst),D=d+r.F.contSize(L.ltree,L.lhst)+r.F.contSize(L.dtree,L.dhst);D+=14+3*Q+r.F.contSize(L.itree,L.ihst)+(2*L.ihst[16]+3*L.ihst[17]+7*L.ihst[18]);for(var N=0;N<286;N++)L.lhst[N]=0;for(N=0;N<30;N++)L.dhst[N]=0;for(N=0;N<19;N++)L.ihst[N]=0;var I=A<C&&A<D?0:C<D?1:2;if(M(_,E,s),M(_,E+1,I),E+=3,I==0){for(;(7&E)!=0;)E++;E=r.F._copyExact(g,p,y,_,E)}else{var F,J;if(I==1&&(F=L.fltree,J=L.fdtree),I==2){r.F.makeCodes(L.ltree,O),r.F.revCodes(L.ltree,O),r.F.makeCodes(L.dtree,z),r.F.revCodes(L.dtree,z),r.F.makeCodes(L.itree,j),r.F.revCodes(L.itree,j),F=L.ltree,J=L.dtree,b(_,E,B-257),b(_,E+=5,rt-1),b(_,E+=5,Q-4),E+=4;for(var R=0;R<Q;R++)b(_,E+3*R,L.itree[1+(L.ordr[R]<<1)]);E+=3*Q,E=r.F._codeTiny(K,L.itree,_,E),E=r.F._codeTiny(ut,L.itree,_,E)}for(var x=p,nt=0;nt<c;nt+=2){for(var Y=l[nt],at=Y>>>23,U=x+(8388607&Y);x<U;)E=r.F._writeLit(g[x++],F,_,E);if(at!=0){var H=l[nt+1],ot=H>>16,et=H>>8&255,Z=255&H;b(_,E=r.F._writeLit(257+et,F,_,E),at-L.of0[et]),E+=L.exb[et],M(_,E=r.F._writeLit(Z,J,_,E),ot-L.df0[Z]),E+=L.dxb[Z],x+=at}}E=r.F._writeLit(256,F,_,E)}return E},r.F._copyExact=function(s,l,c,d,g){var p=g>>>3;return d[p]=c,d[p+1]=c>>>8,d[p+2]=255-d[p],d[p+3]=255-d[p+1],p+=4,d.set(new Uint8Array(s.buffer,l,c),p),g+(c+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,l=r.F._hufTree(s.lhst,s.ltree,15),c=r.F._hufTree(s.dhst,s.dtree,15),d=[],g=r.F._lenCodes(s.ltree,d),p=[],y=r.F._lenCodes(s.dtree,p),_=0;_<d.length;_+=2)s.ihst[d[_]]++;for(_=0;_<p.length;_+=2)s.ihst[p[_]]++;for(var E=r.F._hufTree(s.ihst,s.itree,7),w=19;w>4&&s.itree[1+(s.ordr[w-1]<<1)]==0;)w--;return[l,c,E,g,y,w,d,p]},r.F.getSecond=function(s){for(var l=[],c=0;c<s.length;c+=2)l.push(s[c+1]);return l},r.F.nonZero=function(s){for(var l="",c=0;c<s.length;c+=2)s[c+1]!=0&&(l+=(c>>1)+",");return l},r.F.contSize=function(s,l){for(var c=0,d=0;d<l.length;d++)c+=l[d]*s[1+(d<<1)];return c},r.F._codeTiny=function(s,l,c,d){for(var g=0;g<s.length;g+=2){var p=s[g],y=s[g+1];d=r.F._writeLit(p,l,c,d);var _=p==16?2:p==17?3:7;p>15&&(r.F._putsE(c,d,y,_),d+=_)}return d},r.F._lenCodes=function(s,l){for(var c=s.length;c!=2&&s[c-1]==0;)c-=2;for(var d=0;d<c;d+=2){var g=s[d+1],p=d+3<c?s[d+3]:-1,y=d+5<c?s[d+5]:-1,_=d==0?-1:s[d-1];if(g==0&&p==g&&y==g){for(var E=d+5;E+2<c&&s[E+2]==g;)E+=2;(w=Math.min(E+1-d>>>1,138))<11?l.push(17,w-3):l.push(18,w-11),d+=2*w-2}else if(g==_&&p==g&&y==g){for(E=d+5;E+2<c&&s[E+2]==g;)E+=2;var w=Math.min(E+1-d>>>1,6);l.push(16,w-3),d+=2*w-2}else l.push(g,0)}return c>>>1},r.F._hufTree=function(s,l,c){var d=[],g=s.length,p=l.length,y=0;for(y=0;y<p;y+=2)l[y]=0,l[y+1]=0;for(y=0;y<g;y++)s[y]!=0&&d.push({lit:y,f:s[y]});var _=d.length,E=d.slice(0);if(_==0)return 0;if(_==1){var w=d[0].lit;return E=w==0?1:0,l[1+(w<<1)]=1,l[1+(E<<1)]=1,1}d.sort((function(K,ut){return K.f-ut.f}));var O=d[0],z=d[1],j=0,B=1,rt=2;for(d[0]={lit:-1,f:O.f+z.f,l:O,r:z,d:0};B!=_-1;)O=j!=B&&(rt==_||d[j].f<d[rt].f)?d[j++]:d[rt++],z=j!=B&&(rt==_||d[j].f<d[rt].f)?d[j++]:d[rt++],d[B++]={lit:-1,f:O.f+z.f,l:O,r:z};var Q=r.F.setDepth(d[B-1],0);for(Q>c&&(r.F.restrictDepth(E,c,Q),Q=c),y=0;y<_;y++)l[1+(E[y].lit<<1)]=E[y].d;return Q},r.F.setDepth=function(s,l){return s.lit!=-1?(s.d=l,l):Math.max(r.F.setDepth(s.l,l+1),r.F.setDepth(s.r,l+1))},r.F.restrictDepth=function(s,l,c){var d=0,g=1<<c-l,p=0;for(s.sort((function(_,E){return E.d==_.d?_.f-E.f:E.d-_.d})),d=0;d<s.length&&s[d].d>l;d++){var y=s[d].d;s[d].d=l,p+=g-(1<<c-y)}for(p>>>=c-l;p>0;)(y=s[d].d)<l?(s[d].d++,p-=1<<l-y-1):d++;for(;d>=0;d--)s[d].d==l&&p<0&&(s[d].d--,p++);p!=0&&console.log("debt left")},r.F._goodIndex=function(s,l){var c=0;return l[16|c]<=s&&(c|=16),l[8|c]<=s&&(c|=8),l[4|c]<=s&&(c|=4),l[2|c]<=s&&(c|=2),l[1|c]<=s&&(c|=1),c},r.F._writeLit=function(s,l,c,d){return r.F._putsF(c,d,l[s<<1]),d+l[1+(s<<1)]},r.F.inflate=function(s,l){var c=Uint8Array;if(s[0]==3&&s[1]==0)return l||new c(0);var d=r.F,g=d._bitsF,p=d._bitsE,y=d._decodeTiny,_=d.makeCodes,E=d.codes2map,w=d._get17,O=d.U,z=l==null;z&&(l=new c(s.length>>>2<<3));for(var j,B,rt=0,Q=0,K=0,ut=0,L=0,M=0,b=0,A=0,C=0;rt==0;)if(rt=g(s,C,1),Q=g(s,C+1,2),C+=3,Q!=0){if(z&&(l=r.F._check(l,A+(1<<17))),Q==1&&(j=O.flmap,B=O.fdmap,M=511,b=31),Q==2){K=p(s,C,5)+257,ut=p(s,C+5,5)+1,L=p(s,C+10,4)+4,C+=14;for(var D=0;D<38;D+=2)O.itree[D]=0,O.itree[D+1]=0;var N=1;for(D=0;D<L;D++){var I=p(s,C+3*D,3);O.itree[1+(O.ordr[D]<<1)]=I,I>N&&(N=I)}C+=3*L,_(O.itree,N),E(O.itree,N,O.imap),j=O.lmap,B=O.dmap,C=y(O.imap,(1<<N)-1,K+ut,s,C,O.ttree);var F=d._copyOut(O.ttree,0,K,O.ltree);M=(1<<F)-1;var J=d._copyOut(O.ttree,K,ut,O.dtree);b=(1<<J)-1,_(O.ltree,F),E(O.ltree,F,j),_(O.dtree,J),E(O.dtree,J,B)}for(;;){var R=j[w(s,C)&M];C+=15&R;var x=R>>>4;if(!(x>>>8))l[A++]=x;else{if(x==256)break;var nt=A+x-254;if(x>264){var Y=O.ldef[x-257];nt=A+(Y>>>3)+p(s,C,7&Y),C+=7&Y}var at=B[w(s,C)&b];C+=15&at;var U=at>>>4,H=O.ddef[U],ot=(H>>>4)+g(s,C,15&H);for(C+=15&H,z&&(l=r.F._check(l,A+(1<<17)));A<nt;)l[A]=l[A++-ot],l[A]=l[A++-ot],l[A]=l[A++-ot],l[A]=l[A++-ot];A=nt}}}else{(7&C)!=0&&(C+=8-(7&C));var et=4+(C>>>3),Z=s[et-4]|s[et-3]<<8;z&&(l=r.F._check(l,A+Z)),l.set(new c(s.buffer,s.byteOffset+et,Z),A),C=et+Z<<3,A+=Z}return l.length==A?l:l.slice(0,A)},r.F._check=function(s,l){var c=s.length;if(l<=c)return s;var d=new Uint8Array(Math.max(c<<1,l));return d.set(s,0),d},r.F._decodeTiny=function(s,l,c,d,g,p){for(var y=r.F._bitsE,_=r.F._get17,E=0;E<c;){var w=s[_(d,g)&l];g+=15&w;var O=w>>>4;if(O<=15)p[E]=O,E++;else{var z=0,j=0;O==16?(j=3+y(d,g,2),g+=2,z=p[E-1]):O==17?(j=3+y(d,g,3),g+=3):O==18&&(j=11+y(d,g,7),g+=7);for(var B=E+j;E<B;)p[E]=z,E++}}return g},r.F._copyOut=function(s,l,c,d){for(var g=0,p=0,y=d.length>>>1;p<c;){var _=s[p+l];d[p<<1]=0,d[1+(p<<1)]=_,_>g&&(g=_),p++}for(;p<y;)d[p<<1]=0,d[1+(p<<1)]=0,p++;return g},r.F.makeCodes=function(s,l){for(var c,d,g,p,y=r.F.U,_=s.length,E=y.bl_count,w=0;w<=l;w++)E[w]=0;for(w=1;w<_;w+=2)E[s[w]]++;var O=y.next_code;for(c=0,E[0]=0,d=1;d<=l;d++)c=c+E[d-1]<<1,O[d]=c;for(g=0;g<_;g+=2)(p=s[g+1])!=0&&(s[g]=O[p],O[p]++)},r.F.codes2map=function(s,l,c){for(var d=s.length,g=r.F.U.rev15,p=0;p<d;p+=2)if(s[p+1]!=0)for(var y=p>>1,_=s[p+1],E=y<<4|_,w=l-_,O=s[p]<<w,z=O+(1<<w);O!=z;)c[g[O]>>>15-l]=E,O++},r.F.revCodes=function(s,l){for(var c=r.F.U.rev15,d=15-l,g=0;g<s.length;g+=2){var p=s[g]<<l-s[g+1];s[g]=c[p]>>>d}},r.F._putsE=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8},r.F._putsF=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8,s[d+2]|=c>>>16},r.F._bitsE=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8)>>>(7&l)&(1<<c)-1},r.F._bitsF=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)&(1<<c)-1},r.F._get17=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)},r.F._get25=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16|s[3+(l>>>3)]<<24)>>>(7&l)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var s=r.F.U,l=0;l<32768;l++){var c=l;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,s.rev15[l]=(c>>>16|c<<16)>>>17}function d(g,p,y){for(;p--!=0;)g.push(0,y)}for(l=0;l<32;l++)s.ldef[l]=s.of0[l]<<3|s.exb[l],s.ddef[l]=s.df0[l]<<4|s.dxb[l];d(s.fltree,144,8),d(s.fltree,112,9),d(s.fltree,24,7),d(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),d(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),d(s.itree,19,0),d(s.ltree,286,0),d(s.dtree,30,0),d(s.ttree,320,0)})()})();var sD=iD({__proto__:null,default:lf},[lf]);const xi=(function(){var a={nextZero(y,_){for(;y[_]!=0;)_++;return _},readUshort:(y,_)=>y[_]<<8|y[_+1],writeUshort(y,_,E){y[_]=E>>8&255,y[_+1]=255&E},readUint:(y,_)=>16777216*y[_]+(y[_+1]<<16|y[_+2]<<8|y[_+3]),writeUint(y,_,E){y[_]=E>>24&255,y[_+1]=E>>16&255,y[_+2]=E>>8&255,y[_+3]=255&E},readASCII(y,_,E){let w="";for(let O=0;O<E;O++)w+=String.fromCharCode(y[_+O]);return w},writeASCII(y,_,E){for(let w=0;w<E.length;w++)y[_+w]=E.charCodeAt(w)},readBytes(y,_,E){const w=[];for(let O=0;O<E;O++)w.push(y[_+O]);return w},pad:y=>y.length<2?`0${y}`:y,readUTF8(y,_,E){let w,O="";for(let z=0;z<E;z++)O+=`%${a.pad(y[_+z].toString(16))}`;try{w=decodeURIComponent(O)}catch{return a.readASCII(y,_,E)}return w}};function t(y,_,E,w){const O=_*E,z=l(w),j=Math.ceil(_*z/8),B=new Uint8Array(4*O),rt=new Uint32Array(B.buffer),{ctype:Q}=w,{depth:K}=w,ut=a.readUshort;if(Q==6){const Y=O<<2;if(K==8)for(var L=0;L<Y;L+=4)B[L]=y[L],B[L+1]=y[L+1],B[L+2]=y[L+2],B[L+3]=y[L+3];if(K==16)for(L=0;L<Y;L++)B[L]=y[L<<1]}else if(Q==2){const Y=w.tabs.tRNS;if(Y==null){if(K==8)for(L=0;L<O;L++){var M=3*L;rt[L]=255<<24|y[M+2]<<16|y[M+1]<<8|y[M]}if(K==16)for(L=0;L<O;L++)M=6*L,rt[L]=255<<24|y[M+4]<<16|y[M+2]<<8|y[M]}else{var b=Y[0];const at=Y[1],U=Y[2];if(K==8)for(L=0;L<O;L++){var A=L<<2;M=3*L,rt[L]=255<<24|y[M+2]<<16|y[M+1]<<8|y[M],y[M]==b&&y[M+1]==at&&y[M+2]==U&&(B[A+3]=0)}if(K==16)for(L=0;L<O;L++)A=L<<2,M=6*L,rt[L]=255<<24|y[M+4]<<16|y[M+2]<<8|y[M],ut(y,M)==b&&ut(y,M+2)==at&&ut(y,M+4)==U&&(B[A+3]=0)}}else if(Q==3){const Y=w.tabs.PLTE,at=w.tabs.tRNS,U=at?at.length:0;if(K==1)for(var C=0;C<E;C++){var D=C*j,N=C*_;for(L=0;L<_;L++){A=N+L<<2;var I=3*(F=y[D+(L>>3)]>>7-((7&L)<<0)&1);B[A]=Y[I],B[A+1]=Y[I+1],B[A+2]=Y[I+2],B[A+3]=F<U?at[F]:255}}if(K==2)for(C=0;C<E;C++)for(D=C*j,N=C*_,L=0;L<_;L++)A=N+L<<2,I=3*(F=y[D+(L>>2)]>>6-((3&L)<<1)&3),B[A]=Y[I],B[A+1]=Y[I+1],B[A+2]=Y[I+2],B[A+3]=F<U?at[F]:255;if(K==4)for(C=0;C<E;C++)for(D=C*j,N=C*_,L=0;L<_;L++)A=N+L<<2,I=3*(F=y[D+(L>>1)]>>4-((1&L)<<2)&15),B[A]=Y[I],B[A+1]=Y[I+1],B[A+2]=Y[I+2],B[A+3]=F<U?at[F]:255;if(K==8)for(L=0;L<O;L++){var F;A=L<<2,I=3*(F=y[L]),B[A]=Y[I],B[A+1]=Y[I+1],B[A+2]=Y[I+2],B[A+3]=F<U?at[F]:255}}else if(Q==4){if(K==8)for(L=0;L<O;L++){A=L<<2;var J=y[R=L<<1];B[A]=J,B[A+1]=J,B[A+2]=J,B[A+3]=y[R+1]}if(K==16)for(L=0;L<O;L++){var R;A=L<<2,J=y[R=L<<2],B[A]=J,B[A+1]=J,B[A+2]=J,B[A+3]=y[R+2]}}else if(Q==0)for(b=w.tabs.tRNS?w.tabs.tRNS:-1,C=0;C<E;C++){const Y=C*j,at=C*_;if(K==1)for(var x=0;x<_;x++){var nt=(J=255*(y[Y+(x>>>3)]>>>7-(7&x)&1))==255*b?0:255;rt[at+x]=nt<<24|J<<16|J<<8|J}else if(K==2)for(x=0;x<_;x++)nt=(J=85*(y[Y+(x>>>2)]>>>6-((3&x)<<1)&3))==85*b?0:255,rt[at+x]=nt<<24|J<<16|J<<8|J;else if(K==4)for(x=0;x<_;x++)nt=(J=17*(y[Y+(x>>>1)]>>>4-((1&x)<<2)&15))==17*b?0:255,rt[at+x]=nt<<24|J<<16|J<<8|J;else if(K==8)for(x=0;x<_;x++)nt=(J=y[Y+x])==b?0:255,rt[at+x]=nt<<24|J<<16|J<<8|J;else if(K==16)for(x=0;x<_;x++)J=y[Y+(x<<1)],nt=ut(y,Y+(x<<1))==b?0:255,rt[at+x]=nt<<24|J<<16|J<<8|J}return B}function n(y,_,E,w){const O=l(y),z=Math.ceil(E*O/8),j=new Uint8Array((z+1+y.interlace)*w);return _=y.tabs.CgBI?s(_,j):r(_,j),y.interlace==0?_=c(_,y,0,E,w):y.interlace==1&&(_=(function(rt,Q){const K=Q.width,ut=Q.height,L=l(Q),M=L>>3,b=Math.ceil(K*L/8),A=new Uint8Array(ut*b);let C=0;const D=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let J=0;for(;J<7;){const x=I[J],nt=F[J];let Y=0,at=0,U=D[J];for(;U<ut;)U+=x,at++;let H=N[J];for(;H<K;)H+=nt,Y++;const ot=Math.ceil(Y*L/8);c(rt,Q,C,Y,at);let et=0,Z=D[J];for(;Z<ut;){let gt=N[J],At=C+et*ot<<3;for(;gt<K;){var R;if(L==1&&(R=(R=rt[At>>3])>>7-(7&At)&1,A[Z*b+(gt>>3)]|=R<<7-((7&gt)<<0)),L==2&&(R=(R=rt[At>>3])>>6-(7&At)&3,A[Z*b+(gt>>2)]|=R<<6-((3&gt)<<1)),L==4&&(R=(R=rt[At>>3])>>4-(7&At)&15,A[Z*b+(gt>>1)]|=R<<4-((1&gt)<<2)),L>=8){const Ct=Z*b+gt*M;for(let wt=0;wt<M;wt++)A[Ct+wt]=rt[(At>>3)+wt]}At+=L,gt+=nt}et++,Z+=x}Y*at!=0&&(C+=at*(1+ot)),J+=1}return A})(_,y)),_}function r(y,_){return s(new Uint8Array(y.buffer,2,y.length-6),_)}var s=(function(){const y={H:{}};return y.H.N=function(_,E){const w=Uint8Array;let O,z,j=0,B=0,rt=0,Q=0,K=0,ut=0,L=0,M=0,b=0;if(_[0]==3&&_[1]==0)return E||new w(0);const A=y.H,C=A.b,D=A.e,N=A.R,I=A.n,F=A.A,J=A.Z,R=A.m,x=E==null;for(x&&(E=new w(_.length>>>2<<5));j==0;)if(j=C(_,b,1),B=C(_,b+1,2),b+=3,B!=0){if(x&&(E=y.H.W(E,M+(1<<17))),B==1&&(O=R.J,z=R.h,ut=511,L=31),B==2){rt=D(_,b,5)+257,Q=D(_,b+5,5)+1,K=D(_,b+10,4)+4,b+=14;let Y=1;for(var nt=0;nt<38;nt+=2)R.Q[nt]=0,R.Q[nt+1]=0;for(nt=0;nt<K;nt++){const H=D(_,b+3*nt,3);R.Q[1+(R.X[nt]<<1)]=H,H>Y&&(Y=H)}b+=3*K,I(R.Q,Y),F(R.Q,Y,R.u),O=R.w,z=R.d,b=N(R.u,(1<<Y)-1,rt+Q,_,b,R.v);const at=A.V(R.v,0,rt,R.C);ut=(1<<at)-1;const U=A.V(R.v,rt,Q,R.D);L=(1<<U)-1,I(R.C,at),F(R.C,at,O),I(R.D,U),F(R.D,U,z)}for(;;){const Y=O[J(_,b)&ut];b+=15&Y;const at=Y>>>4;if(!(at>>>8))E[M++]=at;else{if(at==256)break;{let U=M+at-254;if(at>264){const gt=R.q[at-257];U=M+(gt>>>3)+D(_,b,7&gt),b+=7&gt}const H=z[J(_,b)&L];b+=15&H;const ot=H>>>4,et=R.c[ot],Z=(et>>>4)+C(_,b,15&et);for(b+=15&et;M<U;)E[M]=E[M++-Z],E[M]=E[M++-Z],E[M]=E[M++-Z],E[M]=E[M++-Z];M=U}}}}else{(7&b)!=0&&(b+=8-(7&b));const Y=4+(b>>>3),at=_[Y-4]|_[Y-3]<<8;x&&(E=y.H.W(E,M+at)),E.set(new w(_.buffer,_.byteOffset+Y,at),M),b=Y+at<<3,M+=at}return E.length==M?E:E.slice(0,M)},y.H.W=function(_,E){const w=_.length;if(E<=w)return _;const O=new Uint8Array(w<<1);return O.set(_,0),O},y.H.R=function(_,E,w,O,z,j){const B=y.H.e,rt=y.H.Z;let Q=0;for(;Q<w;){const K=_[rt(O,z)&E];z+=15&K;const ut=K>>>4;if(ut<=15)j[Q]=ut,Q++;else{let L=0,M=0;ut==16?(M=3+B(O,z,2),z+=2,L=j[Q-1]):ut==17?(M=3+B(O,z,3),z+=3):ut==18&&(M=11+B(O,z,7),z+=7);const b=Q+M;for(;Q<b;)j[Q]=L,Q++}}return z},y.H.V=function(_,E,w,O){let z=0,j=0;const B=O.length>>>1;for(;j<w;){const rt=_[j+E];O[j<<1]=0,O[1+(j<<1)]=rt,rt>z&&(z=rt),j++}for(;j<B;)O[j<<1]=0,O[1+(j<<1)]=0,j++;return z},y.H.n=function(_,E){const w=y.H.m,O=_.length;let z,j,B,rt;const Q=w.j;for(var K=0;K<=E;K++)Q[K]=0;for(K=1;K<O;K+=2)Q[_[K]]++;const ut=w.K;for(z=0,Q[0]=0,j=1;j<=E;j++)z=z+Q[j-1]<<1,ut[j]=z;for(B=0;B<O;B+=2)rt=_[B+1],rt!=0&&(_[B]=ut[rt],ut[rt]++)},y.H.A=function(_,E,w){const O=_.length,z=y.H.m.r;for(let j=0;j<O;j+=2)if(_[j+1]!=0){const B=j>>1,rt=_[j+1],Q=B<<4|rt,K=E-rt;let ut=_[j]<<K;const L=ut+(1<<K);for(;ut!=L;)w[z[ut]>>>15-E]=Q,ut++}},y.H.l=function(_,E){const w=y.H.m.r,O=15-E;for(let z=0;z<_.length;z+=2){const j=_[z]<<E-_[z+1];_[z]=w[j]>>>O}},y.H.M=function(_,E,w){w<<=7&E;const O=E>>>3;_[O]|=w,_[O+1]|=w>>>8},y.H.I=function(_,E,w){w<<=7&E;const O=E>>>3;_[O]|=w,_[O+1]|=w>>>8,_[O+2]|=w>>>16},y.H.e=function(_,E,w){return(_[E>>>3]|_[1+(E>>>3)]<<8)>>>(7&E)&(1<<w)-1},y.H.b=function(_,E,w){return(_[E>>>3]|_[1+(E>>>3)]<<8|_[2+(E>>>3)]<<16)>>>(7&E)&(1<<w)-1},y.H.Z=function(_,E){return(_[E>>>3]|_[1+(E>>>3)]<<8|_[2+(E>>>3)]<<16)>>>(7&E)},y.H.i=function(_,E){return(_[E>>>3]|_[1+(E>>>3)]<<8|_[2+(E>>>3)]<<16|_[3+(E>>>3)]<<24)>>>(7&E)},y.H.m=(function(){const _=Uint16Array,E=Uint32Array;return{K:new _(16),j:new _(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new _(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new E(32),J:new _(512),_:[],h:new _(32),$:[],w:new _(32768),C:[],v:[],d:new _(32768),D:[],u:new _(512),Q:[],r:new _(32768),s:new E(286),Y:new E(30),a:new E(19),t:new E(15e3),k:new _(65536),g:new _(32768)}})(),(function(){const _=y.H.m;for(var E=0;E<32768;E++){let O=E;O=(2863311530&O)>>>1|(1431655765&O)<<1,O=(3435973836&O)>>>2|(858993459&O)<<2,O=(4042322160&O)>>>4|(252645135&O)<<4,O=(4278255360&O)>>>8|(16711935&O)<<8,_.r[E]=(O>>>16|O<<16)>>>17}function w(O,z,j){for(;z--!=0;)O.push(0,j)}for(E=0;E<32;E++)_.q[E]=_.S[E]<<3|_.T[E],_.c[E]=_.p[E]<<4|_.z[E];w(_._,144,8),w(_._,112,9),w(_._,24,7),w(_._,8,8),y.H.n(_._,9),y.H.A(_._,9,_.J),y.H.l(_._,9),w(_.$,32,5),y.H.n(_.$,5),y.H.A(_.$,5,_.h),y.H.l(_.$,5),w(_.Q,19,0),w(_.C,286,0),w(_.D,30,0),w(_.v,320,0)})(),y.H.N})();function l(y){return[1,null,3,1,2,null,4][y.ctype]*y.depth}function c(y,_,E,w,O){let z=l(_);const j=Math.ceil(w*z/8);let B,rt;z=Math.ceil(z/8);let Q=y[E],K=0;if(Q>1&&(y[E]=[0,0,1][Q-2]),Q==3)for(K=z;K<j;K++)y[K+1]=y[K+1]+(y[K+1-z]>>>1)&255;for(let ut=0;ut<O;ut++)if(B=E+ut*j,rt=B+ut+1,Q=y[rt-1],K=0,Q==0)for(;K<j;K++)y[B+K]=y[rt+K];else if(Q==1){for(;K<z;K++)y[B+K]=y[rt+K];for(;K<j;K++)y[B+K]=y[rt+K]+y[B+K-z]}else if(Q==2)for(;K<j;K++)y[B+K]=y[rt+K]+y[B+K-j];else if(Q==3){for(;K<z;K++)y[B+K]=y[rt+K]+(y[B+K-j]>>>1);for(;K<j;K++)y[B+K]=y[rt+K]+(y[B+K-j]+y[B+K-z]>>>1)}else{for(;K<z;K++)y[B+K]=y[rt+K]+d(0,y[B+K-j],0);for(;K<j;K++)y[B+K]=y[rt+K]+d(y[B+K-z],y[B+K-j],y[B+K-z-j])}return y}function d(y,_,E){const w=y+_-E,O=w-y,z=w-_,j=w-E;return O*O<=z*z&&O*O<=j*j?y:z*z<=j*j?_:E}function g(y,_,E){E.width=a.readUint(y,_),_+=4,E.height=a.readUint(y,_),_+=4,E.depth=y[_],_++,E.ctype=y[_],_++,E.compress=y[_],_++,E.filter=y[_],_++,E.interlace=y[_],_++}function p(y,_,E,w,O,z,j,B,rt){const Q=Math.min(_,O),K=Math.min(E,z);let ut=0,L=0;for(let J=0;J<K;J++)for(let R=0;R<Q;R++)if(j>=0&&B>=0?(ut=J*_+R<<2,L=(B+J)*O+j+R<<2):(ut=(-B+J)*_-j+R<<2,L=J*O+R<<2),rt==0)w[L]=y[ut],w[L+1]=y[ut+1],w[L+2]=y[ut+2],w[L+3]=y[ut+3];else if(rt==1){var M=y[ut+3]*.00392156862745098,b=y[ut]*M,A=y[ut+1]*M,C=y[ut+2]*M,D=w[L+3]*(1/255),N=w[L]*D,I=w[L+1]*D,F=w[L+2]*D;const x=1-M,nt=M+D*x,Y=nt==0?0:1/nt;w[L+3]=255*nt,w[L+0]=(b+N*x)*Y,w[L+1]=(A+I*x)*Y,w[L+2]=(C+F*x)*Y}else if(rt==2)M=y[ut+3],b=y[ut],A=y[ut+1],C=y[ut+2],D=w[L+3],N=w[L],I=w[L+1],F=w[L+2],M==D&&b==N&&A==I&&C==F?(w[L]=0,w[L+1]=0,w[L+2]=0,w[L+3]=0):(w[L]=b,w[L+1]=A,w[L+2]=C,w[L+3]=M);else if(rt==3){if(M=y[ut+3],b=y[ut],A=y[ut+1],C=y[ut+2],D=w[L+3],N=w[L],I=w[L+1],F=w[L+2],M==D&&b==N&&A==I&&C==F)continue;if(M<220&&D>20)return!1}return!0}return{decode:function(_){const E=new Uint8Array(_);let w=8;const O=a,z=O.readUshort,j=O.readUint,B={tabs:{},frames:[]},rt=new Uint8Array(E.length);let Q,K=0,ut=0;const L=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(E[M]!=L[M])throw"The input is not a PNG file!";for(;w<E.length;){const J=O.readUint(E,w);w+=4;const R=O.readASCII(E,w,4);if(w+=4,R=="IHDR")g(E,w,B);else if(R=="iCCP"){for(var b=w;E[b]!=0;)b++;O.readASCII(E,w,b-w),E[b+1];const x=E.slice(b+2,w+J);let nt=null;try{nt=r(x)}catch{nt=s(x)}B.tabs[R]=nt}else if(R=="CgBI")B.tabs[R]=E.slice(w,w+4);else if(R=="IDAT"){for(M=0;M<J;M++)rt[K+M]=E[w+M];K+=J}else if(R=="acTL")B.tabs[R]={num_frames:j(E,w),num_plays:j(E,w+4)},Q=new Uint8Array(E.length);else if(R=="fcTL"){ut!=0&&((F=B.frames[B.frames.length-1]).data=n(B,Q.slice(0,ut),F.rect.width,F.rect.height),ut=0);const x={x:j(E,w+12),y:j(E,w+16),width:j(E,w+4),height:j(E,w+8)};let nt=z(E,w+22);nt=z(E,w+20)/(nt==0?100:nt);const Y={rect:x,delay:Math.round(1e3*nt),dispose:E[w+24],blend:E[w+25]};B.frames.push(Y)}else if(R=="fdAT"){for(M=0;M<J-4;M++)Q[ut+M]=E[w+M+4];ut+=J-4}else if(R=="pHYs")B.tabs[R]=[O.readUint(E,w),O.readUint(E,w+4),E[w+8]];else if(R=="cHRM")for(B.tabs[R]=[],M=0;M<8;M++)B.tabs[R].push(O.readUint(E,w+4*M));else if(R=="tEXt"||R=="zTXt"){B.tabs[R]==null&&(B.tabs[R]={});var A=O.nextZero(E,w),C=O.readASCII(E,w,A-w),D=w+J-A-1;if(R=="tEXt")I=O.readASCII(E,A+1,D);else{var N=r(E.slice(A+2,A+2+D));I=O.readUTF8(N,0,N.length)}B.tabs[R][C]=I}else if(R=="iTXt"){B.tabs[R]==null&&(B.tabs[R]={}),A=0,b=w,A=O.nextZero(E,b),C=O.readASCII(E,b,A-b);const x=E[b=A+1];var I;E[b+1],b+=2,A=O.nextZero(E,b),O.readASCII(E,b,A-b),b=A+1,A=O.nextZero(E,b),O.readUTF8(E,b,A-b),D=J-((b=A+1)-w),x==0?I=O.readUTF8(E,b,D):(N=r(E.slice(b,b+D)),I=O.readUTF8(N,0,N.length)),B.tabs[R][C]=I}else if(R=="PLTE")B.tabs[R]=O.readBytes(E,w,J);else if(R=="hIST"){const x=B.tabs.PLTE.length/3;for(B.tabs[R]=[],M=0;M<x;M++)B.tabs[R].push(z(E,w+2*M))}else if(R=="tRNS")B.ctype==3?B.tabs[R]=O.readBytes(E,w,J):B.ctype==0?B.tabs[R]=z(E,w):B.ctype==2&&(B.tabs[R]=[z(E,w),z(E,w+2),z(E,w+4)]);else if(R=="gAMA")B.tabs[R]=O.readUint(E,w)/1e5;else if(R=="sRGB")B.tabs[R]=E[w];else if(R=="bKGD")B.ctype==0||B.ctype==4?B.tabs[R]=[z(E,w)]:B.ctype==2||B.ctype==6?B.tabs[R]=[z(E,w),z(E,w+2),z(E,w+4)]:B.ctype==3&&(B.tabs[R]=E[w]);else if(R=="IEND")break;w+=J,O.readUint(E,w),w+=4}var F;return ut!=0&&((F=B.frames[B.frames.length-1]).data=n(B,Q.slice(0,ut),F.rect.width,F.rect.height)),B.data=n(B,rt,B.width,B.height),delete B.compress,delete B.interlace,delete B.filter,B},toRGBA8:function(_){const E=_.width,w=_.height;if(_.tabs.acTL==null)return[t(_.data,E,w,_).buffer];const O=[];_.frames[0].data==null&&(_.frames[0].data=_.data);const z=E*w*4,j=new Uint8Array(z),B=new Uint8Array(z),rt=new Uint8Array(z);for(let K=0;K<_.frames.length;K++){const ut=_.frames[K],L=ut.rect.x,M=ut.rect.y,b=ut.rect.width,A=ut.rect.height,C=t(ut.data,b,A,_);if(K!=0)for(var Q=0;Q<z;Q++)rt[Q]=j[Q];if(ut.blend==0?p(C,b,A,j,E,w,L,M,0):ut.blend==1&&p(C,b,A,j,E,w,L,M,1),O.push(j.buffer.slice(0)),ut.dispose!=0){if(ut.dispose==1)p(B,b,A,j,E,w,L,M,0);else if(ut.dispose==2)for(Q=0;Q<z;Q++)j[Q]=rt[Q]}}return O},_paeth:d,_copyTile:p,_bin:a}})();(function(){const{_copyTile:a}=xi,{_bin:t}=xi,n=xi._paeth;var r={table:(function(){const b=new Uint32Array(256);for(let A=0;A<256;A++){let C=A;for(let D=0;D<8;D++)1&C?C=3988292384^C>>>1:C>>>=1;b[A]=C}return b})(),update(b,A,C,D){for(let N=0;N<D;N++)b=r.table[255&(b^A[C+N])]^b>>>8;return b},crc:(b,A,C)=>4294967295^r.update(4294967295,b,A,C)};function s(b,A,C,D){A[C]+=b[0]*D>>4,A[C+1]+=b[1]*D>>4,A[C+2]+=b[2]*D>>4,A[C+3]+=b[3]*D>>4}function l(b){return Math.max(0,Math.min(255,b))}function c(b,A){const C=b[0]-A[0],D=b[1]-A[1],N=b[2]-A[2],I=b[3]-A[3];return C*C+D*D+N*N+I*I}function d(b,A,C,D,N,I,F){F==null&&(F=1);const J=D.length,R=[];for(var x=0;x<J;x++){const Z=D[x];R.push([Z>>>0&255,Z>>>8&255,Z>>>16&255,Z>>>24&255])}for(x=0;x<J;x++){let Z=4294967295;for(var nt=0,Y=0;Y<J;Y++){var at=c(R[x],R[Y]);Y!=x&&at<Z&&(Z=at,nt=Y)}}const U=new Uint32Array(N.buffer),H=new Int16Array(A*C*4),ot=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(x=0;x<ot.length;x++)ot[x]=255*((ot[x]+.5)/16-.5);for(let Z=0;Z<C;Z++)for(let gt=0;gt<A;gt++){var et;x=4*(Z*A+gt),F!=2?et=[l(b[x]+H[x]),l(b[x+1]+H[x+1]),l(b[x+2]+H[x+2]),l(b[x+3]+H[x+3])]:(at=ot[4*(3&Z)+(3&gt)],et=[l(b[x]+at),l(b[x+1]+at),l(b[x+2]+at),l(b[x+3]+at)]),nt=0;let At=16777215;for(Y=0;Y<J;Y++){const Kt=c(et,R[Y]);Kt<At&&(At=Kt,nt=Y)}const Ct=R[nt],wt=[et[0]-Ct[0],et[1]-Ct[1],et[2]-Ct[2],et[3]-Ct[3]];F==1&&(gt!=A-1&&s(wt,H,x+4,7),Z!=C-1&&(gt!=0&&s(wt,H,x+4*A-4,3),s(wt,H,x+4*A,5),gt!=A-1&&s(wt,H,x+4*A+4,1))),I[x>>2]=nt,U[x>>2]=D[nt]}}function g(b,A,C,D,N){N==null&&(N={});const{crc:I}=r,F=t.writeUint,J=t.writeUshort,R=t.writeASCII;let x=8;const nt=b.frames.length>1;let Y,at=!1,U=33+(nt?20:0);if(N.sRGB!=null&&(U+=13),N.pHYs!=null&&(U+=21),N.iCCP!=null&&(Y=pako.deflate(N.iCCP),U+=21+Y.length+4),b.ctype==3){for(var H=b.plte.length,ot=0;ot<H;ot++)b.plte[ot]>>>24!=255&&(at=!0);U+=8+3*H+4+(at?8+1*H+4:0)}for(var et=0;et<b.frames.length;et++)nt&&(U+=38),U+=(Ct=b.frames[et]).cimg.length+12,et!=0&&(U+=4);U+=12;const Z=new Uint8Array(U),gt=[137,80,78,71,13,10,26,10];for(ot=0;ot<8;ot++)Z[ot]=gt[ot];if(F(Z,x,13),x+=4,R(Z,x,"IHDR"),x+=4,F(Z,x,A),x+=4,F(Z,x,C),x+=4,Z[x]=b.depth,x++,Z[x]=b.ctype,x++,Z[x]=0,x++,Z[x]=0,x++,Z[x]=0,x++,F(Z,x,I(Z,x-17,17)),x+=4,N.sRGB!=null&&(F(Z,x,1),x+=4,R(Z,x,"sRGB"),x+=4,Z[x]=N.sRGB,x++,F(Z,x,I(Z,x-5,5)),x+=4),N.iCCP!=null){const wt=13+Y.length;F(Z,x,wt),x+=4,R(Z,x,"iCCP"),x+=4,R(Z,x,"ICC profile"),x+=11,x+=2,Z.set(Y,x),x+=Y.length,F(Z,x,I(Z,x-(wt+4),wt+4)),x+=4}if(N.pHYs!=null&&(F(Z,x,9),x+=4,R(Z,x,"pHYs"),x+=4,F(Z,x,N.pHYs[0]),x+=4,F(Z,x,N.pHYs[1]),x+=4,Z[x]=N.pHYs[2],x++,F(Z,x,I(Z,x-13,13)),x+=4),nt&&(F(Z,x,8),x+=4,R(Z,x,"acTL"),x+=4,F(Z,x,b.frames.length),x+=4,F(Z,x,N.loop!=null?N.loop:0),x+=4,F(Z,x,I(Z,x-12,12)),x+=4),b.ctype==3){for(F(Z,x,3*(H=b.plte.length)),x+=4,R(Z,x,"PLTE"),x+=4,ot=0;ot<H;ot++){const wt=3*ot,Kt=b.plte[ot],ce=255&Kt,ve=Kt>>>8&255,Nn=Kt>>>16&255;Z[x+wt+0]=ce,Z[x+wt+1]=ve,Z[x+wt+2]=Nn}if(x+=3*H,F(Z,x,I(Z,x-3*H-4,3*H+4)),x+=4,at){for(F(Z,x,H),x+=4,R(Z,x,"tRNS"),x+=4,ot=0;ot<H;ot++)Z[x+ot]=b.plte[ot]>>>24&255;x+=H,F(Z,x,I(Z,x-H-4,H+4)),x+=4}}let At=0;for(et=0;et<b.frames.length;et++){var Ct=b.frames[et];nt&&(F(Z,x,26),x+=4,R(Z,x,"fcTL"),x+=4,F(Z,x,At++),x+=4,F(Z,x,Ct.rect.width),x+=4,F(Z,x,Ct.rect.height),x+=4,F(Z,x,Ct.rect.x),x+=4,F(Z,x,Ct.rect.y),x+=4,J(Z,x,D[et]),x+=2,J(Z,x,1e3),x+=2,Z[x]=Ct.dispose,x++,Z[x]=Ct.blend,x++,F(Z,x,I(Z,x-30,30)),x+=4);const wt=Ct.cimg;F(Z,x,(H=wt.length)+(et==0?0:4)),x+=4;const Kt=x;R(Z,x,et==0?"IDAT":"fdAT"),x+=4,et!=0&&(F(Z,x,At++),x+=4),Z.set(wt,x),x+=H,F(Z,x,I(Z,Kt,x-Kt)),x+=4}return F(Z,x,0),x+=4,R(Z,x,"IEND"),x+=4,F(Z,x,I(Z,x-4,4)),x+=4,Z.buffer}function p(b,A,C){for(let D=0;D<b.frames.length;D++){const N=b.frames[D];N.rect.width;const I=N.rect.height,F=new Uint8Array(I*N.bpl+I);N.cimg=w(N.img,I,N.bpp,N.bpl,F,A,C)}}function y(b,A,C,D,N){const I=N[0],F=N[1],J=N[2],R=N[3],x=N[4],nt=N[5];let Y=6,at=8,U=255;for(var H=0;H<b.length;H++){const we=new Uint8Array(b[H]);for(var ot=we.length,et=0;et<ot;et+=4)U&=we[et+3]}const Z=U!=255,gt=(function(te,Wt,Lt,qt,ne,un){const Ee=[];for(var Pt=0;Pt<te.length;Pt++){const Be=new Uint8Array(te[Pt]),En=new Uint32Array(Be.buffer);var Pe;let cn=0,Ue=0,fe=Wt,je=Lt,be=qt?1:0;if(Pt!=0){const xs=un||qt||Pt==1||Ee[Pt-2].dispose!=0?1:2;let Oi=0,Da=1e9;for(let Tn=0;Tn<xs;Tn++){var On=new Uint8Array(te[Pt-1-Tn]);const lr=new Uint32Array(te[Pt-1-Tn]);let ie=Wt,Je=Lt,hn=-1,fn=-1;for(let ni=0;ni<Lt;ni++)for(let nn=0;nn<Wt;nn++)En[Te=ni*Wt+nn]!=lr[Te]&&(nn<ie&&(ie=nn),nn>hn&&(hn=nn),ni<Je&&(Je=ni),ni>fn&&(fn=ni));hn==-1&&(ie=Je=hn=fn=0),ne&&((1&ie)==1&&ie--,(1&Je)==1&&Je--);const Vs=(hn-ie+1)*(fn-Je+1);Vs<Da&&(Da=Vs,Oi=Tn,cn=ie,Ue=Je,fe=hn-ie+1,je=fn-Je+1)}On=new Uint8Array(te[Pt-1-Oi]),Oi==1&&(Ee[Pt-1].dispose=2),Pe=new Uint8Array(fe*je*4),a(On,Wt,Lt,Pe,fe,je,-cn,-Ue,0),be=a(Be,Wt,Lt,Pe,fe,je,-cn,-Ue,3)?1:0,be==1?E(Be,Wt,Lt,Pe,{x:cn,y:Ue,width:fe,height:je}):a(Be,Wt,Lt,Pe,fe,je,-cn,-Ue,0)}else Pe=Be.slice(0);Ee.push({rect:{x:cn,y:Ue,width:fe,height:je},img:Pe,blend:be,dispose:0})}if(qt)for(Pt=0;Pt<Ee.length;Pt++){if((vi=Ee[Pt]).blend==1)continue;const Be=vi.rect,En=Ee[Pt-1].rect,cn=Math.min(Be.x,En.x),Ue=Math.min(Be.y,En.y),fe={x:cn,y:Ue,width:Math.max(Be.x+Be.width,En.x+En.width)-cn,height:Math.max(Be.y+Be.height,En.y+En.height)-Ue};Ee[Pt-1].dispose=1,Pt-1!=0&&_(te,Wt,Lt,Ee,Pt-1,fe,ne),_(te,Wt,Lt,Ee,Pt,fe,ne)}let Ni=0;if(te.length!=1)for(var Te=0;Te<Ee.length;Te++){var vi;Ni+=(vi=Ee[Te]).rect.width*vi.rect.height}return Ee})(b,A,C,I,F,J),At={},Ct=[],wt=[];if(D!=0){const we=[];for(et=0;et<gt.length;et++)we.push(gt[et].img.buffer);const te=(function(ne){let un=0;for(var Ee=0;Ee<ne.length;Ee++)un+=ne[Ee].byteLength;const Pt=new Uint8Array(un);let Pe=0;for(Ee=0;Ee<ne.length;Ee++){const On=new Uint8Array(ne[Ee]),Ni=On.length;for(let Te=0;Te<Ni;Te+=4){let vi=On[Te],Be=On[Te+1],En=On[Te+2];const cn=On[Te+3];cn==0&&(vi=Be=En=0),Pt[Pe+Te]=vi,Pt[Pe+Te+1]=Be,Pt[Pe+Te+2]=En,Pt[Pe+Te+3]=cn}Pe+=Ni}return Pt.buffer})(we),Wt=z(te,D);for(et=0;et<Wt.plte.length;et++)Ct.push(Wt.plte[et].est.rgba);let Lt=0;for(et=0;et<gt.length;et++){const qt=(ce=gt[et]).img.length;var Kt=new Uint8Array(Wt.inds.buffer,Lt>>2,qt>>2);wt.push(Kt);const ne=new Uint8Array(Wt.abuf,Lt,qt);nt&&d(ce.img,ce.rect.width,ce.rect.height,Ct,ne,Kt),ce.img.set(ne),Lt+=qt}}else for(H=0;H<gt.length;H++){var ce=gt[H];const we=new Uint32Array(ce.img.buffer);var ve=ce.rect.width;for(ot=we.length,Kt=new Uint8Array(ot),wt.push(Kt),et=0;et<ot;et++){const te=we[et];if(et!=0&&te==we[et-1])Kt[et]=Kt[et-1];else if(et>ve&&te==we[et-ve])Kt[et]=Kt[et-ve];else{let Wt=At[te];if(Wt==null&&(At[te]=Wt=Ct.length,Ct.push(te),Ct.length>=300))break;Kt[et]=Wt}}}const Nn=Ct.length;for(Nn<=256&&x==0&&(at=Nn<=2?1:Nn<=4?2:Nn<=16?4:8,at=Math.max(at,R)),H=0;H<gt.length;H++){(ce=gt[H]).rect.x,ce.rect.y,ve=ce.rect.width;const we=ce.rect.height;let te=ce.img;new Uint32Array(te.buffer);let Wt=4*ve,Lt=4;if(Nn<=256&&x==0){Wt=Math.ceil(at*ve/8);var Oe=new Uint8Array(Wt*we);const qt=wt[H];for(let ne=0;ne<we;ne++){et=ne*Wt;const un=ne*ve;if(at==8)for(var he=0;he<ve;he++)Oe[et+he]=qt[un+he];else if(at==4)for(he=0;he<ve;he++)Oe[et+(he>>1)]|=qt[un+he]<<4-4*(1&he);else if(at==2)for(he=0;he<ve;he++)Oe[et+(he>>2)]|=qt[un+he]<<6-2*(3&he);else if(at==1)for(he=0;he<ve;he++)Oe[et+(he>>3)]|=qt[un+he]<<7-1*(7&he)}te=Oe,Y=3,Lt=1}else if(Z==0&&gt.length==1){Oe=new Uint8Array(ve*we*3);const qt=ve*we;for(et=0;et<qt;et++){const ne=3*et,un=4*et;Oe[ne]=te[un],Oe[ne+1]=te[un+1],Oe[ne+2]=te[un+2]}te=Oe,Y=2,Lt=3,Wt=3*ve}ce.img=te,ce.bpl=Wt,ce.bpp=Lt}return{ctype:Y,depth:at,plte:Ct,frames:gt}}function _(b,A,C,D,N,I,F){const J=Uint8Array,R=Uint32Array,x=new J(b[N-1]),nt=new R(b[N-1]),Y=N+1<b.length?new J(b[N+1]):null,at=new J(b[N]),U=new R(at.buffer);let H=A,ot=C,et=-1,Z=-1;for(let At=0;At<I.height;At++)for(let Ct=0;Ct<I.width;Ct++){const wt=I.x+Ct,Kt=I.y+At,ce=Kt*A+wt,ve=U[ce];ve==0||D[N-1].dispose==0&&nt[ce]==ve&&(Y==null||Y[4*ce+3]!=0)||(wt<H&&(H=wt),wt>et&&(et=wt),Kt<ot&&(ot=Kt),Kt>Z&&(Z=Kt))}et==-1&&(H=ot=et=Z=0),F&&((1&H)==1&&H--,(1&ot)==1&&ot--),I={x:H,y:ot,width:et-H+1,height:Z-ot+1};const gt=D[N];gt.rect=I,gt.blend=1,gt.img=new Uint8Array(I.width*I.height*4),D[N-1].dispose==0?(a(x,A,C,gt.img,I.width,I.height,-I.x,-I.y,0),E(at,A,C,gt.img,I)):a(at,A,C,gt.img,I.width,I.height,-I.x,-I.y,0)}function E(b,A,C,D,N){a(b,A,C,D,N.width,N.height,-N.x,-N.y,2)}function w(b,A,C,D,N,I,F){const J=[];let R,x=[0,1,2,3,4];I!=-1?x=[I]:(A*D>5e5||C==1)&&(x=[0]),F&&(R={level:0});const nt=sD;for(var Y=0;Y<x.length;Y++){for(let H=0;H<A;H++)O(N,b,H,D,C,x[Y]);J.push(nt.deflate(N,R))}let at,U=1e9;for(Y=0;Y<J.length;Y++)J[Y].length<U&&(at=Y,U=J[Y].length);return J[at]}function O(b,A,C,D,N,I){const F=C*D;let J=F+C;if(b[J]=I,J++,I==0)if(D<500)for(var R=0;R<D;R++)b[J+R]=A[F+R];else b.set(new Uint8Array(A.buffer,F,D),J);else if(I==1){for(R=0;R<N;R++)b[J+R]=A[F+R];for(R=N;R<D;R++)b[J+R]=A[F+R]-A[F+R-N]+256&255}else if(C==0){for(R=0;R<N;R++)b[J+R]=A[F+R];if(I==2)for(R=N;R<D;R++)b[J+R]=A[F+R];if(I==3)for(R=N;R<D;R++)b[J+R]=A[F+R]-(A[F+R-N]>>1)+256&255;if(I==4)for(R=N;R<D;R++)b[J+R]=A[F+R]-n(A[F+R-N],0,0)+256&255}else{if(I==2)for(R=0;R<D;R++)b[J+R]=A[F+R]+256-A[F+R-D]&255;if(I==3){for(R=0;R<N;R++)b[J+R]=A[F+R]+256-(A[F+R-D]>>1)&255;for(R=N;R<D;R++)b[J+R]=A[F+R]+256-(A[F+R-D]+A[F+R-N]>>1)&255}if(I==4){for(R=0;R<N;R++)b[J+R]=A[F+R]+256-n(0,A[F+R-D],0)&255;for(R=N;R<D;R++)b[J+R]=A[F+R]+256-n(A[F+R-N],A[F+R-D],A[F+R-N-D])&255}}}function z(b,A){const C=new Uint8Array(b),D=C.slice(0),N=new Uint32Array(D.buffer),I=j(D,A),F=I[0],J=I[1],R=C.length,x=new Uint8Array(R>>2);let nt;if(C.length<2e7)for(var Y=0;Y<R;Y+=4)nt=B(F,at=C[Y]*(1/255),U=C[Y+1]*(1/255),H=C[Y+2]*(1/255),ot=C[Y+3]*(1/255)),x[Y>>2]=nt.ind,N[Y>>2]=nt.est.rgba;else for(Y=0;Y<R;Y+=4){var at=C[Y]*.00392156862745098,U=C[Y+1]*(1/255),H=C[Y+2]*(1/255),ot=C[Y+3]*(1/255);for(nt=F;nt.left;)nt=rt(nt.est,at,U,H,ot)<=0?nt.left:nt.right;x[Y>>2]=nt.ind,N[Y>>2]=nt.est.rgba}return{abuf:D.buffer,inds:x,plte:J}}function j(b,A,C){C==null&&(C=1e-4);const D=new Uint32Array(b.buffer),N={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=ut(b,N.i0,N.i1),N.est=L(N.bst);const I=[N];for(;I.length<A;){let J=0,R=0;for(var F=0;F<I.length;F++)I[F].est.L>J&&(J=I[F].est.L,R=F);if(J<C)break;const x=I[R],nt=Q(b,D,x.i0,x.i1,x.est.e,x.est.eMq255);if(x.i0>=nt||x.i1<=nt){x.est.L=0;continue}const Y={i0:x.i0,i1:nt,bst:null,est:null,tdst:0,left:null,right:null};Y.bst=ut(b,Y.i0,Y.i1),Y.est=L(Y.bst);const at={i0:nt,i1:x.i1,bst:null,est:null,tdst:0,left:null,right:null};for(at.bst={R:[],m:[],N:x.bst.N-Y.bst.N},F=0;F<16;F++)at.bst.R[F]=x.bst.R[F]-Y.bst.R[F];for(F=0;F<4;F++)at.bst.m[F]=x.bst.m[F]-Y.bst.m[F];at.est=L(at.bst),x.left=Y,x.right=at,I[R]=Y,I.push(at)}for(I.sort(((J,R)=>R.bst.N-J.bst.N)),F=0;F<I.length;F++)I[F].ind=F;return[N,I]}function B(b,A,C,D,N){if(b.left==null)return b.tdst=(function(Y,at,U,H,ot){const et=at-Y[0],Z=U-Y[1],gt=H-Y[2],At=ot-Y[3];return et*et+Z*Z+gt*gt+At*At})(b.est.q,A,C,D,N),b;const I=rt(b.est,A,C,D,N);let F=b.left,J=b.right;I>0&&(F=b.right,J=b.left);const R=B(F,A,C,D,N);if(R.tdst<=I*I)return R;const x=B(J,A,C,D,N);return x.tdst<R.tdst?x:R}function rt(b,A,C,D,N){const{e:I}=b;return I[0]*A+I[1]*C+I[2]*D+I[3]*N-b.eMq}function Q(b,A,C,D,N,I){for(D-=4;C<D;){for(;K(b,C,N)<=I;)C+=4;for(;K(b,D,N)>I;)D-=4;if(C>=D)break;const F=A[C>>2];A[C>>2]=A[D>>2],A[D>>2]=F,C+=4,D-=4}for(;K(b,C,N)>I;)C-=4;return C+4}function K(b,A,C){return b[A]*C[0]+b[A+1]*C[1]+b[A+2]*C[2]+b[A+3]*C[3]}function ut(b,A,C){const D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],I=C-A>>2;for(let F=A;F<C;F+=4){const J=b[F]*.00392156862745098,R=b[F+1]*(1/255),x=b[F+2]*(1/255),nt=b[F+3]*(1/255);N[0]+=J,N[1]+=R,N[2]+=x,N[3]+=nt,D[0]+=J*J,D[1]+=J*R,D[2]+=J*x,D[3]+=J*nt,D[5]+=R*R,D[6]+=R*x,D[7]+=R*nt,D[10]+=x*x,D[11]+=x*nt,D[15]+=nt*nt}return D[4]=D[1],D[8]=D[2],D[9]=D[6],D[12]=D[3],D[13]=D[7],D[14]=D[11],{R:D,m:N,N:I}}function L(b){const{R:A}=b,{m:C}=b,{N:D}=b,N=C[0],I=C[1],F=C[2],J=C[3],R=D==0?0:1/D,x=[A[0]-N*N*R,A[1]-N*I*R,A[2]-N*F*R,A[3]-N*J*R,A[4]-I*N*R,A[5]-I*I*R,A[6]-I*F*R,A[7]-I*J*R,A[8]-F*N*R,A[9]-F*I*R,A[10]-F*F*R,A[11]-F*J*R,A[12]-J*N*R,A[13]-J*I*R,A[14]-J*F*R,A[15]-J*J*R],nt=x,Y=M;let at=[Math.random(),Math.random(),Math.random(),Math.random()],U=0,H=0;if(D!=0)for(let et=0;et<16&&(at=Y.multVec(nt,at),H=Math.sqrt(Y.dot(at,at)),at=Y.sml(1/H,at),!(et!=0&&Math.abs(H-U)<1e-9));et++)U=H;const ot=[N*R,I*R,F*R,J*R];return{Cov:x,q:ot,e:at,L:U,eMq255:Y.dot(Y.sml(255,ot),at),eMq:Y.dot(at,ot),rgba:(Math.round(255*ot[3])<<24|Math.round(255*ot[2])<<16|Math.round(255*ot[1])<<8|Math.round(255*ot[0])<<0)>>>0}}var M={multVec:(b,A)=>[b[0]*A[0]+b[1]*A[1]+b[2]*A[2]+b[3]*A[3],b[4]*A[0]+b[5]*A[1]+b[6]*A[2]+b[7]*A[3],b[8]*A[0]+b[9]*A[1]+b[10]*A[2]+b[11]*A[3],b[12]*A[0]+b[13]*A[1]+b[14]*A[2]+b[15]*A[3]],dot:(b,A)=>b[0]*A[0]+b[1]*A[1]+b[2]*A[2]+b[3]*A[3],sml:(b,A)=>[b*A[0],b*A[1],b*A[2],b*A[3]]};xi.encode=function(A,C,D,N,I,F,J){N==null&&(N=0),J==null&&(J=!1);const R=y(A,C,D,N,[!1,!1,!1,0,J,!1]);return p(R,-1),g(R,C,D,I,F)},xi.encodeLL=function(A,C,D,N,I,F,J,R){const x={ctype:0+(N==1?0:2)+(I==0?0:4),depth:F,frames:[]},nt=(N+I)*F,Y=nt*C;for(let at=0;at<A.length;at++)x.frames.push({rect:{x:0,y:0,width:C,height:D},img:new Uint8Array(A[at]),blend:0,dispose:1,bpp:Math.ceil(nt/8),bpl:Math.ceil(Y/8)});return p(x,0,!0),g(x,C,D,J,R)},xi.encode.compress=y,xi.encode.dither=d,xi.quantize=z,xi.quantize.getKDtree=j,xi.quantize.getNearest=B})();const E2={toArrayBuffer(a,t){const n=a.width,r=a.height,s=n<<2,l=a.getContext("2d").getImageData(0,0,n,r),c=new Uint32Array(l.data.buffer),d=(32*n+31)/32<<2,g=d*r,p=122+g,y=new ArrayBuffer(p),_=new DataView(y),E=1<<20;let w,O,z,j,B=E,rt=0,Q=0,K=0;function ut(b){_.setUint16(Q,b,!0),Q+=2}function L(b){_.setUint32(Q,b,!0),Q+=4}function M(b){Q+=b}ut(19778),L(p),M(4),L(122),L(108),L(n),L(-r>>>0),ut(1),ut(32),L(3),L(g),L(2835),L(2835),M(8),L(16711680),L(65280),L(255),L(4278190080),L(1466527264),(function b(){for(;rt<r&&B>0;){for(j=122+rt*d,w=0;w<s;)B--,O=c[K++],z=O>>>24,_.setUint32(j+w,O<<8|z),w+=4;rt++}K<c.length?(B=E,setTimeout(b,E2._dly)):t(y)})()},toBlob(a,t){this.toArrayBuffer(a,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var Fn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},oD={[Fn.CHROME]:16384,[Fn.FIREFOX]:11180,[Fn.DESKTOP_SAFARI]:16384,[Fn.IE]:8192,[Fn.IOS]:4096,[Fn.ETC]:8192};const yp=typeof window<"u",T2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,uf=yp&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),lD=(yp||T2)&&(uf&&uf.getOriginalSymbol(window,"File")||typeof File<"u"&&File),b2=(yp||T2)&&(uf&&uf.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function _p(a,t,n=Date.now()){return new Promise((r=>{const s=a.split(","),l=s[0].match(/:(.*?);/)[1],c=globalThis.atob(s[1]);let d=c.length;const g=new Uint8Array(d);for(;d--;)g[d]=c.charCodeAt(d);const p=new Blob([g],{type:l});p.name=t,p.lastModified=n,r(p)}))}function A2(a){return new Promise(((t,n)=>{const r=new b2;r.onload=()=>t(r.result),r.onerror=s=>n(s),r.readAsDataURL(a)}))}function S2(a){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=s=>n(s),r.src=a}))}function fs(){if(fs.cachedResult!==void 0)return fs.cachedResult;let a=Fn.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?a=Fn.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?a=Fn.IOS:/Safari/i.test(t)?a=Fn.DESKTOP_SAFARI:/Firefox/i.test(t)?a=Fn.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(a=Fn.IE),fs.cachedResult=a,fs.cachedResult}function w2(a,t){const n=fs(),r=oD[n];let s=a,l=t,c=s*l;const d=s>l?l/s:s/l;for(;c>r*r;){const g=(r+s)/2,p=(r+l)/2;g<p?(l=p,s=p*d):(l=g*d,s=g),c=s*l}return{width:s,height:l}}function Of(a,t){let n,r;try{if(n=new OffscreenCanvas(a,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=a,n.height=t,[n,r]}function I2(a,t){const{width:n,height:r}=w2(a.width,a.height),[s,l]=Of(n,r);return t&&/jpe?g/.test(t)&&(l.fillStyle="white",l.fillRect(0,0,s.width,s.height)),l.drawImage(a,0,0,s.width,s.height),s}function Lh(){return Lh.cachedResult!==void 0||(Lh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Lh.cachedResult}function cf(a,t={}){return new Promise((function(n,r){let s,l;var c=function(){try{return l=I2(s,t.fileType||a.type),n([s,l])}catch(g){return r(g)}},d=function(g){try{var p=function(y){try{throw y}catch(_){return r(_)}};try{let y;return A2(a).then((function(_){try{return y=_,S2(y).then((function(E){try{return s=E,(function(){try{return c()}catch(w){return r(w)}})()}catch(w){return p(w)}}),p)}catch(E){return p(E)}}),p)}catch(y){p(y)}}catch(y){return r(y)}};try{if(Lh()||[Fn.DESKTOP_SAFARI,Fn.MOBILE_SAFARI].includes(fs()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(a).then((function(g){try{return s=g,c()}catch{return d()}}),d)}catch{d()}}))}function hf(a,t,n,r,s=1){return new Promise((function(l,c){let d;if(t==="image/png"){let _,E,w;return _=a.getContext("2d"),{data:E}=_.getImageData(0,0,a.width,a.height),w=xi.encode([E.buffer],a.width,a.height,4096*s),d=new Blob([w],{type:t}),d.name=n,d.lastModified=r,g.call(this)}{let _=function(){return g.call(this)};var p=_;if(t==="image/bmp")return new Promise((E=>E2.toBlob(a,E))).then((function(E){try{return d=E,d.name=n,d.lastModified=r,_.call(this)}catch(w){return c(w)}}).bind(this),c);{let E=function(){return _.call(this)};var y=E;if(typeof OffscreenCanvas=="function"&&a instanceof OffscreenCanvas)return a.convertToBlob({type:t,quality:s}).then((function(w){try{return d=w,d.name=n,d.lastModified=r,E.call(this)}catch(O){return c(O)}}).bind(this),c);{let w;return w=a.toDataURL(t,s),_p(w,n,r).then((function(O){try{return d=O,E.call(this)}catch(z){return c(z)}}).bind(this),c)}}}function g(){return l(d)}}))}function $i(a){a.width=0,a.height=0}function Vo(){return new Promise((function(a,t){let n,r,s,l;return Vo.cachedResult!==void 0?a(Vo.cachedResult):_p("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(c){try{return n=c,cf(n).then((function(d){try{return r=d[1],hf(r,n.type,n.name,n.lastModified).then((function(g){try{return s=g,$i(r),cf(s).then((function(p){try{return l=p[0],Vo.cachedResult=l.width===1&&l.height===2,a(Vo.cachedResult)}catch(y){return t(y)}}),t)}catch(p){return t(p)}}),t)}catch(g){return t(g)}}),t)}catch(d){return t(d)}}),t)}))}function R2(a){return new Promise(((t,n)=>{const r=new b2;r.onload=s=>{const l=new DataView(s.target.result);if(l.getUint16(0,!1)!=65496)return t(-2);const c=l.byteLength;let d=2;for(;d<c;){if(l.getUint16(d+2,!1)<=8)return t(-1);const g=l.getUint16(d,!1);if(d+=2,g==65505){if(l.getUint32(d+=2,!1)!=1165519206)return t(-1);const p=l.getUint16(d+=6,!1)==18761;d+=l.getUint32(d+4,p);const y=l.getUint16(d,p);d+=2;for(let _=0;_<y;_++)if(l.getUint16(d+12*_,p)==274)return t(l.getUint16(d+12*_+8,p))}else{if((65280&g)!=65280)break;d+=l.getUint16(d,!1)}}return t(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(a)}))}function D2(a,t){const{width:n}=a,{height:r}=a,{maxWidthOrHeight:s}=t;let l,c=a;return isFinite(s)&&(n>s||r>s)&&([c,l]=Of(n,r),n>r?(c.width=s,c.height=r/n*s):(c.width=n/r*s,c.height=s),l.drawImage(a,0,0,c.width,c.height),$i(a)),c}function C2(a,t){const{width:n}=a,{height:r}=a,[s,l]=Of(n,r);switch(t>4&&t<9?(s.width=r,s.height=n):(s.width=n,s.height=r),t){case 2:l.transform(-1,0,0,1,n,0);break;case 3:l.transform(-1,0,0,-1,n,r);break;case 4:l.transform(1,0,0,-1,0,r);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,r,0);break;case 7:l.transform(0,-1,-1,0,r,n);break;case 8:l.transform(0,-1,1,0,0,n)}return l.drawImage(a,0,0,n,r),$i(a),s}function Cv(a,t,n=0){return new Promise((function(r,s){let l,c,d,g,p,y,_,E,w,O,z,j,B,rt,Q,K,ut,L,M,b;function A(D=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;l+=D,t.onProgress(Math.min(l,100))}function C(D){if(t.signal&&t.signal.aborted)throw t.signal.reason;l=Math.min(Math.max(D,l),100),t.onProgress(l)}return l=n,c=t.maxIteration||10,d=1024*t.maxSizeMB*1024,A(),cf(a,t).then((function(D){try{return[,g]=D,A(),p=D2(g,t),A(),new Promise((function(N,I){var F;if(!(F=t.exifOrientation))return R2(a).then((function(R){try{return F=R,J.call(this)}catch(x){return I(x)}}).bind(this),I);function J(){return N(F)}return J.call(this)})).then((function(N){try{return y=N,A(),Vo().then((function(I){try{return _=I?p:C2(p,y),A(),E=t.initialQuality||1,w=t.fileType||a.type,hf(_,w,a.name,a.lastModified,E).then((function(F){try{{let nt=function(){if(c--&&(Q>d||Q>B)){let at,U;return at=b?.95*M.width:M.width,U=b?.95*M.height:M.height,[ut,L]=Of(at,U),L.drawImage(M,0,0,at,U),E*=w==="image/png"?.85:.95,hf(ut,w,a.name,a.lastModified,E).then((function(H){try{return K=H,$i(M),M=ut,Q=K.size,C(Math.min(99,Math.floor((rt-Q)/(rt-d)*100))),nt}catch(ot){return s(ot)}}),s)}return[1]},Y=function(){return $i(M),$i(ut),$i(p),$i(_),$i(g),C(100),r(K)};var R=nt,x=Y;if(O=F,A(),z=O.size>d,j=O.size>a.size,!z&&!j)return C(100),r(O);var J;return B=a.size,rt=O.size,Q=rt,M=_,b=!t.alwaysKeepResolution&&z,(J=(function(at){for(;at;){if(at.then)return void at.then(J,s);try{if(at.pop){if(at.length)return at.pop()?Y.call(this):at;at=nt}else at=at.call(this)}catch(U){return s(U)}}}).bind(this))(nt)}}catch(nt){return s(nt)}}).bind(this),s)}catch(F){return s(F)}}).bind(this),s)}catch(I){return s(I)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)}))}const uD=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Xm;function cD(a,t){return new Promise(((n,r)=>{Xm||(Xm=(function(c){const d=[];return d.push(c),URL.createObjectURL(new Blob(d))})(uD));const s=new Worker(Xm);s.addEventListener("message",(function(c){if(t.signal&&t.signal.aborted)s.terminate();else if(c.data.progress===void 0){if(c.data.error)return r(new Error(c.data.error)),void s.terminate();n(c.data.file),s.terminate()}else t.onProgress(c.data.progress)})),s.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),s.terminate()})),s.postMessage({file:a,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function Sn(a,t){return new Promise((function(n,r){let s,l,c,d,g,p;if(s={...t},c=0,{onProgress:d}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=w=>{c=w,typeof d=="function"&&d(c)},!(a instanceof Blob||a instanceof lD))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(a.type))return r(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||p)return Cv(a,s).then((function(w){try{return l=w,E.call(this)}catch(O){return r(O)}}).bind(this),r);var y=(function(){try{return E.call(this)}catch(w){return r(w)}}).bind(this),_=function(w){try{return Cv(a,s).then((function(O){try{return l=O,y()}catch(z){return r(z)}}),r)}catch(O){return r(O)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",cD(a,s).then((function(w){try{return l=w,y()}catch{return _()}}),_)}catch{_()}function E(){try{l.name=a.name,l.lastModified=a.lastModified}catch{}try{s.preserveExif&&a.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===a.type)&&(l=v2(a,l))}catch{}return n(l)}}))}Sn.getDataUrlFromFile=A2,Sn.getFilefromDataUrl=_p,Sn.loadImage=S2,Sn.drawImageInCanvas=I2,Sn.drawFileInCanvas=cf,Sn.canvasToFile=hf,Sn.getExifOrientation=R2,Sn.handleMaxWidthOrHeight=D2,Sn.followExifOrientation=C2,Sn.cleanupCanvasMemory=$i,Sn.isAutoOrientationInBrowser=Vo,Sn.approximateBelowMaximumCanvasSizeOfBrowser=w2,Sn.copyExifWithoutOrientation=v2,Sn.getBrowserName=fs,Sn.version="2.0.2";const hD=async a=>{try{const n=await Sn(a,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),r=await new Promise((l,c)=>{const d=new FileReader;d.readAsDataURL(n),d.onload=()=>l(d.result),d.onerror=g=>c(g)}),s=crypto.randomUUID();return await J4(Ku(ys,"receipts",s),{image:r,createdAt:new Date().toISOString()}),s}catch(t){return console.error("Error saving image:",t),null}},fD=async a=>{try{if(!a)return null;const t=Ku(ys,"receipts",a),n=await Z4(t);return n.exists()?n.data().image:(console.log("No such image document!"),null)}catch(t){return console.error("Error getting image:",t),null}},dD=async a=>{try{if(!a)return;await _2(Ku(ys,"receipts",a))}catch(t){console.error("Error deleting image:",t)}},Pf=VA((a,t)=>({expenses:[],loading:!1,fetchExpenses:async()=>{a({loading:!0});try{const r=(await W4(Av(ys,"expenses"))).docs.map(s=>({id:s.id,...s.data()}));a({expenses:r,loading:!1})}catch(n){console.error("Error fetching expenses:",n),a({loading:!1})}},addExpense:async n=>{try{const s={id:(await $4(Av(ys,"expenses"),n)).id,...n};a(l=>({expenses:[s,...l.expenses]}))}catch(r){console.error("Error adding expense:",r)}},removeExpense:async n=>{try{const r=t().expenses.find(s=>s.id===n);await _2(Ku(ys,"expenses",n)),r?.imageId&&await dD(r.imageId),a(s=>({expenses:s.expenses.filter(l=>l.id!==n)}))}catch(r){console.error("Error removing expense:",r)}}})),x2=6048e5,mD=864e5,V2=6e4,M2=36e5,xv=Symbol.for("constructDateFrom");function Mr(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&xv in a?a[xv](t):a instanceof Date?new a.constructor(t):new Date(t)}function ln(a,t){return Mr(t||a,a)}let gD={};function Uf(){return gD}function Lu(a,t){const n=Uf(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=ln(a,t?.in),l=s.getDay(),c=(l<r?7:0)+l-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function ff(a,t){return Lu(a,{...t,weekStartsOn:1})}function N2(a,t){const n=ln(a,t?.in),r=n.getFullYear(),s=Mr(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=ff(s),c=Mr(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=ff(c);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Vv(a){const t=ln(a),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+a-+n}function pD(a,...t){const n=Mr.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Mv(a,t){const n=ln(a,t?.in);return n.setHours(0,0,0,0),n}function yD(a,t,n){const[r,s]=pD(n?.in,a,t),l=Mv(r),c=Mv(s),d=+l-Vv(l),g=+c-Vv(c);return Math.round((d-g)/mD)}function _D(a,t){const n=N2(a,t),r=Mr(a,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ff(r)}function vD(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function ED(a){return!(!vD(a)&&typeof a!="number"||isNaN(+ln(a)))}function TD(a,t){const n=ln(a,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function bD(a,t){const n=ln(a,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function AD(a,t){const n=ln(a,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const SD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wD=(a,t,n)=>{let r;const s=SD[a];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Uo(a){return(t={})=>{const n=t.width?String(t.width):a.defaultWidth;return a.formats[n]||a.formats[a.defaultWidth]}}const ID={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CD={date:Uo({formats:ID,defaultWidth:"full"}),time:Uo({formats:RD,defaultWidth:"full"}),dateTime:Uo({formats:DD,defaultWidth:"full"})},xD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VD=(a,t,n,r)=>xD[a];function tr(a){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&a.formattingValues){const c=a.defaultFormattingWidth||a.defaultWidth,d=n?.width?String(n.width):c;s=a.formattingValues[d]||a.formattingValues[c]}else{const c=a.defaultWidth,d=n?.width?String(n.width):a.defaultWidth;s=a.values[d]||a.values[c]}const l=a.argumentCallback?a.argumentCallback(t):t;return s[l]}}const MD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ND={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LD=(a,t)=>{const n=Number(a),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kD={ordinalNumber:LD,era:tr({values:MD,defaultWidth:"wide"}),quarter:tr({values:ND,defaultWidth:"wide",argumentCallback:a=>a-1}),month:tr({values:OD,defaultWidth:"wide"}),day:tr({values:PD,defaultWidth:"wide"}),dayPeriod:tr({values:UD,defaultWidth:"wide",formattingValues:zD,defaultFormattingWidth:"wide"})};function er(a){return(t,n={})=>{const r=n.width,s=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],l=t.match(s);if(!l)return null;const c=l[0],d=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],g=Array.isArray(d)?jD(d,_=>_.test(c)):BD(d,_=>_.test(c));let p;p=a.valueCallback?a.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const y=t.slice(c.length);return{value:p,rest:y}}}function BD(a,t){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)&&t(a[n]))return n}function jD(a,t){for(let n=0;n<a.length;n++)if(t(a[n]))return n}function O2(a){return(t,n={})=>{const r=t.match(a.matchPattern);if(!r)return null;const s=r[0],l=t.match(a.parsePattern);if(!l)return null;let c=a.valueCallback?a.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}const FD=/^(\d+)(th|st|nd|rd)?/i,qD=/\d+/i,HD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GD={any:[/^b/i,/^(a|c)/i]},QD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YD={any:[/1/i,/2/i,/3/i,/4/i]},KD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$D={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t3={ordinalNumber:O2({matchPattern:FD,parsePattern:qD,valueCallback:a=>parseInt(a,10)}),era:er({matchPatterns:HD,defaultMatchWidth:"wide",parsePatterns:GD,defaultParseWidth:"any"}),quarter:er({matchPatterns:QD,defaultMatchWidth:"wide",parsePatterns:YD,defaultParseWidth:"any",valueCallback:a=>a+1}),month:er({matchPatterns:KD,defaultMatchWidth:"wide",parsePatterns:XD,defaultParseWidth:"any"}),day:er({matchPatterns:ZD,defaultMatchWidth:"wide",parsePatterns:WD,defaultParseWidth:"any"}),dayPeriod:er({matchPatterns:JD,defaultMatchWidth:"any",parsePatterns:$D,defaultParseWidth:"any"})},e3={code:"en-US",formatDistance:wD,formatLong:CD,formatRelative:VD,localize:kD,match:t3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n3(a,t){const n=ln(a,t?.in);return yD(n,AD(n))+1}function i3(a,t){const n=ln(a,t?.in),r=+ff(n)-+_D(n);return Math.round(r/x2)+1}function P2(a,t){const n=ln(a,t?.in),r=n.getFullYear(),s=Uf(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Mr(t?.in||a,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const d=Lu(c,t),g=Mr(t?.in||a,0);g.setFullYear(r,0,l),g.setHours(0,0,0,0);const p=Lu(g,t);return+n>=+d?r+1:+n>=+p?r:r-1}function r3(a,t){const n=Uf(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=P2(a,t),l=Mr(t?.in||a,0);return l.setFullYear(s,0,r),l.setHours(0,0,0,0),Lu(l,t)}function a3(a,t){const n=ln(a,t?.in),r=+Lu(n,t)-+r3(n,t);return Math.round(r/x2)+1}function oe(a,t){const n=a<0?"-":"",r=Math.abs(a).toString().padStart(t,"0");return n+r}const ma={y(a,t){const n=a.getFullYear(),r=n>0?n:1-n;return oe(t==="yy"?r%100:r,t.length)},M(a,t){const n=a.getMonth();return t==="M"?String(n+1):oe(n+1,2)},d(a,t){return oe(a.getDate(),t.length)},a(a,t){const n=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(a,t){return oe(a.getHours()%12||12,t.length)},H(a,t){return oe(a.getHours(),t.length)},m(a,t){return oe(a.getMinutes(),t.length)},s(a,t){return oe(a.getSeconds(),t.length)},S(a,t){const n=t.length,r=a.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return oe(s,t.length)}},wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nv={G:function(a,t,n){const r=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(a,t,n){if(t==="yo"){const r=a.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ma.y(a,t)},Y:function(a,t,n,r){const s=P2(a,r),l=s>0?s:1-s;if(t==="YY"){const c=l%100;return oe(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):oe(l,t.length)},R:function(a,t){const n=N2(a);return oe(n,t.length)},u:function(a,t){const n=a.getFullYear();return oe(n,t.length)},Q:function(a,t,n){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return oe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(a,t,n){const r=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return oe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(a,t,n){const r=a.getMonth();switch(t){case"M":case"MM":return ma.M(a,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(a,t,n){const r=a.getMonth();switch(t){case"L":return String(r+1);case"LL":return oe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(a,t,n,r){const s=a3(a,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):oe(s,t.length)},I:function(a,t,n){const r=i3(a);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):oe(r,t.length)},d:function(a,t,n){return t==="do"?n.ordinalNumber(a.getDate(),{unit:"date"}):ma.d(a,t)},D:function(a,t,n){const r=n3(a);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):oe(r,t.length)},E:function(a,t,n){const r=a.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(a,t,n,r){const s=a.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return oe(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(a,t,n,r){const s=a.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return oe(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(a,t,n){const r=a.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return oe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(a,t,n){const s=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(a,t,n){const r=a.getHours();let s;switch(r===12?s=wo.noon:r===0?s=wo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(a,t,n){const r=a.getHours();let s;switch(r>=17?s=wo.evening:r>=12?s=wo.afternoon:r>=4?s=wo.morning:s=wo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(a,t,n){if(t==="ho"){let r=a.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ma.h(a,t)},H:function(a,t,n){return t==="Ho"?n.ordinalNumber(a.getHours(),{unit:"hour"}):ma.H(a,t)},K:function(a,t,n){const r=a.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):oe(r,t.length)},k:function(a,t,n){let r=a.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):oe(r,t.length)},m:function(a,t,n){return t==="mo"?n.ordinalNumber(a.getMinutes(),{unit:"minute"}):ma.m(a,t)},s:function(a,t,n){return t==="so"?n.ordinalNumber(a.getSeconds(),{unit:"second"}):ma.s(a,t)},S:function(a,t){return ma.S(a,t)},X:function(a,t,n){const r=a.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Pv(r);case"XXXX":case"XX":return ss(r);default:return ss(r,":")}},x:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"x":return Pv(r);case"xxxx":case"xx":return ss(r);default:return ss(r,":")}},O:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ov(r,":");default:return"GMT"+ss(r,":")}},z:function(a,t,n){const r=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ov(r,":");default:return"GMT"+ss(r,":")}},t:function(a,t,n){const r=Math.trunc(+a/1e3);return oe(r,t.length)},T:function(a,t,n){return oe(+a,t.length)}};function Ov(a,t=""){const n=a>0?"-":"+",r=Math.abs(a),s=Math.trunc(r/60),l=r%60;return l===0?n+String(s):n+String(s)+t+oe(l,2)}function Pv(a,t){return a%60===0?(a>0?"-":"+")+oe(Math.abs(a)/60,2):ss(a,t)}function ss(a,t=""){const n=a>0?"-":"+",r=Math.abs(a),s=oe(Math.trunc(r/60),2),l=oe(r%60,2);return n+s+t+l}const Uv=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},U2=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},s3=(a,t)=>{const n=a.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Uv(a,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Uv(r,t)).replace("{{time}}",U2(s,t))},o3={p:U2,P:s3},l3=/^D+$/,u3=/^Y+$/,c3=["D","DD","YY","YYYY"];function h3(a){return l3.test(a)}function f3(a){return u3.test(a)}function d3(a,t,n){const r=m3(a,t,n);if(console.warn(r),c3.includes(a))throw new RangeError(r)}function m3(a,t,n){const r=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const g3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y3=/^'([^]*?)'?$/,_3=/''/g,v3=/[a-zA-Z]/;function ku(a,t,n){const r=Uf(),s=n?.locale??r.locale??e3,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=ln(a,n?.in);if(!ED(d))throw new RangeError("Invalid time value");let g=t.match(p3).map(y=>{const _=y[0];if(_==="p"||_==="P"){const E=o3[_];return E(y,s.formatLong)}return y}).join("").match(g3).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:E3(y)};if(Nv[_])return{isToken:!0,value:y};if(_.match(v3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(g=s.localize.preprocessor(d,g));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return g.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!n?.useAdditionalWeekYearTokens&&f3(_)||!n?.useAdditionalDayOfYearTokens&&h3(_))&&d3(_,t,String(a));const E=Nv[_[0]];return E(d,_,s.localize,p)}).join("")}function E3(a){const t=a.match(y3);return t?t[1].replace(_3,"'"):a}function T3(a,t,n){const r=+ln(a,n?.in),[s,l]=[+ln(t.start,n?.in),+ln(t.end,n?.in)].sort((c,d)=>c-d);return r>=s&&r<=l}function z2(a,t){const n=()=>Mr(t?.in,NaN),s=w3(a);let l;if(s.date){const p=I3(s.date,2);l=R3(p.restDateString,p.year)}if(!l||isNaN(+l))return n();const c=+l;let d=0,g;if(s.time&&(d=D3(s.time),isNaN(d)))return n();if(s.timezone){if(g=C3(s.timezone),isNaN(g))return n()}else{const p=new Date(c+d),y=ln(0,t?.in);return y.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),y.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),y}return ln(c+d+g,t?.in)}const wh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},b3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,A3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,S3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function w3(a){const t={},n=a.split(wh.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wh.timeZoneDelimiter.test(t.date)&&(t.date=a.split(wh.timeZoneDelimiter)[0],r=a.substr(t.date.length,a.length))),r){const s=wh.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function I3(a,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=a.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?s:l*100,restDateString:a.slice((r[1]||r[2]).length)}}function R3(a,t){if(t===null)return new Date(NaN);const n=a.match(b3);if(!n)return new Date(NaN);const r=!!n[4],s=lu(n[1]),l=lu(n[2])-1,c=lu(n[3]),d=lu(n[4]),g=lu(n[5])-1;if(r)return O3(t,d,g)?x3(t,d,g):new Date(NaN);{const p=new Date(0);return!M3(t,l,c)||!N3(t,s)?new Date(NaN):(p.setUTCFullYear(t,l,Math.max(s,c)),p)}}function lu(a){return a?parseInt(a):1}function D3(a){const t=a.match(A3);if(!t)return NaN;const n=Zm(t[1]),r=Zm(t[2]),s=Zm(t[3]);return P3(n,r,s)?n*M2+r*V2+s*1e3:NaN}function Zm(a){return a&&parseFloat(a.replace(",","."))||0}function C3(a){if(a==="Z")return 0;const t=a.match(S3);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return U3(r,s)?n*(r*M2+s*V2):NaN}function x3(a,t,n){const r=new Date(0);r.setUTCFullYear(a,0,4);const s=r.getUTCDay()||7,l=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+l),r}const V3=[31,null,31,30,31,30,31,31,30,31,30,31];function L2(a){return a%400===0||a%4===0&&a%100!==0}function M3(a,t,n){return t>=0&&t<=11&&n>=1&&n<=(V3[t]||(L2(a)?29:28))}function N3(a,t){return t>=1&&t<=(L2(a)?366:365)}function O3(a,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function P3(a,t,n){return a===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&a>=0&&a<25}function U3(a,t){return t>=0&&t<=59}const z3=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L3=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),zv=a=>{const t=L3(a);return t.charAt(0).toUpperCase()+t.slice(1)},k2=(...a)=>a.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),k3=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var B3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j3=In.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},g)=>In.createElement("svg",{ref:g,...B3,width:t,height:t,stroke:a,strokeWidth:r?Number(n)*24/Number(t):n,className:k2("lucide",s),...!l&&!k3(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>In.createElement(p,y)),...Array.isArray(l)?l:[l]]));const tl=(a,t)=>{const n=In.forwardRef(({className:r,...s},l)=>In.createElement(j3,{ref:l,iconNode:t,className:k2(`lucide-${z3(zv(a))}`,`lucide-${a}`,r),...s}));return n.displayName=zv(a),n};const F3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],q3=tl("camera",F3);const H3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],G3=tl("circle-plus",H3);const Q3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Y3=tl("image",Q3);const K3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],X3=tl("trash-2",K3);const Z3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],W3=tl("wallet",Z3);const J3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B2=tl("x",J3),$3=()=>{const a=Pf(O=>O.addExpense),[t,n]=In.useState(""),[r,s]=In.useState(""),[l,c]=In.useState(ku(new Date,"yyyy-MM-dd")),[d,g]=In.useState(null),[p,y]=In.useState(null),_=O=>{const z=O.target.files[0];z&&(g(z),y(URL.createObjectURL(z)))},E=()=>{g(null),y(null)},w=async O=>{if(O.preventDefault(),!t||!r)return;let z=null;d&&(z=await hD(d)),a({amount:parseFloat(t),description:r,date:l,imageId:z}),n(""),s(""),c(ku(new Date,"yyyy-MM-dd")),E()};return bt.jsxs("form",{onSubmit:w,className:"bg-white p-6 rounded-2xl shadow-md mb-6 border border-gray-100",children:[bt.jsxs("div",{className:"mb-4",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Valor"}),bt.jsx("input",{type:"number",value:t,onChange:O=>n(O.target.value),placeholder:"0",className:"w-full text-3xl font-bold p-3 border-b-2 border-gray-200 focus:border-blue-500 outline-none transition-colors placeholder-gray-300",inputMode:"decimal",required:!0})]}),bt.jsxs("div",{className:"mb-4",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Descripcin"}),bt.jsx("input",{type:"text",value:r,onChange:O=>s(O.target.value),placeholder:"Ej: Medicamentos",className:"w-full text-lg p-3 bg-gray-50 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),bt.jsxs("div",{className:"mb-6",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Fecha"}),bt.jsx("input",{type:"date",value:l,onChange:O=>c(O.target.value),className:"w-full text-lg p-3 bg-gray-50 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),bt.jsxs("div",{className:"mb-6",children:[bt.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Foto / Recibo (Opcional)"}),p?bt.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:[bt.jsx("img",{src:p,alt:"Preview",className:"w-full h-full object-contain"}),bt.jsx("button",{type:"button",onClick:E,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full shadow-md hover:bg-red-600 transition-colors",children:bt.jsx(B2,{size:20})})]}):bt.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[bt.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[bt.jsx(q3,{className:"w-8 h-8 text-gray-400 mb-2"}),bt.jsx("p",{className:"text-sm text-gray-500",children:"Toca para agregar foto"})]}),bt.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_})]})]}),bt.jsxs("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95 text-lg",children:[bt.jsx(G3,{size:24}),"Agregar Gasto"]})]})},tC={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},eC=(a,t,n)=>{let r;const s=tC[a];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},nC={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},iC={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},rC={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aC={date:Uo({formats:nC,defaultWidth:"full"}),time:Uo({formats:iC,defaultWidth:"full"}),dateTime:Uo({formats:rC,defaultWidth:"full"})},sC={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},oC={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},lC=(a,t,n,r)=>t.getHours()!==1?oC[a]:sC[a],uC={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},cC={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},hC={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},fC={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},dC={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},mC={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},gC=(a,t)=>Number(a)+"",pC={ordinalNumber:gC,era:tr({values:uC,defaultWidth:"wide"}),quarter:tr({values:cC,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:tr({values:hC,defaultWidth:"wide"}),day:tr({values:fC,defaultWidth:"wide"}),dayPeriod:tr({values:dC,defaultWidth:"wide",formattingValues:mC,defaultFormattingWidth:"wide"})},yC=/^(\d+)()?/i,_C=/\d+/i,vC={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},EC={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},TC={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},bC={any:[/1/i,/2/i,/3/i,/4/i]},AC={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},SC={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},wC={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},IC={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},RC={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},DC={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},CC={ordinalNumber:O2({matchPattern:yC,parsePattern:_C,valueCallback:function(a){return parseInt(a,10)}}),era:er({matchPatterns:vC,defaultMatchWidth:"wide",parsePatterns:EC,defaultParseWidth:"any"}),quarter:er({matchPatterns:TC,defaultMatchWidth:"wide",parsePatterns:bC,defaultParseWidth:"any",valueCallback:a=>a+1}),month:er({matchPatterns:AC,defaultMatchWidth:"wide",parsePatterns:SC,defaultParseWidth:"any"}),day:er({matchPatterns:wC,defaultMatchWidth:"wide",parsePatterns:IC,defaultParseWidth:"any"}),dayPeriod:er({matchPatterns:RC,defaultMatchWidth:"any",parsePatterns:DC,defaultParseWidth:"any"})},Ig={code:"es",formatDistance:eC,formatLong:aC,formatRelative:lC,localize:pC,match:CC,options:{weekStartsOn:1,firstWeekContainsDate:1}},xC=({imageId:a,onClose:t})=>{const[n,r]=In.useState(null);return In.useEffect(()=>{let s=!0;return fD(a).then(l=>{s&&l&&r(l)}),()=>{s=!1}},[a]),n?bt.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:t,children:bt.jsxs("div",{className:"relative max-w-full max-h-full",children:[bt.jsx("button",{onClick:t,className:"absolute -top-10 right-0 text-white p-2",children:bt.jsx(B2,{size:30})}),bt.jsx("img",{src:n,alt:"Recibo",className:"max-w-full max-h-[80vh] rounded-lg shadow-2xl"})]})}):null},VC=()=>{const{expenses:a,removeExpense:t}=Pf(),[n,r]=In.useState(null),l=[...a].sort((c,d)=>new Date(d.date)-new Date(c.date)).reduce((c,d)=>{const g=d.date.substring(0,7);return c[g]||(c[g]=[]),c[g].push(d),c},{});return bt.jsxs("div",{className:"space-y-6",children:[Object.keys(l).sort().reverse().map(c=>{const[d,g]=c.split("-"),p=new Date(parseInt(d),parseInt(g)-1),y=ku(p,"MMMM yyyy",{locale:Ig});return bt.jsxs("div",{children:[bt.jsx("h3",{className:"text-gray-500 font-bold mb-3 px-2 sticky top-0 bg-gray-50 py-2 capitalize",children:y}),bt.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:l[c].map(_=>bt.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50 transition-colors",children:[bt.jsxs("div",{className:"flex flex-col",children:[bt.jsx("span",{className:"font-medium text-gray-800 text-lg",children:_.description}),bt.jsx("span",{className:"text-gray-400 text-sm",children:ku(z2(_.date),"dd MMM",{locale:Ig})})]}),bt.jsxs("div",{className:"flex items-center gap-3",children:[_.imageId&&bt.jsx("button",{onClick:()=>r(_.imageId),className:"text-blue-500 hover:text-blue-700 p-2 rounded-full hover:bg-blue-50 transition-colors","aria-label":"Ver recibo",children:bt.jsx(Y3,{size:20})}),bt.jsxs("span",{className:"font-bold text-gray-900 text-lg",children:["$",_.amount.toLocaleString("es-CO")]}),bt.jsx("button",{onClick:()=>t(_.id),className:"text-red-400 hover:text-red-600 p-1.5 rounded-full hover:bg-red-50 transition-colors","aria-label":"Eliminar",children:bt.jsx(X3,{size:20})})]})]},_.id))})]},c)}),a.length===0&&bt.jsx("div",{className:"text-center py-10 text-gray-400",children:bt.jsx("p",{children:"No hay gastos registrados an."})}),n&&bt.jsx(xC,{imageId:n,onClose:()=>r(null)})]})},MC=()=>{const a=Pf(c=>c.expenses),t=new Date,n=bD(t),r=TD(t),s=a.filter(c=>{const d=z2(c.date);return T3(d,{start:n,end:r})}).reduce((c,d)=>c+parseFloat(d.amount||0),0),l=ku(t,"MMMM",{locale:Ig});return bt.jsxs("div",{className:"bg-blue-600 text-white p-6 rounded-2xl shadow-lg mb-6",children:[bt.jsxs("h2",{className:"text-xl opacity-90 capitalize",children:["Gastos de ",l]}),bt.jsxs("p",{className:"text-5xl font-bold mt-2",children:["$",s.toLocaleString("es-CO")]})]})};function NC(){const a=Pf(t=>t.fetchExpenses);return In.useEffect(()=>{a()},[a]),bt.jsx("div",{className:"min-h-screen bg-gray-50 text-gray-900 pb-20",children:bt.jsxs("div",{className:"max-w-md mx-auto p-4",children:[bt.jsxs("header",{className:"flex items-center gap-3 py-6 px-2",children:[bt.jsx("div",{className:"bg-blue-600 p-2 rounded-xl text-white",children:bt.jsx(W3,{size:28})}),bt.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-800",children:"Abuelo Gastos"})]}),bt.jsxs("main",{children:[bt.jsx(MC,{}),bt.jsx($3,{}),bt.jsx(VC,{})]})]})})}RA.createRoot(document.getElementById("root")).render(bt.jsx(In.StrictMode,{children:bt.jsx(NC,{})}));
